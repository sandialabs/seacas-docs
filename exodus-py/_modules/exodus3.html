<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>exodus3 &mdash; Exodus 1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Exodus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Exodus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">exodus3</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for exodus3</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">exodus.py v 1.21.2 (seacas-py3) is a python wrapper of some of the exodus library</span>
<span class="sd">(Python 3 Version)</span>

<span class="sd">Exodus is a common database for multiple application codes (mesh</span>
<span class="sd">generators, analysis codes, visualization software, etc.) affording</span>
<span class="sd">flexibility and robustness for both</span>
<span class="sd">the application code developer and application code user. By using the</span>
<span class="sd">Exodus data model, a user inherits the flexibility of using a large</span>
<span class="sd">array of application codes (including vendor-supplied codes) which</span>
<span class="sd">access this common data file directly or via translators.</span>

<span class="sd">The uses of the Exodus data model include the following:</span>

<span class="sd">* problem definition -- mesh generation, specification</span>
<span class="sd">  of locations of boundary conditions and load application, specification</span>
<span class="sd">  of material types.</span>

<span class="sd">* simulation -- model input and results output.</span>

<span class="sd">* visualization -- model verification, results postprocessing,</span>
<span class="sd">  data interrogation, and analysis tracking.</span>

<span class="sd">The data in Exodus files can be divided into three primary categories:</span>
<span class="sd">initialization data, model data, and results data.</span>

<span class="sd">* Initialization data includes sizing parameters (number of</span>
<span class="sd">  nodes, number of elements, etc.), optional quality assurance</span>
<span class="sd">  information (names of codes that have operated on the data),</span>
<span class="sd">  and optional informational text.</span>

<span class="sd">* The model is described by data which are static (do not change</span>
<span class="sd">  through time). This data includes nodal coordinates, element</span>
<span class="sd">  connectivity (node lists for each element), element attributes,</span>
<span class="sd">  and node sets and side sets (used to aid in applying loading</span>
<span class="sd">  conditions and boundary constraints).</span>

<span class="sd">* The results are optional and include five types of variables -- nodal,</span>
<span class="sd">  element, nodeset, sideset, and global -- each of which is stored</span>
<span class="sd">  through time.</span>

<span class="sd">  * Nodal results are output (at each time step) for all the</span>
<span class="sd">    nodes in the model. An example of a nodal variable is displacement in</span>
<span class="sd">    the X direction. </span>
<span class="sd">  * Element, nodeset, and sideset results are output (at</span>
<span class="sd">    each time step) for all entities (elements, nodes, sides) in one or</span>
<span class="sd">    more entity block. For example, stress may be an element</span>
<span class="sd">    variable. </span>
<span class="sd">  * Another use of element variables is to record element status</span>
<span class="sd">    (a binary flag indicating whether each element is &quot;alive&quot; or &quot;dead&quot;)</span>
<span class="sd">    through time. </span>
<span class="sd">  * Global results are output (at each time step) for a</span>
<span class="sd">    single element or node, or for a single property. Linear momentum of a</span>
<span class="sd">    structure and the acceleration at a particular point are both examples</span>
<span class="sd">    of global variables. </span>
<span class="sd">  * Although these examples correspond to typical FE</span>
<span class="sd">    applications, the data format is flexible enough to accommodate a</span>
<span class="sd">    spectrum of uses.</span>

<span class="sd">Copyright(C) 1999-2023 National Technology &amp; Engineering Solutions</span>
<span class="sd">of Sandia, LLC (NTESS).  Under the terms of Contract DE-NA0003525 with</span>
<span class="sd">NTESS, the U.S. Government retains certain rights in this software.</span>

<span class="sd">See packages/seacas/LICENSE for details</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Python-3 version. If using python-2, try `import exodus2 as exodus`&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">locale</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="n">EXODUS_PY_COPYRIGHT_AND_LICENSE</span> <span class="o">=</span> <span class="vm">__doc__</span>

<span class="n">EXODUS_PY_VERSION</span> <span class="o">=</span> <span class="s2">&quot;1.21.2 (seacas-py3)&quot;</span>

<span class="n">EXODUS_PY_COPYRIGHT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">You are using exodus.py v 1.21.2 (seacas-py3), a python wrapper of some of the exodus library.</span>

<span class="s2">Copyright (c) 2013-2023 National Technology &amp;</span>
<span class="s2">Engineering Solutions of Sandia, LLC (NTESS).  Under the terms of</span>
<span class="s2">Contract DE-NA0003525 with NTESS, the U.S. Government retains certain</span>
<span class="s2">rights in this software.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">EXODUS_PY_CONTACTS</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Authors:</span>
<span class="s2">  Greg Sjaardema   (gdsjaar@sandia.gov)</span>
<span class="s2">  Mario LoPrinzi   (mvlopri@sandia.gov)</span>
<span class="s2">  Timothy Shelton  (trshelt@sandia.gov)</span>
<span class="s2">  Michael Veilleux (mgveill@sandia.gov)</span>
<span class="s2">  David Littlewood (djlittl@sandia.gov)</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># show the banner on first use</span>
<span class="n">SHOW_BANNER</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Documentation is generated on a Mac laptop using:</span>
<span class="c1"># pdoc --force --html ../lib/exodus.py</span>

<span class="n">sys</span><span class="o">.</span><span class="n">dont_write_bytecode</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">ONELINE</span> <span class="o">=</span> <span class="s2">&quot;Gather from or export to Exodus files using the Exodus library&quot;</span>


<div class="viewcode-block" id="basename"><a class="viewcode-back" href="../exodus3.html#exodus3.basename">[docs]</a><span class="k">def</span> <span class="nf">basename</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract base name from file_name.</span>
<span class="sd">    `basename(&quot;test.e&quot;) -&gt; &quot;test&quot;`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">file_name</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="getExodusVersion"><a class="viewcode-back" href="../exodus3.html#exodus3.getExodusVersion">[docs]</a><span class="k">def</span> <span class="nf">getExodusVersion</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parse the exodusII.h header file and return the version number or 0 if not</span>
<span class="sd">    found.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">_parse_exodus_version</span><span class="p">(</span><span class="s1">&#39;#define EXODUS_VERSION       &quot;8.22&quot;&#39;</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_parse_exodus_version</span><span class="p">(</span><span class="n">version_string</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">version_string</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">version_string</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;#define EXODUS_VERSION &quot;</span><span class="p">),</span> <span class="s2">&quot;Received a incorrectly formated verstion string. Please check the CMakeLists.txt&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">version_string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;en_US.utf-8&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">locale</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
    <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="ex_options"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_options">[docs]</a><span class="k">class</span> <span class="nc">ex_options</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `ex_opts()` function codes - codes are OR&#39;ed into exopts</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    EX_DEFAULT</span>
<span class="sd">         Application responsible for calling `ex_err()` to get error and warning messages to output; library is quiet</span>
<span class="sd">    EX_VERBOSE</span>
<span class="sd">         Verbose mode -- output all error and warning messages</span>
<span class="sd">    EX_DEBUG</span>
<span class="sd">         Output Debug messages</span>
<span class="sd">    EX_ABORT</span>
<span class="sd">         If an error is detected, library will abort instead of letting application decide</span>
<span class="sd">    EX_NULLVERBOSE</span>
<span class="sd">         Output error and warning messages for NULL Entity errors and warnings</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">EX_DEFAULT</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">EX_VERBOSE</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">EX_DEBUG</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">EX_ABORT</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">EX_NULLVERBOSE</span> <span class="o">=</span> <span class="mi">8</span></div>


<span class="n">ACCESS</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ACCESS&#39;</span><span class="p">,</span> <span class="s1">&#39;/Users/gdsjaar/src/seacas&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">uname</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Darwin&#39;</span><span class="p">:</span>
    <span class="n">EXODUS_SO</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ACCESS</span><span class="si">}</span><span class="s2">/lib/libexodus.dylib&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">EXODUS_SO</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ACCESS</span><span class="si">}</span><span class="s2">/lib/libexodus.so&quot;</span>
<span class="n">pip_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="n">pip_so_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pip_path</span><span class="p">,</span> <span class="s2">&quot;libexodus.so&quot;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">EXODUS_LIB</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cdll</span><span class="o">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="n">pip_so_path</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="n">EXODUS_LIB</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cdll</span><span class="o">.</span><span class="n">LoadLibrary</span><span class="p">(</span><span class="n">EXODUS_SO</span><span class="p">)</span>

<span class="n">MAX_STR_LENGTH</span> <span class="o">=</span> <span class="mi">32</span>      <span class="c1"># match exodus default</span>
<span class="n">MAX_NAME_LENGTH</span> <span class="o">=</span> <span class="mi">256</span>     <span class="c1"># match exodus default</span>
<span class="n">MAX_LINE_LENGTH</span> <span class="o">=</span> <span class="mi">80</span>      <span class="c1"># match exodus default</span>

<span class="n">EX_API_VERSION_NODOT</span> <span class="o">=</span> <span class="n">getExodusVersion</span><span class="p">()</span>
<span class="n">EX_READ</span> <span class="o">=</span> <span class="mh">0x0002</span> <span class="k">if</span> <span class="n">EX_API_VERSION_NODOT</span> <span class="o">&gt;=</span> <span class="mi">608</span> <span class="k">else</span> <span class="mh">0x0000</span>
<span class="n">EX_WRITE</span> <span class="o">=</span> <span class="mh">0x0001</span>  <span class="c1"># ex_open(): open existing file for appending.</span>
<span class="n">EX_NOCLOBBER</span> <span class="o">=</span> <span class="mh">0x0004</span>  <span class="c1"># does not overwrite existing exodus file</span>
<span class="n">EX_CLOBBER</span> <span class="o">=</span> <span class="mh">0x0008</span>  <span class="c1"># overwrites existing exodus file</span>

<span class="n">EX_NORMAL_MODEL</span> <span class="o">=</span> <span class="mh">0x0010</span>  <span class="c1"># disable mods that permit storage of larger models</span>
<span class="n">EX_64BIT_OFFSET</span> <span class="o">=</span> <span class="mh">0x0020</span>  <span class="c1"># enable mods that permit storage of larger models</span>
<span class="c1"># enable mods that permit storage of larger models</span>
<span class="n">EX_LARGE_MODEL</span> <span class="o">=</span> <span class="n">EX_64BIT_OFFSET</span>
<span class="n">EX_64BIT_DATA</span> <span class="o">=</span> <span class="mh">0x400000</span>  <span class="c1"># CDF-5 format: classic model but 64 bit dimensions and sizes</span>
<span class="n">EX_NETCDF4</span> <span class="o">=</span> <span class="mh">0x0040</span>  <span class="c1"># use the hdf5-based netcdf4 output</span>
<span class="n">EX_NOSHARE</span> <span class="o">=</span> <span class="mh">0x0080</span>  <span class="c1"># Do not open netcdf file in &quot;share&quot; mode</span>
<span class="n">EX_SHARE</span> <span class="o">=</span> <span class="mh">0x0100</span>  <span class="c1"># Do open netcdf file in &quot;share&quot; mode</span>
<span class="n">EX_NOCLASSIC</span> <span class="o">=</span> <span class="mh">0x0200</span>  <span class="c1"># Do not force netcdf to classic mode in netcdf4 mode</span>

<span class="n">EX_DISKLESS</span> <span class="o">=</span> <span class="mh">0x100000</span>  <span class="c1"># Experimental</span>
<span class="n">EX_MMAP</span> <span class="o">=</span> <span class="mh">0x200000</span>  <span class="c1"># Experimental</span>

<span class="c1"># Need to distinguish between storage on database (DB in name) and</span>
<span class="c1"># passed through the API functions (API in name).</span>
<span class="n">EX_MAPS_INT64_DB</span> <span class="o">=</span> <span class="mh">0x0400</span>  <span class="c1"># All maps (id, order, ...) store int64_t values</span>
<span class="c1"># All entity ids (sets, blocks, maps) are int64_t values</span>
<span class="n">EX_IDS_INT64_DB</span> <span class="o">=</span> <span class="mh">0x0800</span>
<span class="c1"># All integer bulk data (local indices, counts, maps); not ids</span>
<span class="n">EX_BULK_INT64_DB</span> <span class="o">=</span> <span class="mh">0x1000</span>
<span class="c1"># All of the above...</span>
<span class="n">EX_ALL_INT64_DB</span> <span class="o">=</span> <span class="n">EX_MAPS_INT64_DB</span> <span class="o">+</span> <span class="n">EX_IDS_INT64_DB</span> <span class="o">+</span> <span class="n">EX_BULK_INT64_DB</span>

<span class="n">EX_MAPS_INT64_API</span> <span class="o">=</span> <span class="mh">0x2000</span>  <span class="c1"># All maps (id, order, ...) store int64_t values</span>
<span class="c1"># All entity ids (sets, blocks, maps) are int64_t values</span>
<span class="n">EX_IDS_INT64_API</span> <span class="o">=</span> <span class="mh">0x4000</span>
<span class="c1"># All integer bulk data (local indices, counts, maps); not ids</span>
<span class="n">EX_BULK_INT64_API</span> <span class="o">=</span> <span class="mh">0x8000</span>
<span class="n">EX_INQ_INT64_API</span> <span class="o">=</span> <span class="mh">0x10000</span>  <span class="c1"># Integers passed to/from ex_inquire are int64_t</span>
<span class="c1"># All of the above...</span>
<span class="n">EX_ALL_INT64_API</span> <span class="o">=</span> <span class="n">EX_MAPS_INT64_API</span> <span class="o">+</span> <span class="n">EX_IDS_INT64_API</span> <span class="o">+</span> \
    <span class="n">EX_BULK_INT64_API</span> <span class="o">+</span> <span class="n">EX_INQ_INT64_API</span>

<span class="c1"># Parallel IO mode flags...</span>
<span class="n">EX_MPIIO</span> <span class="o">=</span> <span class="mh">0x20000</span>
<span class="n">EX_MPIPOSIX</span> <span class="o">=</span> <span class="mh">0x40000</span>  <span class="c1"># \deprecated As of libhdf5 1.8.13.</span>
<span class="n">EX_PNETCDF</span> <span class="o">=</span> <span class="mh">0x80000</span>

<span class="c1"># set exodus error output option</span>
<span class="n">exErrPrintMode</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ex_options</span><span class="o">.</span><span class="n">EX_VERBOSE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_opts</span><span class="p">(</span><span class="n">exErrPrintMode</span><span class="p">)</span>


<div class="viewcode-block" id="ex_inquiry"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_inquiry">[docs]</a><span class="k">class</span> <span class="nc">ex_inquiry</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">EX_INQ_FILE_TYPE</span> <span class="o">=</span> <span class="mi">1</span>                    <span class="c1"># inquire EXODUS file type</span>
    <span class="n">EX_INQ_API_VERS</span> <span class="o">=</span> <span class="mi">2</span>                     <span class="c1"># inquire API version number</span>
    <span class="n">EX_INQ_DB_VERS</span> <span class="o">=</span> <span class="mi">3</span>                      <span class="c1"># inquire database version number</span>
    <span class="n">EX_INQ_TITLE</span> <span class="o">=</span> <span class="mi">4</span>                        <span class="c1"># inquire database title</span>
    <span class="n">EX_INQ_DIM</span> <span class="o">=</span> <span class="mi">5</span>                          <span class="c1"># inquire number of dimensions</span>
    <span class="n">EX_INQ_NODES</span> <span class="o">=</span> <span class="mi">6</span>                        <span class="c1"># inquire number of nodes</span>
    <span class="n">EX_INQ_ELEM</span> <span class="o">=</span> <span class="mi">7</span>                         <span class="c1"># inquire number of elements</span>
    <span class="n">EX_INQ_ELEM_BLK</span> <span class="o">=</span> <span class="mi">8</span>                     <span class="c1"># inquire number of element blocks</span>
    <span class="n">EX_INQ_NODE_SETS</span> <span class="o">=</span> <span class="mi">9</span>                    <span class="c1"># inquire number of node sets</span>
    <span class="n">EX_INQ_NS_NODE_LEN</span> <span class="o">=</span> <span class="mi">10</span>                 <span class="c1"># inquire length of node set node list</span>
    <span class="n">EX_INQ_SIDE_SETS</span> <span class="o">=</span> <span class="mi">11</span>                   <span class="c1"># inquire number of side sets</span>
    <span class="n">EX_INQ_SS_NODE_LEN</span> <span class="o">=</span> <span class="mi">12</span>                 <span class="c1"># inquire length of side set node list</span>
    <span class="n">EX_INQ_SS_ELEM_LEN</span> <span class="o">=</span> <span class="mi">13</span>                 <span class="c1"># inquire length of side set element list</span>
    <span class="n">EX_INQ_QA</span> <span class="o">=</span> <span class="mi">14</span>                          <span class="c1"># inquire number of QA records</span>
    <span class="n">EX_INQ_INFO</span> <span class="o">=</span> <span class="mi">15</span>                        <span class="c1"># inquire number of info records</span>
    <span class="n">EX_INQ_TIME</span> <span class="o">=</span> <span class="mi">16</span>                        <span class="c1"># inquire number of time steps in the database</span>
    <span class="n">EX_INQ_EB_PROP</span> <span class="o">=</span> <span class="mi">17</span>                     <span class="c1"># inquire number of element block properties</span>
    <span class="n">EX_INQ_NS_PROP</span> <span class="o">=</span> <span class="mi">18</span>                     <span class="c1"># inquire number of node set properties</span>
    <span class="n">EX_INQ_SS_PROP</span> <span class="o">=</span> <span class="mi">19</span>                     <span class="c1"># inquire number of side set properties</span>
    <span class="c1"># inquire length of node set distribution factor list</span>
    <span class="n">EX_INQ_NS_DF_LEN</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="c1"># inquire length of side set distribution factor list</span>
    <span class="n">EX_INQ_SS_DF_LEN</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="n">EX_INQ_LIB_VERS</span> <span class="o">=</span> <span class="mi">22</span>                    <span class="c1"># inquire API Lib vers number</span>
    <span class="n">EX_INQ_EM_PROP</span> <span class="o">=</span> <span class="mi">23</span>                     <span class="c1"># inquire number of element map properties</span>
    <span class="n">EX_INQ_NM_PROP</span> <span class="o">=</span> <span class="mi">24</span>                     <span class="c1"># inquire number of node map properties</span>
    <span class="n">EX_INQ_ELEM_MAP</span> <span class="o">=</span> <span class="mi">25</span>                    <span class="c1"># inquire number of element maps</span>
    <span class="n">EX_INQ_NODE_MAP</span> <span class="o">=</span> <span class="mi">26</span>                    <span class="c1"># inquire number of node maps</span>
    <span class="n">EX_INQ_EDGE</span> <span class="o">=</span> <span class="mi">27</span>                        <span class="c1"># inquire number of edges</span>
    <span class="n">EX_INQ_EDGE_BLK</span> <span class="o">=</span> <span class="mi">28</span>                    <span class="c1"># inquire number of edge blocks</span>
    <span class="n">EX_INQ_EDGE_SETS</span> <span class="o">=</span> <span class="mi">29</span>                   <span class="c1"># inquire number of edge sets</span>
    <span class="c1"># inquire length of concat edge set edge list</span>
    <span class="n">EX_INQ_ES_LEN</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="c1"># inquire length of concat edge set dist factor list</span>
    <span class="n">EX_INQ_ES_DF_LEN</span> <span class="o">=</span> <span class="mi">31</span>
    <span class="c1"># inquire number of properties stored per edge block</span>
    <span class="n">EX_INQ_EDGE_PROP</span> <span class="o">=</span> <span class="mi">32</span>
    <span class="c1"># inquire number of properties stored per edge set</span>
    <span class="n">EX_INQ_ES_PROP</span> <span class="o">=</span> <span class="mi">33</span>
    <span class="n">EX_INQ_FACE</span> <span class="o">=</span> <span class="mi">34</span>                        <span class="c1"># inquire number of faces</span>
    <span class="n">EX_INQ_FACE_BLK</span> <span class="o">=</span> <span class="mi">35</span>                    <span class="c1"># inquire number of face blocks</span>
    <span class="n">EX_INQ_FACE_SETS</span> <span class="o">=</span> <span class="mi">36</span>                   <span class="c1"># inquire number of face sets</span>
    <span class="c1"># inquire length of concat face set face list</span>
    <span class="n">EX_INQ_FS_LEN</span> <span class="o">=</span> <span class="mi">37</span>
    <span class="c1"># inquire length of concat face set dist factor list</span>
    <span class="n">EX_INQ_FS_DF_LEN</span> <span class="o">=</span> <span class="mi">38</span>
    <span class="c1"># inquire number of properties stored per face block</span>
    <span class="n">EX_INQ_FACE_PROP</span> <span class="o">=</span> <span class="mi">39</span>
    <span class="c1"># inquire number of properties stored per face set</span>
    <span class="n">EX_INQ_FS_PROP</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">EX_INQ_ELEM_SETS</span> <span class="o">=</span> <span class="mi">41</span>                   <span class="c1"># inquire number of element sets</span>
    <span class="c1"># inquire length of concat element set element list</span>
    <span class="n">EX_INQ_ELS_LEN</span> <span class="o">=</span> <span class="mi">42</span>
    <span class="c1"># inquire length of concat element set dist factor list</span>
    <span class="n">EX_INQ_ELS_DF_LEN</span> <span class="o">=</span> <span class="mi">43</span>
    <span class="c1"># inquire number of properties stored per elem set</span>
    <span class="n">EX_INQ_ELS_PROP</span> <span class="o">=</span> <span class="mi">44</span>
    <span class="n">EX_INQ_EDGE_MAP</span> <span class="o">=</span> <span class="mi">45</span>                    <span class="c1"># inquire number of edge maps</span>
    <span class="n">EX_INQ_FACE_MAP</span> <span class="o">=</span> <span class="mi">46</span>                    <span class="c1"># inquire number of face maps</span>
    <span class="n">EX_INQ_COORD_FRAMES</span> <span class="o">=</span> <span class="mi">47</span>                <span class="c1"># inquire number of coordinate frames</span>
    <span class="c1"># inquire size of MAX_NAME_LENGTH dimension on database</span>
    <span class="n">EX_INQ_DB_MAX_ALLOWED_NAME_LENGTH</span> <span class="o">=</span> <span class="mi">48</span>
    <span class="c1"># inquire size of MAX_NAME_LENGTH dimension on database</span>
    <span class="n">EX_INQ_DB_MAX_USED_NAME_LENGTH</span> <span class="o">=</span> <span class="mi">49</span>
    <span class="c1"># inquire client-specified max size of returned names</span>
    <span class="n">EX_INQ_MAX_READ_NAME_LENGTH</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="c1"># inquire size of floating-point values stored on database</span>
    <span class="n">EX_INQ_DB_FLOAT_SIZE</span> <span class="o">=</span> <span class="mi">51</span>
    <span class="n">EX_INQ_ASSEMBLY</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="n">EX_INQ_BLOB</span> <span class="o">=</span> <span class="mi">61</span>
    <span class="n">EX_INQ_INVALID</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span></div>


<div class="viewcode-block" id="ex_type"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_type">[docs]</a><span class="k">class</span> <span class="nc">ex_type</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">EX_CHAR</span> <span class="o">=</span> <span class="mi">2</span>     <span class="c1"># NC_CHAR (from netcdf.h)</span>
    <span class="n">EX_INTEGER</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># NC_INT (from netcdf.h)</span>
    <span class="n">EX_DOUBLE</span> <span class="o">=</span> <span class="mi">6</span>   <span class="c1"># NC_DOUBLE (from netcdf.h)</span>
    <span class="n">EX_INVALID</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span></div>


<div class="viewcode-block" id="ex_type_map"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_type_map">[docs]</a><span class="k">def</span> <span class="nf">ex_type_map</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Map the exodus inquiry flags to an enum value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ex_type</span><span class="p">[</span><span class="nb">type</span><span class="p">]</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ex_inquiry_map"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_inquiry_map">[docs]</a><span class="k">def</span> <span class="nf">ex_inquiry_map</span><span class="p">(</span><span class="n">inquiry</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Map the exodus inquiry flags to an enum value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">ex_inquiry</span><span class="p">[</span><span class="n">inquiry</span><span class="p">]</span><span class="o">.</span><span class="n">value</span></div>


<div class="viewcode-block" id="ex_obj_to_inq"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_obj_to_inq">[docs]</a><span class="k">def</span> <span class="nf">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the ex_inquiry string corresponding to the specified objType.</span>
<span class="sd">    This can be passed to the ex_inquiry_map() function to get the number of</span>
<span class="sd">    objects of the specified objType</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">entity_dictionary</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;EX_ASSEMBLY&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_ASSEMBLY&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_BLOB&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_BLOB&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_EDGE_BLOCK&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_EDGE_BLK&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_FACE_BLOCK&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_FACE_BLK&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_ELEM_BLK&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_NODE_SETS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_EDGE_SET&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_EDGE_SETS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_FACE_SET&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_FACE_SETS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_ELEM_SET&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_ELEM_SETS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_SIDE_SETS&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_NODE_MAP&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_NODES&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_EDGE_MAP&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_EDGE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_FACE_MAP&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_FACE&#39;</span><span class="p">,</span>
        <span class="s1">&#39;EX_ELEM_MAP&#39;</span><span class="p">:</span> <span class="s1">&#39;EX_INQ_ELEM&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">entity_dictionary</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ex_entity_type_to_objType"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_entity_type_to_objType">[docs]</a><span class="k">def</span> <span class="nf">ex_entity_type_to_objType</span><span class="p">(</span><span class="n">entity_type</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">entity_dictionary</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ASSEMBLY&#39;</span><span class="p">):</span> <span class="s2">&quot;assembly&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_BLOB&#39;</span><span class="p">):</span> <span class="s2">&quot;blob&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_EDGE_BLOCK&#39;</span><span class="p">):</span> <span class="s2">&quot;edge block&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_FACE_BLOCK&#39;</span><span class="p">):</span> <span class="s2">&quot;face block&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">):</span> <span class="s2">&quot;element block&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">):</span> <span class="s2">&quot;node set&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_EDGE_SET&#39;</span><span class="p">):</span> <span class="s2">&quot;edge set&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_FACE_SET&#39;</span><span class="p">):</span> <span class="s2">&quot;face set&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_SET&#39;</span><span class="p">):</span> <span class="s2">&quot;element set&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">):</span> <span class="s2">&quot;side set&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_NODE_MAP&#39;</span><span class="p">):</span> <span class="s2">&quot;node map&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_EDGE_MAP&#39;</span><span class="p">):</span> <span class="s2">&quot;edge map&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_FACE_MAP&#39;</span><span class="p">):</span> <span class="s2">&quot;face map&quot;</span><span class="p">,</span>
        <span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_MAP&#39;</span><span class="p">):</span> <span class="s2">&quot;element map&quot;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">entity_dictionary</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="s1">&#39;EX_INVALID&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="ex_entity_type"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_entity_type">[docs]</a><span class="k">class</span> <span class="nc">ex_entity_type</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The ex_entity_type enum from the exodusII.h include file</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    EX_NODAL</span>
<span class="sd">         nodal \&quot;block\&quot; for variables</span>
<span class="sd">    EX_NODE_BLOCK</span>
<span class="sd">         alias for EX_NODAL</span>
<span class="sd">    EX_NODE_SET</span>
<span class="sd">         node set property code</span>
<span class="sd">    EX_EDGE_BLOCK</span>
<span class="sd">         edge block property code</span>
<span class="sd">    EX_EDGE_SET</span>
<span class="sd">         edge set property code</span>
<span class="sd">    EX_FACE_BLOCK</span>
<span class="sd">         face block property code</span>
<span class="sd">    EX_FACE_SET</span>
<span class="sd">         face set property code</span>
<span class="sd">    EX_ELEM_BLOCK</span>
<span class="sd">         element block property code</span>
<span class="sd">    EX_ELEM_SET</span>
<span class="sd">         face set property code</span>
<span class="sd">    EX_SIDE_SET</span>
<span class="sd">         side set property code</span>
<span class="sd">    EX_ELEM_MAP</span>
<span class="sd">         element map property code</span>
<span class="sd">    EX_NODE_MAP</span>
<span class="sd">         node map property code</span>
<span class="sd">    EX_EDGE_MAP</span>
<span class="sd">         edge map property code</span>
<span class="sd">    EX_FACE_MAP</span>
<span class="sd">         face map property code</span>
<span class="sd">    EX_GLOBAL</span>
<span class="sd">         global \&quot;block\&quot; for variables</span>
<span class="sd">    EX_COORDINATE</span>
<span class="sd">         kluge so some internal wrapper functions work</span>
<span class="sd">    EX_ASSEMBLY</span>
<span class="sd">         assemblies (collections of other entities)</span>
<span class="sd">    EX_BLOB</span>
<span class="sd">         blob (arbitrary sized binary object)</span>
<span class="sd">    EX_INVALID</span>
<span class="sd">         invalid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">EX_NODAL</span> <span class="o">=</span> <span class="mi">14</span>
    <span class="n">EX_NODE_BLOCK</span> <span class="o">=</span> <span class="mi">14</span>
    <span class="n">EX_NODE_SET</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">EX_EDGE_BLOCK</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">EX_EDGE_SET</span> <span class="o">=</span> <span class="mi">7</span>
    <span class="n">EX_FACE_BLOCK</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">EX_FACE_SET</span> <span class="o">=</span> <span class="mi">9</span>
    <span class="n">EX_ELEM_BLOCK</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">EX_ELEM_SET</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">EX_SIDE_SET</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">EX_ELEM_MAP</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">EX_NODE_MAP</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">EX_EDGE_MAP</span> <span class="o">=</span> <span class="mi">11</span>
    <span class="n">EX_FACE_MAP</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">EX_GLOBAL</span> <span class="o">=</span> <span class="mi">13</span>
    <span class="n">EX_COORDINATE</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="n">EX_ASSEMBLY</span> <span class="o">=</span> <span class="mi">16</span>
    <span class="n">EX_BLOB</span> <span class="o">=</span> <span class="mi">17</span>
    <span class="n">EX_INVALID</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span></div>


<div class="viewcode-block" id="get_entity_type"><a class="viewcode-back" href="../exodus3.html#exodus3.get_entity_type">[docs]</a><span class="k">def</span> <span class="nf">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Map the exodus ex_entity_type flags to an integer value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ex_entity_type</span><span class="p">[</span><span class="n">varType</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">varType</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">varType</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span> <span class="k">else</span> <span class="n">varType</span><span class="o">.</span><span class="n">value</span></div>


<span class="c1"># init params struct</span>
<div class="viewcode-block" id="ex_init_params"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_init_params">[docs]</a><span class="k">class</span> <span class="nc">ex_init_params</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters defining the model dimension, note that many are optional.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    num_dim : int</span>
<span class="sd">        number of model dimensions</span>
<span class="sd">    num_nodes : int</span>
<span class="sd">        number of model nodes</span>
<span class="sd">    num_edge : int</span>
<span class="sd">        number of model edges</span>
<span class="sd">    num_edge_blk : int</span>
<span class="sd">        number of model edge blocks</span>
<span class="sd">    num_face : int</span>
<span class="sd">        number of model faces</span>
<span class="sd">    num_face_blk : int</span>
<span class="sd">        number of model face blocks</span>
<span class="sd">    num_elem : int</span>
<span class="sd">        number of model elements</span>
<span class="sd">    num_elem_blk : int</span>
<span class="sd">        number of model element blocks</span>
<span class="sd">    num_node_sets : int</span>
<span class="sd">        number of model node sets</span>
<span class="sd">    num_edge_sets : int</span>
<span class="sd">        number of model edge sets</span>
<span class="sd">    num_face_sets : int</span>
<span class="sd">        number of model face sets</span>
<span class="sd">    num_side_sets : int</span>
<span class="sd">        number of model side sets</span>
<span class="sd">    num_elem_sets : int</span>
<span class="sd">        number of model elem sets</span>
<span class="sd">    num_node_maps : int</span>
<span class="sd">        number of model node maps</span>
<span class="sd">    num_edge_maps : int</span>
<span class="sd">        number of model edge maps</span>
<span class="sd">    num_face_maps : int</span>
<span class="sd">        number of model face maps</span>
<span class="sd">    num_elem_maps : int</span>
<span class="sd">        number of model elem maps</span>
<span class="sd">    num_assembly : int</span>
<span class="sd">        number of assemblies</span>
<span class="sd">    num_blob : int</span>
<span class="sd">        number of blobs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)),</span>
                <span class="p">(</span><span class="s2">&quot;num_dim&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_nodes&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_edge&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_edge_blk&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_face&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_face_blk&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_elem&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_elem_blk&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_node_sets&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_edge_sets&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_face_sets&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_side_sets&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_elem_sets&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_node_maps&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_edge_maps&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_face_maps&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_elem_maps&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_assembly&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_blob&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">)]</span></div>


<div class="viewcode-block" id="assembly"><a class="viewcode-back" href="../exodus3.html#exodus3.assembly">[docs]</a><span class="k">class</span> <span class="nc">assembly</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="n">ex_entity_type</span><span class="p">[</span><span class="nb">type</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">ex_entity_type</span><span class="p">):</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entity_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;assembly(name=</span><span class="si">%r</span><span class="s2">, type=</span><span class="si">%r</span><span class="s2">, id=</span><span class="si">%r</span><span class="s2">, members=</span><span class="si">%r</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entity_list</span><span class="p">)</span></div>


<div class="viewcode-block" id="ex_assembly"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_assembly">[docs]</a><span class="k">class</span> <span class="nc">ex_assembly</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Structure defining the assembly parameters.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : int64_t</span>
<span class="sd">    name : char *</span>
<span class="sd">    type : ex_entity_type</span>
<span class="sd">    entity_count : int</span>
<span class="sd">    entity_list : void_int *</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;entity_count&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;entity_list&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">))]</span></div>


<div class="viewcode-block" id="setup_ex_assembly"><a class="viewcode-back" href="../exodus3.html#exodus3.setup_ex_assembly">[docs]</a><span class="k">def</span> <span class="nf">setup_ex_assembly</span><span class="p">(</span><span class="n">assembly</span><span class="p">):</span>
    <span class="n">ctype_assem</span> <span class="o">=</span> <span class="n">ex_assembly</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">assembly</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">assembly</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span> <span class="nb">type</span><span class="o">=</span><span class="n">assembly</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
    <span class="n">ctype_assem</span><span class="o">.</span><span class="n">entity_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">assembly</span><span class="o">.</span><span class="n">entity_list</span><span class="p">)</span>
    <span class="n">ctype_assem</span><span class="o">.</span><span class="n">entity_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">ctype_assem</span><span class="o">.</span><span class="n">entity_count</span><span class="p">)(</span><span class="o">*</span><span class="n">assembly</span><span class="o">.</span><span class="n">entity_list</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ctype_assem</span></div>


<div class="viewcode-block" id="blob"><a class="viewcode-back" href="../exodus3.html#exodus3.blob">[docs]</a><span class="k">class</span> <span class="nc">blob</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">num_entry</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_entry</span> <span class="o">=</span> <span class="n">num_entry</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;blob(name=</span><span class="si">%r</span><span class="s2">, id=</span><span class="si">%r</span><span class="s2">, num_entry=</span><span class="si">%r</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_entry</span><span class="p">)</span></div>


<div class="viewcode-block" id="ex_blob"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_blob">[docs]</a><span class="k">class</span> <span class="nc">ex_blob</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Structure defining the blob parameters.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    id : int64_t</span>
<span class="sd">    name : char *</span>
<span class="sd">    num_entry : int64_t</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;num_entry&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">)]</span></div>


<div class="viewcode-block" id="attribute"><a class="viewcode-back" href="../exodus3.html#exodus3.attribute">[docs]</a><span class="k">class</span> <span class="nc">attribute</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="n">ex_entity_type</span><span class="p">[</span><span class="nb">type</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="n">ex_entity_type</span><span class="p">):</span>
            <span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entity_type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;attribute(name=</span><span class="si">%r</span><span class="s2">, entity_type=</span><span class="si">%r</span><span class="s2">, entity_id=</span><span class="si">%r</span><span class="s2">, values=</span><span class="si">%r</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entity_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">entity_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">)</span></div>


<div class="viewcode-block" id="ex_attribute"><a class="viewcode-back" href="../exodus3.html#exodus3.ex_attribute">[docs]</a><span class="k">class</span> <span class="nc">ex_attribute</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Used for accessing underlying exodus library...</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    entity_type : ex_entity_type</span>
<span class="sd">    entity_id : int64_t</span>
<span class="sd">    name : char[257]</span>
<span class="sd">    type : ex_type</span>
<span class="sd">    value_count : int</span>
<span class="sd">    values : void*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;entity_type&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;entity_id&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="mi">257</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;value_count&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">)]</span></div>


<div class="viewcode-block" id="exodus"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus">[docs]</a><span class="k">class</span> <span class="nc">exodus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The exodus model abstraction</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#</span>
    <span class="c1"># construction of a new exodus object</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="s1">&#39;ctype&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">numDims</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numNodes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numElems</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numBlocks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">numNodeSets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numSideSets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">numAssembly</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">numBlob</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">init_params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">io_size</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open exodus database for data insertion/extraction.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_name : string</span>
<span class="sd">           name of exodus file to open</span>
<span class="sd">        mode : string</span>
<span class="sd">          &#39;r&#39; for read, &#39;a&#39; for append, &#39;w&#39; for write, &#39;w+&#39; for write+clobber existing file</span>
<span class="sd">        title : string</span>
<span class="sd">           database title</span>
<span class="sd">        array_type : string</span>
<span class="sd">           &#39;ctype&#39; for c-type arrays, &#39;numpy&#39; for numpy arrays</span>
<span class="sd">        num_dims : int</span>
<span class="sd">           number of model dimensions (&#39;w&#39;/&#39;w+&#39; mode only)</span>
<span class="sd">        num_nodes : int</span>
<span class="sd">           number of model nodes (&#39;w&#39;/&#39;w+&#39; mode only)</span>
<span class="sd">        num_elems : int</span>
<span class="sd">           number of model elements (&#39;w&#39;/&#39;w+&#39; mode only)</span>
<span class="sd">        num_blocks : int</span>
<span class="sd">           number of model element blocks (&#39;w&#39;/&#39;w+&#39; mode only)</span>
<span class="sd">        num_ns : int</span>
<span class="sd">           number of model node sets (&#39;w&#39;/&#39;w+&#39; mode only)</span>
<span class="sd">        num_ss : int</span>
<span class="sd">           number of model side sets (&#39;w&#39;/&#39;w+&#39; mode only)</span>

<span class="sd">        init_params : ex_init_params</span>
<span class="sd">           see `exodus.ex_init_params` for more info.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        exo : exodus object</span>
<span class="sd">            the open exodus database</span>


<span class="sd">        &gt;&gt;&gt; ex_pars = ex_init_params(num_dim=numDims, num_nodes=numNodes,</span>
<span class="sd">        ...                          num_elem=numElems, num_elem_blk=numElemBlocks, num_assembly=numAssembly)</span>
<span class="sd">        &gt;&gt;&gt; exo = exodus(file_name, mode=mode, title=title,</span>
<span class="sd">        ...             array_type=array_type, init_params=ex_pars)</span>
<span class="sd">        &gt;&gt;&gt; with exodus(file_name, mode=mode, title=title,\</span>
<span class="sd">        ...             array_type=array_type, init_params=ex_pars) as exo:</span>
<span class="sd">        ...     pass</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">global</span> <span class="n">SHOW_BANNER</span>
        <span class="k">if</span> <span class="n">SHOW_BANNER</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">EXODUS_PY_COPYRIGHT</span><span class="p">)</span>
            <span class="n">SHOW_BANNER</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>

        <span class="k">if</span> <span class="n">array_type</span> <span class="o">==</span> <span class="s1">&#39;numpy&#39;</span><span class="p">:</span>
            <span class="c1"># Import numpy to convert from c-type arrays to numpy arrays</span>
            <span class="c1"># (Numpy is imported here rather than at the module level, so that</span>
            <span class="c1"># the import only occurs if the user specifies a numpy array type.</span>
            <span class="c1"># This way, platforms without numpy installed can still import the</span>
            <span class="c1"># exodus.py module and just use ctype arrays.)</span>
            <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># Warnings module is needed to suppress the invalid warning when</span>
            <span class="c1"># converting from c-type arrays to numpy arrays</span>
            <span class="c1"># http://stackoverflow.com/questions/4964101/pep-3118-warning-when-using-ctypes-array-as-numpy-array</span>
            <span class="kn">import</span> <span class="nn">warnings</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">warnings</span> <span class="o">=</span> <span class="n">warnings</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">EXODUS_LIB</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">basename</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__open</span><span class="p">(</span><span class="n">io_size</span><span class="o">=</span><span class="n">io_size</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_set_max_name_length</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">MAX_NAME_LENGTH</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;w+&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">init_params</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">init_params</span> <span class="o">=</span> <span class="n">init_params</span>
                <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">init_params</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">put_info_ext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">init_params</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">numNodeSets</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">numNodeSets</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">numSideSets</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">numSideSets</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">numNodes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">numNodes</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">numElems</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">numElems</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">numBlocks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">numBlocks</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="n">info</span> <span class="o">=</span> <span class="p">[</span><span class="n">title</span><span class="p">,</span> <span class="n">numDims</span><span class="p">,</span> <span class="n">numNodes</span><span class="p">,</span> <span class="n">numElems</span><span class="p">,</span> <span class="n">numBlocks</span><span class="p">,</span>
                        <span class="n">numNodeSets</span><span class="p">,</span> <span class="n">numSideSets</span><span class="p">]</span>
                <span class="k">if</span> <span class="kc">None</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_info</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span>
                    <span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_TIME&#39;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">traceback</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

<div class="viewcode-block" id="exodus.summarize"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.summarize">[docs]</a>    <span class="k">def</span> <span class="nf">summarize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Outputs a summary of the exodus file data. Output is similar to::</span>

<span class="sd">           Database: base_ioshell_copy.e</span>
<span class="sd">           Title:  This is the title</span>
<span class="sd">        </span>
<span class="sd">           Number of spatial dimensions = 3                                                 Number of global variables     = 10</span>
<span class="sd">           Number of node blocks        = 1         Number of nodes              = 1,331    Number of nodal variables      =  2</span>
<span class="sd">           Number of element blocks     = 1         Number of elements           = 1,000    Number of element variables    =  5</span>
<span class="sd">           Number of node sets          = 3         Length of node list          =   363    Number of nodeset variables    =  4</span>
<span class="sd">           Number of element side sets  = 3         Length of element sides      =   300    Number of sideset variables    =  3</span>
<span class="sd">           Number of assemblies         = 4                                                 Number of assembly variables   = 10</span>
<span class="sd">           Number of blobs              = 0                                                 Number of blob     variables   =  0</span>
<span class="sd">           Number of time steps         = 5</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">sidesets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="n">total_sides</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_faces_in_side_set</span><span class="p">(</span><span class="n">sideset</span><span class="p">)</span> <span class="k">for</span> <span class="n">sideset</span> <span class="ow">in</span> <span class="n">sidesets</span><span class="p">)</span>
        <span class="n">nodesets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="n">total_ns_nodes</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_nodes_in_node_set</span><span class="p">(</span><span class="n">nodeset</span><span class="p">)</span> <span class="k">for</span> <span class="n">nodeset</span> <span class="ow">in</span> <span class="n">nodesets</span><span class="p">)</span>

        <span class="n">num_glo_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">num_nod_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
        <span class="n">num_ele_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span>
        <span class="n">num_ns_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="n">num_ss_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="n">num_assem_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_reduction_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_ASSEMBLY&#39;</span><span class="p">)</span>
        <span class="n">num_blob_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_reduction_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_BLOB&#39;</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Database: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Title:</span><span class="se">\t</span><span class="si">{17}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of spatial dimensions = </span><span class="si">{1:3d}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot;                                   </span><span class="si">{2:11s}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of global variables     = </span><span class="si">{11:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of node blocks        = </span><span class="si">{5:3d}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of nodes              = </span><span class="si">{3:10n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of nodal variables      = </span><span class="si">{12:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of element blocks     = </span><span class="si">{6:3n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of elements           = </span><span class="si">{4:10n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of element variables    = </span><span class="si">{13:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of node sets          = </span><span class="si">{7:3n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Length of node list          = </span><span class="si">{9:10n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of nodeset variables    = </span><span class="si">{14:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of element side sets  = </span><span class="si">{8:3n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Length of element sides      = </span><span class="si">{10:10n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of sideset variables    = </span><span class="si">{15:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of assemblies         = </span><span class="si">{18:3n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot;                                   </span><span class="si">{2:11s}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of assembly red vars    = </span><span class="si">{19:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of blobs              = </span><span class="si">{20:3n}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot;                                   </span><span class="si">{2:11s}</span><span class="se">\t</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of blob red vars        = </span><span class="si">{21:6d}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="s2">&quot; Number of time steps         = </span><span class="si">{16:3n}</span><span class="se">\n</span><span class="s2">&quot;</span>
              <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_dimensions</span><span class="p">(),</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">(),</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_elems</span><span class="p">(),</span>
                      <span class="mi">1</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_blks</span><span class="p">(),</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_node_sets</span><span class="p">(),</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_side_sets</span><span class="p">(),</span>
                      <span class="n">total_ns_nodes</span><span class="p">,</span> <span class="n">total_sides</span><span class="p">,</span>
                      <span class="n">num_glo_vars</span><span class="p">,</span> <span class="n">num_nod_vars</span><span class="p">,</span> <span class="n">num_ele_vars</span><span class="p">,</span>
                      <span class="n">num_ns_vars</span><span class="p">,</span> <span class="n">num_ss_vars</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_times</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_assembly</span><span class="p">(),</span> <span class="n">num_assem_vars</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">num_blob</span><span class="p">(),</span> <span class="n">num_blob_vars</span><span class="p">))</span></div>

<div class="viewcode-block" id="exodus.put_info_ext"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_info_ext">[docs]</a>    <span class="k">def</span> <span class="nf">put_info_ext</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put initialization information into exodus file</span>

<span class="sd">        &gt;&gt;&gt; e.put_info_ext(info_struct)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">title</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">MAX_LINE_LENGTH</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: Exodus title </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> exceeds maximum line length (</span><span class="si">{</span><span class="n">MAX_LINE_LENGTH</span><span class="si">}</span><span class="s1">). It will be truncated.&#39;</span><span class="p">)</span>

            <span class="n">p</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">title</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">MAX_LINE_LENGTH</span><span class="p">:]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Title</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_elem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_elem_blk</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_node_sets</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_side_sets</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numAssembly</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">num_assembly</span><span class="p">)</span>

        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_init_ext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="exodus.copy"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.copy">[docs]</a>    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="n">include_transient</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Copies exodus database to file_name and returns an opened copy as a</span>
<span class="sd">        new exodus object. This object will need to be closed when it is done</span>
<span class="sd">        being used.</span>

<span class="sd">        &gt;&gt;&gt; exo_copy = exo.copy(file_name)</span>
<span class="sd">        &gt;&gt;&gt; exo_copy.close()</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_name : str</span>
<span class="sd">            name of exodus file to open</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        exo_copy : exodus object opened in append mode by default</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i64Status</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span>
        <span class="n">fileId</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_create_int</span><span class="p">(</span><span class="n">fileName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">EX_NOCLOBBER</span> <span class="o">|</span> <span class="n">i64Status</span><span class="p">,</span>
                                          <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comp_ws</span><span class="p">),</span>
                                          <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_ws</span><span class="p">),</span>
                                          <span class="n">EX_API_VERSION_NODOT</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="n">fileId</span><span class="p">,</span> <span class="n">include_transient</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_close</span><span class="p">(</span><span class="n">fileId</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">exodus</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.copy_file"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.copy_file">[docs]</a>    <span class="k">def</span> <span class="nf">copy_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_id</span><span class="p">,</span> <span class="n">include_transient</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Copies exodus database to the database pointed to by `fileId`</span>
<span class="sd">        Returns the passed in `file_id`.</span>

<span class="sd">        &gt;&gt;&gt; with exodus.exodus(file_name, mode=&#39;w&#39;) as exofile:</span>
<span class="sd">        &gt;&gt;&gt;     with exo.copy_file(exofile.fileId, include_transient=True) as exo_copy:</span>
<span class="sd">        &gt;&gt;&gt;         exo_copy.close()</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        fileId : str</span>
<span class="sd">            name of exodus file to open</span>
<span class="sd">        include_transient: bool</span>
<span class="sd">            should the transient data in the original file also be copied to the output file</span>
<span class="sd">            or just the mesh (non-transient) portion.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        file_id: The file_id of the copied to file</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">file_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">include_transient</span><span class="p">:</span>
            <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_copy_transient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">file_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">file_id</span></div>

<div class="viewcode-block" id="exodus.title"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.title">[docs]</a>    <span class="k">def</span> <span class="nf">title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the database title</span>

<span class="sd">        &gt;&gt;&gt; title = exo.title()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        title : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Title</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.version_num"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.version_num">[docs]</a>    <span class="k">def</span> <span class="nf">version_num</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get exodus version number used to create the database</span>

<span class="sd">        &gt;&gt;&gt; version = exo.version_num()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        version : string</span>
<span class="sd">            representation of version number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%1.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="exodus.put_info"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_info">[docs]</a>    <span class="k">def</span> <span class="nf">put_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Title</span><span class="p">,</span> <span class="n">numDim</span><span class="p">,</span> <span class="n">numNodes</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">numElemBlk</span><span class="p">,</span>
                 <span class="n">numNodeSets</span><span class="p">,</span> <span class="n">numSideSets</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize static metadata for the database.</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_info(title, num_dims, num_nodes, num_elems,</span>
<span class="sd">        ...                      num_blocks, num_ns, num_ss)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        title : string</span>
<span class="sd">            database title</span>
<span class="sd">        num_dims : int</span>
<span class="sd">            number of model dimensions</span>
<span class="sd">        num_nodes : int</span>
<span class="sd">            number of model nodes</span>
<span class="sd">        num_elems : int</span>
<span class="sd">            number of model elements</span>
<span class="sd">        num_blocks : int</span>
<span class="sd">            number of model element blocks</span>
<span class="sd">        num_ns : int</span>
<span class="sd">            number of model node sets</span>
<span class="sd">        num_ss : int</span>
<span class="sd">            number of model side sets</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_info</span><span class="p">([</span><span class="n">Title</span><span class="p">,</span> <span class="n">numDim</span><span class="p">,</span> <span class="n">numNodes</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span>
                            <span class="n">numElemBlk</span><span class="p">,</span> <span class="n">numNodeSets</span><span class="p">,</span> <span class="n">numSideSets</span><span class="p">])</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="exodus.inquire"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.inquire">[docs]</a>    <span class="k">def</span> <span class="nf">inquire</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inquiry</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inquire about various properties of the database</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        inq_res : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">inquiry</span><span class="p">))</span></div>

<div class="viewcode-block" id="exodus.num_qa_records"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_qa_records">[docs]</a>    <span class="k">def</span> <span class="nf">num_qa_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of qa records</span>

<span class="sd">        &gt;&gt;&gt; num_qa_recs = exo.num_qa_records()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_qa_recs : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_QA&#39;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="exodus.get_qa_records"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_qa_records">[docs]</a>    <span class="k">def</span> <span class="nf">get_qa_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list of QA records where each QA record is a length-4 tuple of strings:</span>
<span class="sd">          1. the software name that accessed/modified the database</span>
<span class="sd">          2. the software descriptor, e.g. version</span>
<span class="sd">          3. additional software data</span>
<span class="sd">          4. time stamp</span>

<span class="sd">        &gt;&gt;&gt; qa_recs = exo.get_qa_records()</span>


<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        qa_recs : list&lt;tuple[4]&lt;string&gt;&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_qa</span><span class="p">()</span></div>

<div class="viewcode-block" id="exodus.put_qa_records"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_qa_records">[docs]</a>    <span class="k">def</span> <span class="nf">put_qa_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">records</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of QA records where each QA record is a length-4 tuple of strings:</span>
<span class="sd">          1. the software name that accessed/modified the database</span>
<span class="sd">          2. the software descriptor, e.g. version</span>
<span class="sd">          3. additional software data</span>
<span class="sd">          4. time stamp</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_qa_records()</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        qa_recs : list&lt;tuple[4]&lt;string&gt;&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        ------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
            <span class="k">for</span> <span class="n">recEntry</span> <span class="ow">in</span> <span class="n">rec</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">recEntry</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span> <span class="o">&lt;</span> <span class="n">MAX_STR_LENGTH</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_qa</span><span class="p">(</span><span class="n">records</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.num_info_records"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_info_records">[docs]</a>    <span class="k">def</span> <span class="nf">num_info_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of info records</span>

<span class="sd">        &gt;&gt;&gt; num_info_recs = exo.num_info_records()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_info_recs : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_INFO&#39;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="exodus.get_info_records"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_info_records">[docs]</a>    <span class="k">def</span> <span class="nf">get_info_records</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list info records where each entry in the list is one info</span>
<span class="sd">        record, e.g. a line of an input deck</span>

<span class="sd">        &gt;&gt;&gt; info_recs = exo.get_info_records()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        info_recs : list&lt;string&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_info_recs</span><span class="p">()</span></div>

<div class="viewcode-block" id="exodus.put_info_records"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_info_records">[docs]</a>    <span class="k">def</span> <span class="nf">put_info_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of info records where each entry in the list is</span>
<span class="sd">        one line of info, e.g. a line of an input deck</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_info_records(info)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        info_recs : list&lt;tuple[4]&lt;string&gt;&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">info</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">MAX_LINE_LENGTH</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: max line length reached for one or more info records;&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="s2">&quot;         info stored to exodus file is incomplete for these records&quot;</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_info_recs</span><span class="p">(</span><span class="n">info</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_sierra_input"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_sierra_input">[docs]</a>    <span class="k">def</span> <span class="nf">get_sierra_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inpFileName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse sierra input deck from the info records if inp_file_name</span>
<span class="sd">        is passed the deck is written to this file; otherwise a list</span>
<span class="sd">        of input deck file lines is returned</span>

<span class="sd">        &gt;&gt;&gt; inp = exo.get_sierra_input(inpFileName=inp_file_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        inp_file_name : string, optional</span>
<span class="sd">           Name of text file where info records corresponding to the Sierra input deck will be written</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        inp : list&lt;string&gt;</span>
<span class="sd">           lines if inp_file_name not provided; otherwise, an empty list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">info_recs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_info_recs</span><span class="p">()</span>
        <span class="n">sierra_inp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">begin</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">info_recs</span><span class="p">:</span>
            <span class="n">vals</span> <span class="o">=</span> <span class="n">rec</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">begin</span><span class="p">:</span>  <span class="c1"># have not reached Sierra block</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;begin&quot;</span> <span class="ow">and</span> <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sierra&quot;</span><span class="p">:</span>
                    <span class="n">begin</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">begin</span><span class="p">:</span>  <span class="c1"># inside Sierra block</span>
                <span class="n">sierra_inp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">MAX_LINE_LENGTH</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span>
                        <span class="s2">&quot;WARNING: max line length reached for one or more input lines;&quot;</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;         input data might be incomplete for these lines&quot;</span><span class="p">)</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;end&quot;</span> <span class="ow">and</span> <span class="n">vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;sierra&quot;</span><span class="p">:</span>
                    <span class="k">break</span>  <span class="c1"># end of Sierra block</span>

        <span class="k">if</span> <span class="n">inpFileName</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">inpFileName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">fileLine</span> <span class="ow">in</span> <span class="n">sierra_inp</span><span class="p">:</span>
                    <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fileLine</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="k">return</span> <span class="n">sierra_inp</span></div>

    <span class="c1">#</span>
    <span class="c1"># time steps</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_times"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_times">[docs]</a>    <span class="k">def</span> <span class="nf">num_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of time steps</span>

<span class="sd">        &gt;&gt;&gt; num_times = exo.num_times()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_times : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_times"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_times">[docs]</a>    <span class="k">def</span> <span class="nf">get_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the time values</span>

<span class="sd">        &gt;&gt;&gt; time_vals = exo.get_times()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            if array_type == &#39;ctype&#39; :</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  time_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39; :</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  time_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_all_times</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_time"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_time">[docs]</a>    <span class="k">def</span> <span class="nf">put_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a new time</span>

<span class="sd">        &gt;&gt;&gt; exo.put_time(time_step, time_val)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        time_step : int</span>
<span class="sd">            time step index (1-based)</span>
<span class="sd">        time_val : float</span>
<span class="sd">            time value for this step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_time</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_TIME&#39;</span><span class="p">)))</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1">#</span>
    <span class="c1"># coordinate system</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_dimensions"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_dimensions">[docs]</a>    <span class="k">def</span> <span class="nf">num_dimensions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of model spatial dimensions</span>

<span class="sd">        &gt;&gt;&gt; num_dims = exo.num_dimensions()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_dims : &lt;int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_coord_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_coord_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_coord_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list of length exo.num_dimensions() that has the name</span>
<span class="sd">        of each model coordinate direction, e.g. [&#39;x&#39;, &#39;y&#39;, &#39;z&#39;]</span>

<span class="sd">        &gt;&gt;&gt; coord_names = exo.get_coord_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            list&lt;string&gt;  coord_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_coord_names</span><span class="p">()</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_coord_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_coord_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_coord_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of length exo.num_dimensions() that has the name</span>
<span class="sd">        of each model coordinate direction, e.g. [&#39;x&#39;, &#39;y&#39;, &#39;z&#39;]</span>

<span class="sd">        &gt;&gt;&gt; exo.put_coord_names()</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        coord_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_coord_names</span><span class="p">(</span><span class="n">names</span><span class="p">)</span></div>

    <span class="c1">#</span>
    <span class="c1"># nodes</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_nodes"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">num_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of nodes in the model</span>

<span class="sd">        &gt;&gt;&gt; num_nodes = exo.num_nodes()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_nodes : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_coords"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_coords">[docs]</a>    <span class="k">def</span> <span class="nf">get_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get model coordinates of all nodes; for each coordinate</span>
<span class="sd">        direction, a length exo.num_nodes() list is returned</span>

<span class="sd">        &gt;&gt;&gt; x_coords, y_coords, z_coords = exo.get_coords()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  x_coords  global x-direction coordinates</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  y_coords  global y-direction coordinates</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  z_coords  global z-direction coordinates</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  x_coords  global x-direction coordinates</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  y_coords  global y-direction coordinates</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  z_coords  global z-direction coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_coord</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_coord"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_coord">[docs]</a>    <span class="k">def</span> <span class="nf">get_coord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get model coordinates of a single node</span>

<span class="sd">        &gt;&gt;&gt; x_coord, y_coord, z_coord = exo.get_coord(node_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_index : int</span>
<span class="sd">            the 1-based node index (indexing is from 1 to exo.num_nodes())</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        x_coord : double</span>
<span class="sd">            global x-direction coordinate</span>
<span class="sd">        y_coord : double</span>
<span class="sd">            global y-direction coordinate</span>
<span class="sd">        z_coord : double</span>
<span class="sd">            global z-direction coordinate</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        &gt;&gt;&gt; x_coords, y_coords, z_coords = exo.get_coords()</span>
<span class="sd">        &gt;&gt;&gt; x_coord = x_coords[node_index-1]</span>
<span class="sd">        &gt;&gt;&gt; y_coord = y_coords[node_index-1]</span>
<span class="sd">        &gt;&gt;&gt; z_coord = z_coords[node_index-1]</span>
<span class="sd">            ... is equivalent to ...</span>
<span class="sd">        &gt;&gt;&gt; x_coord, y_coord, z_coord = exo.get_coords(node_index)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">listX</span><span class="p">,</span> <span class="n">listY</span><span class="p">,</span> <span class="n">listZ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_partial_coord</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">listX</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">listY</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">listZ</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_coords"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_coords">[docs]</a>    <span class="k">def</span> <span class="nf">put_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xCoords</span><span class="p">,</span> <span class="n">yCoords</span><span class="p">,</span> <span class="n">zCoords</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store model coordinates of all nodes; for each coordinate</span>
<span class="sd">        direction, a length exo.num_nodes() list is input</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_coords(x_coords, y_coords, z_coords)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x_coord : list&lt;float&gt;</span>
<span class="sd">            global x-direction coordinates</span>
<span class="sd">        y_coord : list&lt;float&gt;</span>
<span class="sd">            global y-direction coordinates</span>
<span class="sd">        z_coord : list&lt;float&gt;</span>
<span class="sd">            global z-direction coordinates</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_coord</span><span class="p">(</span><span class="n">xCoords</span><span class="p">,</span> <span class="n">yCoords</span><span class="p">,</span> <span class="n">zCoords</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_num_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_num_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        **DEPRECATED** use: `get_node_id_map()`</span>

<span class="sd">        get mapping of exodus node index to user- or application-</span>
<span class="sd">        defined node id; node_id_map is ordered the same as the nodal</span>
<span class="sd">        coordinate arrays returned by exo.get_coords() -- this ordering</span>
<span class="sd">        follows the exodus node *INDEX* order, a 1-based system going</span>
<span class="sd">        from 1 to exo.num_nodes(); a user or application can optionally</span>
<span class="sd">        use a separate node *ID* numbering system, so the node_id_map</span>
<span class="sd">        points to the node *ID* for each node *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; node_id_map = exo.get_node_num_map()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            list&lt;ctypes.c_int&gt;  node_id_map</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_node_num_map</span><span class="p">()</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_map</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store mapping of exodus node index to user- or application-</span>
<span class="sd">        defined node id; node_id_map is ordered the same as the nodal</span>
<span class="sd">        coordinate arrays returned by exo.get_coords() -- this ordering</span>
<span class="sd">        follows the exodus node *INDEX* order, a 1-based system going</span>
<span class="sd">        from 1 to exo.num_nodes(); a user or application can optionally</span>
<span class="sd">        use a separate node *ID* numbering system, so the node_id_map</span>
<span class="sd">        points to the node *ID* for each node *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_node_id_map(node_id_map)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_id_map : list&lt;int&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_id_map</span><span class="p">(</span><span class="s1">&#39;EX_NODE_MAP&#39;</span><span class="p">,</span> <span class="n">id_map</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of nodal variable names in the model</span>

<span class="sd">        &gt;&gt;&gt; nvar_names = exo.get_node_variable_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  nvar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of nodal variables in the model</span>

<span class="sd">        &gt;&gt;&gt; num_nvars = exo.get_node_variable_number()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_nvars : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_node_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_node_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_node_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of nodal variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_node_variable_number(num_nvars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        num_nvars : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new nodal variable to the model;</span>
<span class="sd">        nodal variable indexing goes from 1 to exo.get_node_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_node_variable_name(nvar_name, nvar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        nvar_name : string</span>
<span class="sd">            name of new nodal variable</span>
<span class="sd">        nvar_index : int </span>
<span class="sd">            1-based index of new nodal variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_nvars = exo.get_node_variable_number()</span>
<span class="sd">        &gt;&gt;&gt; new_nvar_index = num_nvars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_nvars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_node_variable_number(num_nvars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_node_variable_name(&quot;new_nvar_name&quot;, new_nvar_index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">NDvarNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">NDvarNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: node variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">NDvarNames</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of nodal variable values for a nodal variable name</span>
<span class="sd">        and time step</span>

<span class="sd">        &gt;&gt;&gt; nvar_vals = exo.get_node_variable_values(nvar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string</span>
<span class="sd">            name of nodal variable</span>
<span class="sd">        step : int</span>
<span class="sd">            1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  nvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  nvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">()</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">numVals</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_partial_node_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_partial_node_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_partial_node_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get partial list of nodal variable values for a nodal variable name</span>
<span class="sd">        and time step.  Start at node `node_index` (1-based) and return `num_nodes`</span>
<span class="sd">        from that point.</span>

<span class="sd">        &gt;&gt;&gt; nvar_vals = exo.get_partial_node_variable_values(nvar_name, time_step, 10, 100)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        nvar_name : string</span>
<span class="sd">             name of nodal variable</span>
<span class="sd">        time_step  : int</span>
<span class="sd">             1-based index of time step</span>
<span class="sd">        start_index : int</span>
<span class="sd">             1-based index of node to start returning data</span>
<span class="sd">        num_nodes : int  </span>
<span class="sd">             number of nodes to return data for.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  nvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  nvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_partial_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of nodal variable values for a nodal variable</span>
<span class="sd">        name and time step</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_node_variable_values(nvar_name, time_step, nvar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        nvar_name : string</span>
<span class="sd">             name of nodal variable</span>
<span class="sd">        time_step : int</span>
<span class="sd">             1-based index of time step</span>
<span class="sd">        nvar_vals : list&lt;float&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">numVals</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1">#</span>
    <span class="c1"># elements</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_elems"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_elems">[docs]</a>    <span class="k">def</span> <span class="nf">num_elems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of elements in the model</span>

<span class="sd">        &gt;&gt;&gt; num_elems = exo.num_elems()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_elems : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_num_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_num_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapType</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get user-defined map of exodus element/node/edge/face index to user- or</span>
<span class="sd">        application- defined element/node/edge/face values. Map values are arbitary integers</span>

<span class="sd">        &gt;&gt;&gt; elem_num_map = exo.get_num_map(&#39;EX_ELEM_MAP&#39;, 1)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mapType   : ex_entity_type</span>
<span class="sd">             type of map being queried (&#39;EX_ELEM_MAP&#39;, &#39;EX_NODE_MAP&#39;, &#39;EX_FACE_MAP&#39;, &#39;EX_EDGE_MAP&#39;)</span>
<span class="sd">        idx       : int</span>
<span class="sd">             which map to return (1-based).  Use `inquire(mapType)` to get number of maps stored on database.</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  num_map</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  num_map</span>


<span class="sd">        &gt;&gt;&gt; em_cnt = exo.inquire(&#39;EX_INQ_ELEM_MAP&#39;)</span>
<span class="sd">        &gt;&gt;&gt; em     = exo.get_names(&#39;EX_ELEM_MAP&#39;)</span>
<span class="sd">        &gt;&gt;&gt; map    = exo.get_num_map(&#39;EX_ELEM_MAP&#39;, 2)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_num_map</span><span class="p">(</span><span class="n">mapType</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_num_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_num_map">[docs]</a>    <span class="k">def</span> <span class="nf">put_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapType</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">num_map</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put user-defined map of exodus element/node/edge/face index to user- or</span>
<span class="sd">        application- defined element/node/edge/face values. Map values are arbitary integers</span>


<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            mapType   : ex_entity_type</span>
<span class="sd">                        type of map being written (&#39;EX_ELEM_MAP&#39;, &#39;EX_NODE_MAP&#39;, &#39;EX_FACE_MAP&#39;, &#39;EX_EDGE_MAP&#39;)</span>
<span class="sd">            idx       : int</span>
<span class="sd">                        which map to write (1-based).  Use `put_map_param(node_map_cnt, elem_map_cnt)` prior to this</span>
<span class="sd">                        function to define number of maps on the database.</span>
<span class="sd">            elem_id_map : list&lt;int&gt;</span>


<span class="sd">        &gt;&gt;&gt; exo.put_map_param(nm_cnt, em_cnt)</span>
<span class="sd">        &gt;&gt;&gt; nm[0] = &quot;My_Node_Map&quot;</span>
<span class="sd">        &gt;&gt;&gt; exo.put_names(&#39;EX_NODE_MAP&#39;, nm);</span>
<span class="sd">        &gt;&gt;&gt; exo.put_num_map(&#39;EX_NODE_MAP&#39;, 1, scale_map)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_num_map</span><span class="p">(</span><span class="n">mapType</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">num_map</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_map_param"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_map_param">[docs]</a>    <span class="k">def</span> <span class="nf">put_map_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node_map_cnt</span><span class="p">,</span> <span class="n">elem_map_cnt</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Define number of node and element maps that will be written to the database</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_map_cnt  : int</span>
<span class="sd">                        number of node maps</span>
<span class="sd">        elem_map_cnt  : int</span>
<span class="sd">                        number of element maps</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_map_param</span><span class="p">(</span><span class="n">node_map_cnt</span><span class="p">,</span> <span class="n">elem_map_cnt</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus element/node/edge/face index to user- or</span>
<span class="sd">        application- defined element/node/edge/face id; id_map is ordered by the</span>
<span class="sd">        *INDEX* ordering, a 1-based system going from 1 to</span>
<span class="sd">        `exo.num_elem`, `exo.num_node`, used by exodus for storage and input/output</span>
<span class="sd">        of array data stored on the elements/nodes/edges/faces; a user or application</span>
<span class="sd">        can optionally use a separate *ID* numbering system,</span>
<span class="sd">        so the id_map points to the element/node/edge/face *ID* for each</span>
<span class="sd">        *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; elem_id_map = exo.get_id_map(&#39;EX_ELEM_MAP&#39;)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mapType   : ex_entity_type</span>
<span class="sd">                   type of map being queried (&#39;EX_ELEM_MAP&#39;, &#39;EX_NODE_MAP&#39;, &#39;EX_FACE_MAP&#39;, &#39;EX_EDGE_MAP&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  id_map</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  id_map</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_id_map</span><span class="p">(</span><span class="n">mapType</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_elem_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus element index to user- or application-</span>
<span class="sd">        defined element id; elem_id_map is ordered by the element</span>
<span class="sd">        *INDEX* ordering, a 1-based system going from 1 to</span>
<span class="sd">        exo.num_elems(), used by exodus for storage and input/output</span>
<span class="sd">        of array data stored on the elements; a user or application</span>
<span class="sd">        can optionally use a separate element *ID* numbering system,</span>
<span class="sd">        so the elem_id_map points to the element *ID* for each</span>
<span class="sd">        element *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; elem_id_map = exo.get_elem_id_map()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  elem_id_map</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  elem_id_map</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_id_map</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_MAP&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_elem_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_map</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store mapping of exodus element index to user- or application-</span>
<span class="sd">        defined element id; elem_id_map is ordered by the element</span>
<span class="sd">        *INDEX* ordering, a 1-based system going from 1 to</span>
<span class="sd">        exo.num_elems(), used by exodus for storage and input/output</span>
<span class="sd">        of array data stored on the elements; a user or application</span>
<span class="sd">        can optionally use a separate element *ID* numbering system,</span>
<span class="sd">        so the elem_id_map points to the element *ID* for each</span>
<span class="sd">        element *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_elem_id_map(elem_id_map)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            elem_id_map : list&lt;int&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_id_map</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_MAP&#39;</span><span class="p">,</span> <span class="n">id_map</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">put_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">map_type</span><span class="p">,</span> <span class="n">id_map</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store mapping of exodus entity index to user- or application-</span>
<span class="sd">        defined entity id; id_map is ordered by the entity</span>
<span class="sd">        *INDEX* ordering, a 1-based system going from 1 to</span>
<span class="sd">        exo.num_XXX(), used by exodus for storage and input/output</span>
<span class="sd">        of array data stored on the entities; a user or application</span>
<span class="sd">        can optionally use a separate entity *ID* numbering system,</span>
<span class="sd">        so the elem_id_map points to the entity *ID* for each</span>
<span class="sd">        entity *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_id_map(&#39;EX_ELEM_MAP&#39;, elem_id_map)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            map_type : ex_entity_type   </span>
<span class="sd">                        type of map being queried (&#39;EX_ELEM_MAP&#39;, &#39;EX_NODE_MAP&#39;, &#39;EX_FACE_MAP&#39;, &#39;EX_EDGE_MAP&#39;)</span>
<span class="sd">            elem_id_map : list&lt;int&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_id_map</span><span class="p">(</span><span class="n">map_type</span><span class="p">,</span> <span class="n">id_map</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_block_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_block_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_block_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the map of elements found in the given entity_id of an object</span>
<span class="sd">        of obj_type.</span>

<span class="sd">        *INDEX* ordering, a 1-based system going from 1 to</span>
<span class="sd">        number of elements in the elem_block, used by exodus for</span>
<span class="sd">        storage and input/output of array data stored on the elements;</span>
<span class="sd">        a user or application can optionally use a separate element *ID* numbering system,</span>
<span class="sd">        so the elem_id_map points to the element *ID* for each</span>
<span class="sd">        element *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; elem_block_id_map = exo.get_block_id_map(&quot;EX_ELEM_BLOCK&quot;, 100)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  elem_id_map</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  elem_id_map</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block_id_map</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_elem_num_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_num_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        **DEPRECATED** use: `get_elem_id_map()`</span>

<span class="sd">        get mapping of exodus element index to user- or application-</span>
<span class="sd">        defined element id; elem_id_map is ordered by the element</span>
<span class="sd">        *INDEX* ordering, a 1-based system going from 1 to</span>
<span class="sd">        exo.num_elems(), used by exodus for storage and input/output</span>
<span class="sd">        of array data stored on the elements; a user or application</span>
<span class="sd">        can optionally use a separate element *ID* numbering system,</span>
<span class="sd">        so the elem_id_map points to the element *ID* for each</span>
<span class="sd">        element *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; elem_id_map = exo.get_elem_num_map()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;list&lt;ctypes.c_int&gt;&gt;  elem_id_map</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_elem_num_map</span><span class="p">()</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_elem_order_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_order_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_order_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus element index to application-defined</span>
<span class="sd">        optimal ordering; elem_order_map is ordered by the element</span>
<span class="sd">        index ordering used by exodus for storage and input/output</span>
<span class="sd">        of array data stored on the elements; a user or application</span>
<span class="sd">        can optionally use a separate element ordering, e.g. for</span>
<span class="sd">        optimal solver performance, so the elem_order_map points to</span>
<span class="sd">        the index used by the application for each exodus element</span>
<span class="sd">        index</span>

<span class="sd">        &gt;&gt;&gt; elem_order_map = exo.get_elem_order_map()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  elem_order_map</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  elem_order_map</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">elemOrderMap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_elem_order_map</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">elemOrderMap</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elemOrderMap</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elemOrderMap</span></div>

    <span class="c1"># Generic (objType) get/put/query...</span>
    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_id_map"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_id_map">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus node index to user- or application-</span>
<span class="sd">        defined node id; node_id_map is ordered the same as the nodal</span>
<span class="sd">        coordinate arrays returned by exo.get_coords() -- this ordering</span>
<span class="sd">        follows the exodus node *INDEX* order, a 1-based system going</span>
<span class="sd">        from 1 to exo.num_nodes(); a user or application can optionally</span>
<span class="sd">        use a separate node *ID* numbering system, so the node_id_map</span>
<span class="sd">        points to the node *ID* for each node *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; node_id_map = exo.get_node_id_map()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  node_id_map</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  node_id_map</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_id_map</span><span class="p">(</span><span class="s1">&#39;EX_NODE_MAP&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the name of the specified entity_type and entity</span>

<span class="sd">        &gt;&gt;&gt; elem_blk_name = exo.get_name(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_type : int</span>
<span class="sd">            block/set type</span>
<span class="sd">        object_id : ex_entity_type</span>
<span class="sd">            block/set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_name</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put the name of the specified entity_type and entity</span>

<span class="sd">        &gt;&gt;&gt; exo.put_name(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id, block_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_type : int</span>
<span class="sd">            block/set type</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            block/set *ID* (not *INDEX*)</span>
<span class="sd">        name : string</span>
<span class="sd">            block/set name</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        elem_blk_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_name</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list of all block/set names ordered by block/set *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between *ID* and *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; blk_names = exo.get_names(&#39;EX_ELEM_BLOCK&#39;)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_type : int</span>
<span class="sd">            block/set type</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;list&lt;string&gt;&gt;  names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_names</span><span class="p">(</span><span class="n">object_type</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of all block/set names of the specified</span>
<span class="sd">        `object_type` ordered by *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between *ID* and *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; exo.put_names(&#39;EX_ELEM_BLOCK&#39;, elem_blk_names)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_type : int</span>
<span class="sd">        names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_names</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_reduction_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_reduction_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_reduction_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of reduction variable values for a specified entity type and</span>
<span class="sd">        id, and time step</span>

<span class="sd">        &gt;&gt;&gt; evar_vals = exo.get_reduction_variable_values(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        id        : int</span>
<span class="sd">            entity *ID* (not *INDEX*)</span>
<span class="sd">        time_step : int</span>
<span class="sd">            1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  evar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  evar_vals</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_reduction_variable_number</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_vars</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">numVals</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_reduction_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_reduction_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_reduction_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of &#39;objType&#39; variable values for a specified entity,</span>
<span class="sd">        and time step</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_redcution_variable_values(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id,</span>
<span class="sd">        ...             time_step, evar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        step : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        values : list&lt;float&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_reduction_variable_number</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_reduction_vars</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">numVals</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_ids"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus block/set index to user- or application-</span>
<span class="sd">        defined block/set id; ids is ordered</span>
<span class="sd">        by the *INDEX* ordering, a 1-based system going from</span>
<span class="sd">        1 to number_set_or_block, used by exodus for storage</span>
<span class="sd">        and input/output of array data stored on the blocks/sets; a</span>
<span class="sd">        user or application can optionally use a separate block/set</span>
<span class="sd">        *ID* numbering system, so the ids array points to the</span>
<span class="sd">        block/set *ID* for each set *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; node_set_ids = exo.get_ids(&#39;EX_NODE_SET&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  ids</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_ids</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ids</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>
<div class="viewcode-block" id="exodus.get_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">get_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entId</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        gets a truth table indicating which variables are defined for</span>
<span class="sd">        specified entity type; if entId is not passed, then a concatenated</span>
<span class="sd">        truth table for all entities is returned with variable index</span>
<span class="sd">        cycling faster than entity index</span>

<span class="sd">        &gt;&gt;&gt; ssvar_truth_tab = exo.get_variable_truth_table(&#39;EX_SIDE_SET&#39;, sideSetID=side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        entid : ex_entity_id, optional</span>
<span class="sd">            entity *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        truth_tab : list&lt;bool&gt;</span>
<span class="sd">            True for variable defined in an entity, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">entId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_truth_table</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_object_truth_vector</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">entId</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">set_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        stores a truth table indicating which variables are defined for</span>
<span class="sd">        all sets/blocks of the specified `objType` and all variables; variable index cycles</span>
<span class="sd">        faster than entity index</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_variable_truth_table(&#39;EX_NODE_SET&#39;, nsvar_truth_tab)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        table : list&lt;bool&gt;</span>
<span class="sd">            True for variable defined in a node set, False otherwise</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_truth_table</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of variable names in the model for the specified object type.</span>

<span class="sd">        &gt;&gt;&gt; nar_names = exo.get_variable_names(&#39;EX_NODAL&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  nvar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_reduction_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_reduction_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_reduction_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of reduction variable names in the model for the specified object type.</span>

<span class="sd">        &gt;&gt;&gt; nar_names = exo.get_reduction_variable_names(&#39;EX_ASSEMBL&quot;Y&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  nvar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_reduction_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_reduction_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_reduction_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">varId</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a single reduction variable name in the model for the specified object type and index.</span>

<span class="sd">        &gt;&gt;&gt; nar_name = exo.get_reduction_variable_name(&#39;EX_ASSEMBL&quot;Y&#39;, 100)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              string  nvar_name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_name</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">varId</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of variables of the specified type in the model</span>

<span class="sd">        &gt;&gt;&gt; num_nvars = exo.get_variable_number(&#39;EX_NODAL&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_nvars :               &lt;int&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_reduction_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_reduction_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_reduction_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of reduction variables of the specified type in the model</span>

<span class="sd">        &gt;&gt;&gt; num_nvars = exo.get_reduction_variable_number(&#39;EX_ASSEMBLY&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_nvars :               &lt;int&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_variable_number(&#39;EX_NODAL&#39;, num_nvars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        number : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_reduction_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_reduction_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_reduction_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of reduction variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_reduction_variable_number(&#39;EX_ASSEMBLY&#39;, num_nvars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        number : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_reduction_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new variable to the model;</span>
<span class="sd">        variable indexing goes from 1 to exo.get_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_variable_name(&#39;EX_NODAL&#39;, nvar_name, nvar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        var_name : string</span>
<span class="sd">            name of new variable</span>
<span class="sd">        nvar_index : int</span>
<span class="sd">            1-based index of new nodal variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_nvars = exo.get_variable_number(&#39;EX_NODAL&#39;)</span>
<span class="sd">        &gt;&gt;&gt; new_nvar_index = num_nvars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_nvars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_variable_number(&#39;EX_NODAL&#39;, num_nvars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_variable_name(&#39;EX_NODAL&#39;, &quot;new_nvar_name&quot;, new_nvar_index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">varNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">varNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">varNames</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_name</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_reduction_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_reduction_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_reduction_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new reduction variable to the model;</span>
<span class="sd">        variable indexing goes from 1 to exo.get_reductino_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_reduction_variable_name(&#39;EX_ASSEMBLY&#39;, assemvar_name, assemvar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            type of object begin queried</span>
<span class="sd">        var_name : string</span>
<span class="sd">            name of new variable</span>
<span class="sd">        index : int</span>
<span class="sd">            1-based index of new variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_assem_vars = exo.get_reduction_variable_number(&#39;EX_ASSEMBLY&#39;)</span>
<span class="sd">        &gt;&gt;&gt; new_assem_var_index = num_assem_vars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_assem_vars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_reduction_variable_number(&#39;EX_ASSEMBLY&#39;, num_assem_vars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_reduction_variable_name(&#39;EX_ASSEMBLY&#39;, &quot;new_assem_var_name&quot;, new_assem_var_index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">varNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_reduction_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">varNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">varNames</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_reduction_variable_name</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="exodus.get_entity_count"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_entity_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_entity_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get number of nodes/elements in the specified set/block. Typically used internally</span>
<span class="sd">        by other user-callable functions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        entityid : ex_entity_id</span>
<span class="sd">            id of the entity (block, set) *ID* (not *INDEX*)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">numVals</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">objType</span> <span class="o">==</span> <span class="s2">&quot;EX_NODAL&quot;</span><span class="p">:</span>
            <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">objType</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_FACE_BLOCK&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_EDGE_BLOCK&#39;</span><span class="p">]:</span>
            <span class="p">(</span><span class="n">_elemType</span><span class="p">,</span> <span class="n">numVals</span><span class="p">,</span> <span class="n">_nodesPerElem</span><span class="p">,</span> <span class="n">_numAttr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">objType</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_EDGE_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_FACE_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">]:</span>
            <span class="p">(</span><span class="n">numVals</span><span class="p">,</span> <span class="n">_numDistFactInSet</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">numVals</span></div>

<div class="viewcode-block" id="exodus.get_variable_values_time"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_variable_values_time">[docs]</a>    <span class="k">def</span> <span class="nf">get_variable_values_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">start_step</span><span class="p">,</span> <span class="n">end_step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of `objType` variable values for a specified object id</span>
<span class="sd">        block, variable name, and range of time steps</span>

<span class="sd">        &gt;&gt;&gt; evar_vals = exo.get_variable_values_time(&#39;EX_ELEM_BLOCK&#39;, entity_id,</span>
<span class="sd">        ...                                            var_name, start_step, end_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        entityid : ex_entity_id</span>
<span class="sd">            id of the entity (block, set) *ID* (not *INDEX*)</span>
<span class="sd">        var_name : string</span>
<span class="sd">            name of variable</span>
<span class="sd">        start_step : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        end_step : int</span>
<span class="sd">            1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  evar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  evar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">var_name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_var_time</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">start_step</span><span class="p">,</span> <span class="n">end_step</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

<div class="viewcode-block" id="exodus.get_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of `objType` variable values for a specified object id</span>
<span class="sd">        block, variable name, and time step</span>

<span class="sd">        &gt;&gt;&gt; evar_vals = exo.get_variable_values(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id,</span>
<span class="sd">        ...                                            evar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        entityid : ex_entity_id</span>
<span class="sd">            id of the entity (block, set) *ID* (not *INDEX*)</span>
<span class="sd">        name : string</span>
<span class="sd">            name of variable</span>
<span class="sd">        time_step : int</span>
<span class="sd">            1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  evar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  evar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_count</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">)</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">numVals</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

<div class="viewcode-block" id="exodus.put_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of element variable values for a specified element</span>
<span class="sd">        block, element variable name, and time step</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_variable_values(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id,</span>
<span class="sd">        ...             evar_name, time_step, evar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        entityid : ex_entity_id</span>
<span class="sd">           entity *ID* (not *INDEX*)</span>
<span class="sd">        name : string</span>
<span class="sd">           name of variable</span>
<span class="sd">        time_step : int</span>
<span class="sd">           1-based index of time step</span>
<span class="sd">        values : list&lt;float&gt;</span>
<span class="sd">           the variable values to be output</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_count</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">numVals</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="exodus.get_attribute_count"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_attribute_count">[docs]</a>    <span class="k">def</span> <span class="nf">get_attribute_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        IS THIS NEEDED, PYTHONIC WAY MAY BE TO JUST GET THEM...</span>

<span class="sd">        get the number of attributes on the specified entity</span>

<span class="sd">        &gt;&gt;&gt; num_attribute = exo.get_attribute_count(&#39;EX_ASSEMBLY&#39;, 100)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        objId        : int</span>
<span class="sd">            entity *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            num_attribute : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_attribute_count</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_attributes"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_attributes">[docs]</a>    <span class="k">def</span> <span class="nf">get_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; attributes = exo.get_attributes(&#39;EX_ASSEMBLY&#39;, 100)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        objId        : int</span>
<span class="sd">            entity *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            attributes : &lt;ex_attribute list&gt; </span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_attributes</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_attribute"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_attribute">[docs]</a>    <span class="k">def</span> <span class="nf">put_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt;&gt;&gt; attribute = exodus.attribute(&#39;Scale&#39;, &#39;EX_ASSEMBLY&#39;, 100)</span>
<span class="sd">        &gt;&gt;&gt; attribute.values = [1.1, 1.0, 1.2]</span>
<span class="sd">        &gt;&gt;&gt; attributes = exo.put_attribute(attribute)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            attributes : ex_attribute list</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_attribute</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.num_assembly"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_assembly">[docs]</a>    <span class="k">def</span> <span class="nf">num_assembly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of assemblies in the model</span>

<span class="sd">        &gt;&gt;&gt; num_assembly = exo.num_assembly()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            num_assembly : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inquire</span><span class="p">(</span><span class="s1">&#39;EX_INQ_ASSEMBLY&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_assembly"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_assembly">[docs]</a>    <span class="k">def</span> <span class="nf">get_assembly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        reads the assembly parameters and assembly data for one assembly</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">assem</span> <span class="o">=</span> <span class="n">ex_assembly</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">object_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_assembly</span><span class="p">(</span><span class="n">assem</span><span class="p">)</span>
        <span class="n">assmbly</span> <span class="o">=</span> <span class="n">assembly</span><span class="p">(</span><span class="n">assem</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">),</span> <span class="n">assem</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">assem</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">assem</span><span class="o">.</span><span class="n">entity_count</span><span class="p">):</span>
            <span class="n">assmbly</span><span class="o">.</span><span class="n">entity_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">assem</span><span class="o">.</span><span class="n">entity_list</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">assmbly</span></div>

<div class="viewcode-block" id="exodus.get_assemblies"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_assemblies">[docs]</a>    <span class="k">def</span> <span class="nf">get_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_ids</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        reads the assembly parameters and assembly data for all assemblies</span>
<span class="sd">        with ids in object_ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">assemblies</span> <span class="o">=</span> <span class="p">[</span><span class="n">ex_assembly</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">object_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">object_id</span> <span class="ow">in</span> <span class="n">object_ids</span><span class="p">]</span>
        <span class="n">assems</span> <span class="o">=</span> <span class="p">(</span><span class="n">ex_assembly</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">assemblies</span><span class="p">))(</span><span class="o">*</span><span class="n">assemblies</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_assemblies</span><span class="p">(</span><span class="n">assems</span><span class="p">)</span>
        <span class="n">assembs</span> <span class="o">=</span> <span class="p">[</span><span class="n">assembly</span><span class="p">(</span><span class="n">assem</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">),</span> <span class="n">assem</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">assem</span><span class="o">.</span><span class="n">type</span><span class="p">)</span> <span class="k">for</span> <span class="n">assem</span> <span class="ow">in</span>
                   <span class="n">assems</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">assems</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">entity_count</span><span class="p">):</span>
                <span class="n">assembs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">entity_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">entity_list</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">assembs</span></div>

<div class="viewcode-block" id="exodus.put_assembly"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_assembly">[docs]</a>    <span class="k">def</span> <span class="nf">put_assembly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assembly</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        writes the assembly parameters and assembly data for one assembly</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_assembly</span><span class="p">(</span><span class="n">assembly</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_assemblies"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_assemblies">[docs]</a>    <span class="k">def</span> <span class="nf">put_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assemblies</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        writes the assembly parameters and assembly data for multiple assemblies</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_assemblies</span><span class="p">(</span><span class="n">assemblies</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.num_blob"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_blob">[docs]</a>    <span class="k">def</span> <span class="nf">num_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of blobs in the model</span>

<span class="sd">        &gt;&gt;&gt; num_assembly = exo.num_blob()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_blob</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numBlob</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="exodus.get_blob"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_blob">[docs]</a>    <span class="k">def</span> <span class="nf">get_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        reads the blob parameters and blob data for one blob</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">blob</span> <span class="o">=</span> <span class="n">ex_blob</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">object_id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_blob</span><span class="p">(</span><span class="n">blob</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">blob</span></div>

<div class="viewcode-block" id="exodus.num_blks"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_blks">[docs]</a>    <span class="k">def</span> <span class="nf">num_blks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of element blocks in the model</span>

<span class="sd">        &gt;&gt;&gt; num_elem_blks = exo.num_blks()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_elem_blks : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span><span class="o">.</span><span class="n">value</span></div>

<div class="viewcode-block" id="exodus.get_elem_blk_ids"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_blk_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_blk_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus element block index to user- or</span>
<span class="sd">        application-defined element block id; elem_blk_ids is ordered</span>
<span class="sd">        by the element block *INDEX* ordering, a 1-based system going</span>
<span class="sd">        from 1 to exo.num_blks(), used by exodus for storage</span>
<span class="sd">        and input/output of array data stored on the element blocks; a</span>
<span class="sd">        user or application can optionally use a separate element block</span>
<span class="sd">        *ID* numbering system, so the elem_blk_ids array points to the</span>
<span class="sd">        element block *ID* for each element block *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; elem_blk_ids = exo.get_elem_blk_ids()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  elem_blk_ids</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  elem_blk_ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_elem_blk_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_blk_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_blk_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the element block name</span>

<span class="sd">        &gt;&gt;&gt; elem_blk_name = exo.get_elem_blk_name(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        elem_blk_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_name</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_elem_blk_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_blk_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_blk_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the element block name</span>

<span class="sd">        &gt;&gt;&gt; exo.put_elem_blk_name(elem_blk_id, elem_blk_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        elem_blk_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_name</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_elem_blk_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_blk_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_blk_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list of all element block names ordered by block *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between block *ID* and block *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; elem_blk_names = exo.get_elem_blk_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        elem_blk_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_elem_blk_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_blk_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_blk_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of all element block names ordered by block *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between block *ID* and block *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; exo.put_elem_blk_names(elem_blk_names)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.elem_blk_info"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.elem_blk_info">[docs]</a>    <span class="k">def</span> <span class="nf">elem_blk_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the element block info</span>

<span class="sd">        &gt;&gt;&gt; elem_type, num_blk_elems, num_elem_nodes, num_elem_attrs</span>
<span class="sd">        ...       = exo.elem_blk_info(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;string&gt;  elem_type       element type, e.g. &#39;HEX8&#39;</span>
<span class="sd">            &lt;int&gt;     num_blk_elems   number of elements in the block</span>
<span class="sd">            &lt;int&gt;     num_elem_nodes  number of nodes per element</span>
<span class="sd">            &lt;int&gt;     num_elem_attrs  number of attributes per element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">elemType</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">,</span> <span class="n">numAttr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elemType</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">,</span> <span class="n">numAttr</span></div>

<div class="viewcode-block" id="exodus.put_elem_blk_info"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_blk_info">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_blk_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_type</span><span class="p">,</span> <span class="n">num_blk_elems</span><span class="p">,</span>
                          <span class="n">num_elem_nodes</span><span class="p">,</span> <span class="n">num_elem_attrs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the element block *ID* and element block info</span>

<span class="sd">        &gt;&gt;&gt; exo.put_elem_blk_info(elem_blk_id, elem_type, num_blk_elems,</span>
<span class="sd">        ...                      num_elem_nodes, num_elem_attrs)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        elem_type : string</span>
<span class="sd">            element type (all caps), e.g. &#39;HEX8&#39;</span>
<span class="sd">        num_blk_elems : int</span>
<span class="sd">            number of elements in the block</span>
<span class="sd">        num_elem_nodes : int</span>
<span class="sd">            number of nodes per element</span>
<span class="sd">        num_elem_attrs : int</span>
<span class="sd">            number of attributes per element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_type</span><span class="p">,</span> <span class="n">num_blk_elems</span><span class="p">,</span>
                            <span class="n">num_elem_nodes</span><span class="p">,</span> <span class="n">num_elem_attrs</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_concat_elem_blk"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_concat_elem_blk">[docs]</a>    <span class="k">def</span> <span class="nf">put_concat_elem_blk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_blk_ids</span><span class="p">,</span> <span class="n">elem_type</span><span class="p">,</span> <span class="n">num_blk_elems</span><span class="p">,</span>
                            <span class="n">num_elem_nodes</span><span class="p">,</span> <span class="n">num_elem_attrs</span><span class="p">,</span> <span class="n">defineMaps</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        same as exo.put_elem_blk_info() but for all blocks at once</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_concat_elem_blk(elem_blk_ids, elem_types,</span>
<span class="sd">        ...                                 num_blk_elems, num_elem_nodes, num_elem_attrs)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_ids : list&lt;int&gt;    </span>
<span class="sd">              element block *ID* (not *INDEX*) for each block</span>
<span class="sd">        elem_types   : list&lt;string&gt;    </span>
<span class="sd">              element type for each block</span>
<span class="sd">        num_blk_elems : list&lt;int&gt;</span>
<span class="sd">              number of elements for each block</span>
<span class="sd">        num_elem_nodes : list&lt;int&gt;</span>
<span class="sd">              number of nodes per element for each block</span>
<span class="sd">        num_elem_attrs : list&lt;int&gt;  </span>
<span class="sd">              number of attributes per element for each block</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_concat_elem_blk</span><span class="p">(</span>
            <span class="n">elem_blk_ids</span><span class="p">,</span>
            <span class="n">elem_type</span><span class="p">,</span>
            <span class="n">num_blk_elems</span><span class="p">,</span>
            <span class="n">num_elem_nodes</span><span class="p">,</span>
            <span class="n">num_elem_attrs</span><span class="p">,</span>
            <span class="n">defineMaps</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="exodus.get_elem_connectivity"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_connectivity">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the nodal connectivity, number of elements, and</span>
<span class="sd">        number of nodes per element for a single block</span>

<span class="sd">        &gt;&gt;&gt; elem_conn, num_blk_elems, num_elem_nodes</span>
<span class="sd">        ...        = exo.get_elem_connectivity(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  elem_conn  ordered list of node *INDICES* that</span>
<span class="sd">                define the connectivity of each element</span>
<span class="sd">                in the block; the list cycles through</span>
<span class="sd">                all nodes of the first element, then</span>
<span class="sd">                all nodes of the second element, etc.</span>
<span class="sd">                (see `exodus.get_id_map` for explanation</span>
<span class="sd">                of node *INDEX* versus node *ID*)</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  elem_conn  (same description)</span>

<span class="sd">            &lt;int&gt;  num_blk_elems    number of elements in the block</span>
<span class="sd">            &lt;int&gt;  num_elem_nodes   number of nodes per element</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">elem_block_connectivity</span><span class="p">,</span> <span class="n">num_elem_this_blk</span><span class="p">,</span>
         <span class="n">num_nodes_per_elem</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_elem_conn</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">elem_block_connectivity</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="n">elem_block_connectivity</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elem_block_connectivity</span><span class="p">,</span> <span class="n">num_elem_this_blk</span><span class="p">,</span> <span class="n">num_nodes_per_elem</span></div>

<div class="viewcode-block" id="exodus.put_elem_connectivity"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_connectivity">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_connectivity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the nodal connectivity, number of elements, and</span>
<span class="sd">        number of nodes per element for a single block</span>

<span class="sd">        &gt;&gt;&gt; exo.put_elem_connectivity(elem_blk_id, elem_conn)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        connectivity : list&lt;int&gt;</span>
<span class="sd">            ordered list of node *INDICES* that</span>
<span class="sd">            define the connectivity of each</span>
<span class="sd">            element in the block; the list cycles</span>
<span class="sd">            through all nodes of the first element,</span>
<span class="sd">            then all nodes of the second element,</span>
<span class="sd">            etc.</span>
<span class="sd">            (see `exodus.get_id_map` for explanation</span>
<span class="sd">            of node *INDEX* versus node *ID*)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_d1</span><span class="p">,</span> <span class="n">numBlkElems</span><span class="p">,</span> <span class="n">numNodesPerElem</span><span class="p">,</span> <span class="n">_d2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">elem_blk_info</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">connectivity</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">numBlkElems</span> <span class="o">*</span> <span class="n">numNodesPerElem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_elem_conn</span><span class="p">(</span><span class="n">object_id</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_elem_attr"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_attr">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get all attributes for each element in a block</span>

<span class="sd">        &gt;&gt;&gt; elem_attrs = exo.get_elem_attr(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            if array_type == &#39;ctype&#39; : &lt;list&lt;float&gt;&gt; elem_attrs</span>
<span class="sd">            if array_type == &#39;numpy&#39; : &lt;np_array&lt;float&gt;&gt; elem_attrs</span>
<span class="sd">                list of attribute values for all</span>
<span class="sd">                elements in the block; the list cycles</span>
<span class="sd">                through all attributes of the first</span>
<span class="sd">                element, then all attributes of the</span>
<span class="sd">                second element, etc. Attributes are</span>
<span class="sd">                ordered by the ordering of the names</span>
<span class="sd">                returned by exo.get_attribute_names()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elem_attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_elem_attr</span><span class="p">(</span><span class="n">elem_blk_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">elem_attrs</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_attrs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elem_attrs</span></div>

<div class="viewcode-block" id="exodus.get_elem_attr_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_elem_attr_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_elem_attr_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_attr_name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get an attribute for each element in a block</span>

<span class="sd">        &gt;&gt;&gt; elem_attrs = exo.get_elem_attr(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">             element block *ID* (not *INDEX*)</span>
<span class="sd">        elem_attr_name : string</span>
<span class="sd">             element attribute name</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            if array_type == &#39;ctype&#39;: &lt;list&lt;float&gt;&gt;  values</span>
<span class="sd">            if array_type == &#39;numpy&#39;: &lt;np_array&lt;float&gt;&gt;  values</span>
<span class="sd">                array of values for the requested</span>
<span class="sd">                attribute.  Array has dimensions of</span>
<span class="sd">                1 x num_elem, where num_elem is the</span>
<span class="sd">                number of elements on the element block.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Determine index of requested attribute in attribute list</span>
        <span class="n">elem_attr_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attribute_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">)</span>
        <span class="n">a_ndx</span> <span class="o">=</span> <span class="n">elem_attr_names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem_attr_name</span><span class="p">)</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_one_attr</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">a_ndx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

<div class="viewcode-block" id="exodus.get_attr_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_attr_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_attr_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_attr_name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get an attribute for each element in a block</span>

<span class="sd">        &gt;&gt;&gt; elem_attrs = exo.get_elem_attr(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType   : ex_entity_type</span>
<span class="sd">            type of object being queried</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">             element block *ID* (not *INDEX*)</span>
<span class="sd">        elem_attr_name : string</span>
<span class="sd">             element attribute name</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            if array_type == &#39;ctype&#39;: &lt;list&lt;float&gt;&gt;  values</span>
<span class="sd">            if array_type == &#39;numpy&#39;: &lt;np_array&lt;float&gt;&gt;  values</span>
<span class="sd">                array of values for the requested</span>
<span class="sd">                attribute.  Array has dimensions of</span>
<span class="sd">                1 x num_elem, where num_elem is the</span>
<span class="sd">                number of elements on the element block.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Determine index of requested attribute in attribute list</span>
        <span class="n">elem_attr_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attribute_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">)</span>
        <span class="n">a_ndx</span> <span class="o">=</span> <span class="n">elem_attr_names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem_attr_name</span><span class="p">)</span>

        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_one_attr</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">a_ndx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

<div class="viewcode-block" id="exodus.put_elem_attr"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_attr">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_attrs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store all attributes for each element in a block</span>

<span class="sd">        &gt;&gt;&gt; exo.put_elem_attr(elem_blk_id, elem_attrs)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        elem_attrs  : list&lt;float&gt;</span>
<span class="sd">            list of all attribute values for all</span>
<span class="sd">            elements in the block; the list</span>
<span class="sd">            cycles through all attributes of</span>
<span class="sd">            the first element, then all attributes</span>
<span class="sd">            of the second element, etc. Attributes</span>
<span class="sd">            are ordered by the ordering of the</span>
<span class="sd">            names returned by</span>
<span class="sd">            exo.get_attribute_names()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_elem_attr</span><span class="p">(</span><span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_attrs</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.put_elem_attr_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_attr_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_attr_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">elem_attr_name</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store an attribute for each element in a block</span>

<span class="sd">        &gt;&gt;&gt; exo.put_elem_attr_values(elem_blk_id, elem_attr_name, values)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        elem_attr_name : string</span>
<span class="sd">            element attribute name</span>
<span class="sd">        values : list&lt;float&gt;</span>
<span class="sd">            list of values for a single attribute</span>
<span class="sd">            on a element block.  List dimensions</span>
<span class="sd">            should be 1 x N_elem, where N_elem is</span>
<span class="sd">            the number of elements on the element block.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Determine index of requested attribute in attribute list</span>
        <span class="n">elem_attr_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_attribute_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">)</span>
        <span class="n">a_ndx</span> <span class="o">=</span> <span class="n">elem_attr_names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elem_attr_name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_one_attr</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elem_blk_id</span><span class="p">,</span> <span class="n">a_ndx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.elem_type"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.elem_type">[docs]</a>    <span class="k">def</span> <span class="nf">elem_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the element type, e.g. &quot;HEX8&quot;, for an element block</span>

<span class="sd">        &gt;&gt;&gt; elem_type = exo.elem_type(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;string&gt;  elem_type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">elemType</span><span class="p">,</span> <span class="n">_numElem</span><span class="p">,</span> <span class="n">_nodesPerElem</span><span class="p">,</span> <span class="n">_numAttr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elemType</span></div>

<div class="viewcode-block" id="exodus.num_attr"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_attr">[docs]</a>    <span class="k">def</span> <span class="nf">num_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of attributes per element for an element block</span>

<span class="sd">        &gt;&gt;&gt; num_elem_attrs = exo.num_attr(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_elem_attrs</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">_elemType</span><span class="p">,</span> <span class="n">_numElem</span><span class="p">,</span> <span class="n">_nodesPerElem</span><span class="p">,</span> <span class="n">numAttr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">numAttr</span></div>

<div class="viewcode-block" id="exodus.num_elems_in_blk"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_elems_in_blk">[docs]</a>    <span class="k">def</span> <span class="nf">num_elems_in_blk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of elements in an element block</span>

<span class="sd">        &gt;&gt;&gt; num_blk_elems = exo.num_elems_in_blk(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_blk_elems</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_count</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">vals</span></div>

<div class="viewcode-block" id="exodus.num_nodes_per_elem"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_nodes_per_elem">[docs]</a>    <span class="k">def</span> <span class="nf">num_nodes_per_elem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of nodes per element for an element block</span>

<span class="sd">        &gt;&gt;&gt; num_elem_nodes = exo.num_nodes_per_elem(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_elem_nodes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">_elemType</span><span class="p">,</span> <span class="n">_numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">,</span> <span class="n">_numAttr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nodesPerElem</span></div>

<div class="viewcode-block" id="exodus.get_element_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entId</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See `exodus.get_variable_truth_table`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_truth_table</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">entId</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.set_element_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_element_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">set_element_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See `exodus.set_variable_truth_table`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_variable_truth_table</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_element_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blockId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of element variable values for a specified element</span>
<span class="sd">        block, element variable name, and time step</span>

<span class="sd">        &gt;&gt;&gt; evar_vals = exo.get_element_variable_values(elem_blk_id,</span>
<span class="sd">        ...                                            evar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        evar_name : string</span>
<span class="sd">            name of element variable</span>
<span class="sd">        time_step : int</span>
<span class="sd">            1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  evar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  evar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_values</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blockId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span></div>

<div class="viewcode-block" id="exodus.get_partial_element_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_partial_element_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_partial_element_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blockId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_elements</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of element variable values for a specified element</span>
<span class="sd">        block, element variable name, and time step</span>

<span class="sd">        &gt;&gt;&gt; evar_vals = exo.get_element_variable_values(elem_blk_id,</span>
<span class="sd">        ...                                            evar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        blockid : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        name : string</span>
<span class="sd">            name of element variable</span>
<span class="sd">        step : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        start_index: int</span>
<span class="sd">            1-based index of element in block to start returning data</span>
<span class="sd">        num_elements: int</span>
<span class="sd">            number of elements to return data for.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  evar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  evar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_partial_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">blockId</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_elements</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_element_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_element_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_element_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blockId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of element variable values for a specified element</span>
<span class="sd">        block, element variable name, and time step</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_element_variable_values(elem_blk_id,</span>
<span class="sd">        ...             evar_name, time_step, evar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        blockid : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        name : string</span>
<span class="sd">            name of element variable</span>
<span class="sd">        step : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        values : list&lt;float&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">put_variable_values</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blockId</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_element_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of element variables in the model</span>

<span class="sd">        &gt;&gt;&gt; num_evars = exo.get_element_variable_number()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;int&gt;  num_evars</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_element_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_element_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_element_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of element variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_element_variable_number(num_evars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        number : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_element_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of element variable names in the model</span>

<span class="sd">        &gt;&gt;&gt; evar_names = exo.get_element_variable_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  evar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_element_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_element_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_element_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new element variable to the model;</span>
<span class="sd">        element variable indexing goes from 1 to</span>
<span class="sd">        exo.get_element_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_element_variable_name(evar_name, evar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            name : string</span>
<span class="sd">               name of new element variable</span>
<span class="sd">            index : int</span>
<span class="sd">               1-based index of new element variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_evars = exo.get_element_variable_number()</span>
<span class="sd">        &gt;&gt;&gt; new_evar_index = num_evars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_evars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_element_variable_number(num_evars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_element_variable_name(&quot;new_evar&quot;, new_evar_index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">EBvarNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">EBvarNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: element variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">EBvarNames</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="s2">&quot;len&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">EBvarNames</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_attribute_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_attribute_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_attribute_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of attribute names for the specified block/set</span>

<span class="sd">        &gt;&gt;&gt; attr_names = exo.get_attribute_names(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType : ex_entity_type</span>
<span class="sd">            entity type</span>
<span class="sd">        blkid : ex_entity_id</span>
<span class="sd">            block/set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            attr_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_attr_names</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_element_attribute_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_attribute_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_attribute_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkId</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of element attribute names for a block</span>

<span class="sd">        &gt;&gt;&gt; attr_names = exo.get_element_attribute_names(elem_blk_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        blkid : ex_entity_id</span>
<span class="sd">            block/set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            attr_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_attr_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blkId</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_attribute_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_attribute_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_attribute_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the list of element attribute names for a block</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_attribute_names(&#39;EX_ELEM_BLOCK&#39;, elem_blk_id, attr_names)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objType:</span>
<span class="sd">            entity type</span>
<span class="sd">        blkid : ex_entity_id</span>
<span class="sd">            block/set  *ID* (not *INDEX*)</span>
<span class="sd">        attr_names : list&lt;string&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_attr_names</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_element_attribute_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_element_attribute_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_element_attribute_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the list of element attribute names for a block</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_attribute_names(elem_blk_id, attr_names)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        blkid : ex_entity_id</span>
<span class="sd">            block/set *ID* (not *INDEX*)</span>
<span class="sd">        names : list&lt;string&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_attr_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_element_property_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_property_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_property_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of element property names for all element blocks</span>
<span class="sd">        in the model</span>

<span class="sd">        &gt;&gt;&gt; eprop_names = exo.get_element_property_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;list&lt;string&gt;&gt;  eprop_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_prop_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_INQ_EB_PROP&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_element_property_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_element_property_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_element_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get element property value (an integer) for a specified element</span>
<span class="sd">        block and element property name</span>

<span class="sd">        &gt;&gt;&gt; eprop_val = exo.get_element_property_value(elem_blk_id, eprop_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        name : string</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            eprop_val : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">propVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_prop</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">propVal</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_element_property_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_element_property_value">[docs]</a>    <span class="k">def</span> <span class="nf">put_element_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store an element property name and its integer value for an</span>
<span class="sd">        element block</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_element_property_value(elem_blk_id,</span>
<span class="sd">        ...                                         eprop_name, eprop_val)</span>


<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        elem_blk_id : ex_entity_id</span>
<span class="sd">            element block *ID* (not *INDEX*)</span>
<span class="sd">        eprop_name : string</span>

<span class="sd">        eprop_val : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_prop</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="c1">#</span>
    <span class="c1"># nodesets</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_node_sets"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_node_sets">[docs]</a>    <span class="k">def</span> <span class="nf">num_node_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of node sets in the model</span>

<span class="sd">        &gt;&gt;&gt; num_node_sets = exo.num_node_sets()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_node_sets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_ids"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus node set index to user- or application-</span>
<span class="sd">        defined node set id; node_set_ids is ordered</span>
<span class="sd">        by the *INDEX* ordering, a 1-based system going from</span>
<span class="sd">        1 to exo.num_node_sets(), used by exodus for storage</span>
<span class="sd">        and input/output of array data stored on the node sets; a</span>
<span class="sd">        user or application can optionally use a separate node set</span>
<span class="sd">        *ID* numbering system, so the node_set_ids array points to the</span>
<span class="sd">        node set *ID* for each node set *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; node_set_ids = exo.get_ids(&#39;EX_NODE_SET&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  node_set_ids</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  node_set_ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the name of a node set</span>

<span class="sd">        &gt;&gt;&gt; node_set_name = exo.get_node_set_name(node_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">              node set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            node_set_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_name</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the name of a node set</span>

<span class="sd">        &gt;&gt;&gt; exo.put_node_set_name(node_set_id, node_set_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">               node set *ID* (not *INDEX*)</span>
<span class="sd">            node_set_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_name</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list of all node set names ordered by node set *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between node set *ID* and node set *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; node_set_names = exo.get_node_set_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;list&lt;string&gt;&gt;  node_set_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_names</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of all node set names ordered by node set *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between node set *ID* and node set *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; exo.put_node_set_names(node_set_names)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_names</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_nodes_in_node_set"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_nodes_in_node_set">[docs]</a>    <span class="k">def</span> <span class="nf">num_nodes_in_node_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of nodes in a node set</span>

<span class="sd">        &gt;&gt;&gt; num_ns_nodes = exo.num_nodes_in_node_set(node_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id  : ex_entity_id</span>
<span class="sd">               node set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_ns_nodes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_set_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_node_set_nodes</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_set_nodes</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_nodes"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_nodes">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_nodes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of node *INDICES* in a node set</span>
<span class="sd">        (see `exodus.get_id_map` for explanation of node *INDEX*</span>
<span class="sd">        versus node *ID*)</span>

<span class="sd">        &gt;&gt;&gt; ns_nodes = exo.get_node_set_nodes(node_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">               node set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  ns_nodes</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  ns_nodes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_set_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">object_id</span> <span class="ow">in</span> <span class="n">node_set_ids</span>
        <span class="n">node_set_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_node_set</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="n">node_set_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">node_set_nodes</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">node_set_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">node_set_nodes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">node_set_nodes</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">nodeSetNodes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a node set by its id and the list of node *INDICES* in</span>
<span class="sd">        the node set (see `exodus.get_id_map` for explanation of node</span>
<span class="sd">        *INDEX* versus node *ID*)</span>

<span class="sd">        &gt;&gt;&gt; exo.put_node_set(node_set_id, ns_nodes)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">               node set *ID* (not *INDEX*)</span>
<span class="sd">            ns_nodes : list&lt;int&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_node_set</span><span class="p">(</span><span class="n">object_id</span><span class="p">,</span> <span class="n">nodeSetNodes</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_dist_facts"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_dist_facts">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_dist_facts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of distribution factors for nodes in a node set</span>

<span class="sd">        &gt;&gt;&gt; ns_dist_facts = exo.get_node_set_dist_facts(node_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">               node set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  ns_dist_facts  a list of distribution factors,</span>
<span class="sd">                e.g. nodal &#39;weights&#39;</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  ns_dist_facts  a list of distribution</span>
<span class="sd">                factors, e.g. nodal</span>
<span class="sd">                &#39;weights&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">node_set_dfs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_node_set_dist_fact</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="n">node_set_dfs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">node_set_dfs</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">node_set_dfs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">node_set_dfs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">node_set_dfs</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_dist_fact"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_dist_fact">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">nodeSetDistFact</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the list of distribution factors for nodes in a node set</span>

<span class="sd">        &gt;&gt;&gt; exo.put_node_set_dist_fact(node_set_id, ns_dist_facts)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            node set *ID* (not *INDEX*)</span>
<span class="sd">        nodeSetDistFact : list&lt;float&gt;</span>
<span class="sd">            a list of distribution factors, e.g. nodal &#39;weights&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_node_set_dist_fact</span><span class="p">(</span><span class="n">object_id</span><span class="p">,</span> <span class="n">nodeSetDistFact</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of node set variables in the model</span>

<span class="sd">        &gt;&gt;&gt; num_nsvars = exo.get_node_set_variable_number()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_nsvars : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_node_set_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_node_set_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_node_set_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of node set variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_node_set_variable_number(num_nsvars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">              number : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entId</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See `exodus.get_variable_truth_table`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_truth_table</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">entId</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_node_set_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_node_set_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">set_node_set_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See `exodus.set_variable_truth_table`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_variable_truth_table</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of node set variable names in the model</span>

<span class="sd">        &gt;&gt;&gt; nsvar_names = exo.get_node_set_variable_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  nsvar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new node set variable to the model;</span>
<span class="sd">        node set variable indexing goes from 1 to</span>
<span class="sd">        exo.get_node_set_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_node_set_variable_name(nsvar_name, nsvar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            name   : string</span>
<span class="sd">                name of new node set variable</span>
<span class="sd">            index  : int</span>
<span class="sd">                1-based index of new node set variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_nsvars = exo.get_node_set_variable_number()</span>
<span class="sd">        &gt;&gt;&gt; new_nsvar_index = num_nsvars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_nsvars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_node_set_variable_number(num_nsvars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_node_set_variable_name(&quot;new_nsvar&quot;, new_nsvar_index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">NSvarNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">NSvarNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: Node set variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">NSvarNames</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of node set variable values for a specified node</span>
<span class="sd">        set, node set variable name, and time step; the list has</span>
<span class="sd">        one variable value per node in the set</span>

<span class="sd">        &gt;&gt;&gt; nsvar_vals =</span>
<span class="sd">        ...   exo.get_node_set_variable_values(node_set_id,</span>
<span class="sd">        ...    nsvar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_set_id : ex_entity_id</span>
<span class="sd">             node set *ID* (not *INDEX*)</span>
<span class="sd">        nsvar_name  : string</span>
<span class="sd">             name of node set variable</span>
<span class="sd">        time_step   : int</span>
<span class="sd">             1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  nsvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  nsvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_values</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_partial_node_set_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_partial_node_set_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_partial_node_set_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of node set variable values for a specified node</span>
<span class="sd">        set, node set variable name, and time step; the list has</span>
<span class="sd">        one variable value per node in the set</span>

<span class="sd">        &gt;&gt;&gt; nsvar_vals =</span>
<span class="sd">        ...   exo.get_node_set_variable_values(node_set_id,</span>
<span class="sd">        ...    nsvar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_set_id : ex_entity_id</span>
<span class="sd">           node set *ID* (not *INDEX*)</span>
<span class="sd">        nsvar_name  : string  </span>
<span class="sd">           name of node set variable</span>
<span class="sd">        time_step   : int</span>
<span class="sd">           1-based index of time step</span>
<span class="sd">        start_index : int</span>
<span class="sd">           1-based index of node to start returning data</span>
<span class="sd">        num_nodes   : int</span>
<span class="sd">           number of nodes to return data for.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  nsvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  nsvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_partial_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of node set variable values for a specified node</span>
<span class="sd">        set, node set variable name, and time step; the list has one</span>
<span class="sd">        variable value per node in the set</span>

<span class="sd">        &gt;&gt;&gt; status =</span>
<span class="sd">        ... exo.put_node_set_variable_values(node_set_id,</span>
<span class="sd">        ...     nsvar_name, time_step, nsvar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        node_set_id : ex_entity_id</span>
<span class="sd">           node set *ID* (not *INDEX*)</span>
<span class="sd">        nsvar_name  : string</span>
<span class="sd">           name of node set variable</span>
<span class="sd">        time_step   : int</span>
<span class="sd">           1-based index of time step</span>
<span class="sd">        nsvar_vals  : list&lt;float&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">put_variable_values</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_all_node_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_all_node_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_node_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get total number of nodes and distribution factors (e.g. nodal</span>
<span class="sd">        &#39;weights&#39;) combined among all node sets</span>

<span class="sd">        &gt;&gt;&gt; tot_num_ns_nodes,</span>
<span class="sd">        ... tot_num_ns_dist_facts = exo.get_all_node_set_params()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            tot_num_ns_nodes : int</span>
<span class="sd">            tot_num_ns_dist_facts : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodeSetIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_ids</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="n">totNumSetNodes</span><span class="p">,</span> <span class="n">totNumSetDistFacts</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">nodeSetId</span> <span class="ow">in</span> <span class="n">nodeSetIds</span><span class="p">:</span>
            <span class="p">(</span><span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">)</span>
            <span class="n">totNumSetNodes</span> <span class="o">+=</span> <span class="n">numSetNodes</span>
            <span class="n">totNumSetDistFacts</span> <span class="o">+=</span> <span class="n">numSetDistFacts</span>
        <span class="k">return</span> <span class="n">totNumSetNodes</span><span class="p">,</span> <span class="n">totNumSetDistFacts</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">get_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get number of entities and distribution factors (e.g. nodal</span>
<span class="sd">        &#39;weights&#39;) in the specified set</span>

<span class="sd">        &gt;&gt;&gt; num_ns_nodes, num_ns_dist_facts =</span>
<span class="sd">        ...     exo.get_set_params(&#39;EX_NODE_SET&#39;, node_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        set_id : ex_entity_id</span>
<span class="sd">            set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        num_set_entities : int</span>
<span class="sd">        num_set_dist_facts : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">numSetEntities</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">numSetEntities</span><span class="p">,</span> <span class="n">numSetDistFacts</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">put_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSetEntity</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        initialize a new set of the specified type</span>

<span class="sd">        &gt;&gt;&gt; exo.put_set_params(&#39;EX_NODE_SET&#39;, node_set_id,</span>
<span class="sd">        ...                 num_ns_nodes, num_ns_dist_facts)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        set_id : ex_entity_id</span>
<span class="sd">            set *ID* (not *INDEX*)</span>
<span class="sd">        num_set_entity : int</span>
<span class="sd">            number of nodes/edges/faces/elements to be added to set</span>
<span class="sd">        num_dist_facts : int, optional</span>
<span class="sd">            number of distribution factors (e.g. nodal &#39;weights&#39;) --</span>
<span class="sd">            must be equal to zero or num_set_entity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">numSetDistFacts</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numSetDistFacts</span> <span class="o">=</span> <span class="n">numSetEntity</span>
        <span class="k">assert</span> <span class="n">numSetDistFacts</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">numSetEntity</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_set_param</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSetEntity</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; See `exodus.put_set_params` &quot;&quot;&quot;</span>

        <span class="p">(</span><span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; See `exodus.put_set_params` &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">numSetDistFacts</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">numSetDistFacts</span> <span class="o">=</span> <span class="n">numSetNodes</span>
        <span class="k">assert</span> <span class="n">numSetDistFacts</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">numSetNodes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_set_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_property_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_property_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_property_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of node set property names for all node sets in</span>
<span class="sd">        the model</span>

<span class="sd">        &gt;&gt;&gt; nsprop_names = exo.get_node_set_property_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;list&lt;string&gt;&gt;  nsprop_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_prop_names</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_INQ_NS_PROP&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_node_set_property_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_node_set_property_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_node_set_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get node set property value (an integer) for a specified node</span>
<span class="sd">        set and node set property name</span>

<span class="sd">        &gt;&gt;&gt; nsprop_val = exo.get_node_set_property_value(node_set_id, nsprop_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">              node set *ID* (not *INDEX*)</span>
<span class="sd">            name : string</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  nsprop_val</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">propVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_prop</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">propVal</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_set_property_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_set_property_value">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_set_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a node set property name and its integer value for a</span>
<span class="sd">        node set</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_node_set_property_value(node_set_id,</span>
<span class="sd">        ...                   nsprop_name, nsprop_val)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            node_set_id : ex_entity_id</span>
<span class="sd">                node set *ID* (not *INDEX*)</span>
<span class="sd">            name : string</span>
<span class="sd">            value : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_prop</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

    <span class="c1">#</span>
    <span class="c1"># sidesets</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_side_sets"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_side_sets">[docs]</a>    <span class="k">def</span> <span class="nf">num_side_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of side sets in the model</span>

<span class="sd">        &gt;&gt;&gt; num_side_sets = exo.num_side_sets()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;int&gt;  num_side_sets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_ids"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_ids">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get mapping of exodus side set index to user- or application-</span>
<span class="sd">        defined side set id; side_set_ids is ordered</span>
<span class="sd">        by the *INDEX* ordering, a 1-based system going from</span>
<span class="sd">        1 to exo.num_side_sets(), used by exodus for storage</span>
<span class="sd">        and input/output of array data stored on the side sets; a</span>
<span class="sd">        user or application can optionally use a separate side set</span>
<span class="sd">        *ID* numbering system, so the side_set_ids array points to the</span>
<span class="sd">        side set *ID* for each side set *INDEX*</span>

<span class="sd">        &gt;&gt;&gt; side_set_ids = exo.get_ids(&#39;EX_SIDE_SET&#39;)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  side_set_ids</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  side_set_ids</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_name">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the name of a side set</span>

<span class="sd">        &gt;&gt;&gt; side_set_name = exo.get_side_set_name(side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            object_id : ex_entity_id</span>
<span class="sd">               side set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            side_set_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_name</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the name of a side set</span>

<span class="sd">        &gt;&gt;&gt; exo.put_side_set_name(side_set_id, side_set_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            side_set_id : ex_entity_id</span>
<span class="sd">               side set *ID* (not *INDEX*)</span>
<span class="sd">            side_set_name : string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_name</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a list of all side set names ordered by side set *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between side set *ID* and side set *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; side_set_names = exo.get_side_set_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            side_set_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_names</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_names">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of all side set names ordered by side set *INDEX*;</span>
<span class="sd">        (see `exodus.get_ids` for explanation of the</span>
<span class="sd">        difference between side set *ID* and side set *INDEX*)</span>

<span class="sd">        &gt;&gt;&gt; exo.put_side_set_names(side_set_names)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            side_set_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_names</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.num_faces_in_side_set"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.num_faces_in_side_set">[docs]</a>    <span class="k">def</span> <span class="nf">num_faces_in_side_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of faces in a side set</span>

<span class="sd">        &gt;&gt;&gt; num_ss_faces = exo.num_faces_in_side_set(side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            side_set_id : ex_entity_id</span>
<span class="sd">               side set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            num_ss_faces : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ssids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">object_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ssids</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: queried side set ID does not exist in database&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="p">(</span><span class="n">num_side_in_set</span><span class="p">,</span> <span class="n">_num_dist_fact_in_set</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">num_side_in_set</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_all_side_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_all_side_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_side_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get total number of sides, nodes, and distribution factors</span>
<span class="sd">        (e.g. nodal &#39;weights&#39;) combined among all side sets</span>

<span class="sd">        &gt;&gt;&gt; tot_num_ss_sides, tot_num_ss_nodes, tot_num_ss_dist_facts =</span>
<span class="sd">        ...          exo.get_all_side_set_params()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tot_num_ss_sides : int</span>
<span class="sd">        tot_num_ss_nodes : int</span>
<span class="sd">        tot_num_ss_dist_facts : int</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        The number of nodes (and distribution factors) in a side set is</span>
<span class="sd">        the sum of all face nodes.  A single node can be counted more</span>
<span class="sd">        than once, i.e. once for each face it belongs to in the side set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_ids</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="n">totNumSetSides</span><span class="p">,</span> <span class="n">totNumSetDistFacts</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>  <span class="c1"># totNumSetDistFacts = totNumSetNodes</span>
        <span class="k">for</span> <span class="n">sideSetId</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="p">(</span><span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">sideSetId</span><span class="p">)</span>
            <span class="n">totNumSetSides</span> <span class="o">+=</span> <span class="n">numSetSides</span>
            <span class="n">totNumSetDistFacts</span> <span class="o">+=</span> <span class="n">numSetDistFacts</span>
        <span class="n">totNumSetNodes</span> <span class="o">=</span> <span class="n">totNumSetDistFacts</span>
        <span class="k">return</span> <span class="n">totNumSetSides</span><span class="p">,</span> <span class="n">totNumSetNodes</span><span class="p">,</span> <span class="n">totNumSetDistFacts</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get number of sides and nodal distribution factors (e.g. nodal</span>
<span class="sd">        &#39;weights&#39;) in a side set</span>

<span class="sd">        &gt;&gt;&gt; num_ss_sides, num_ss_dist_facts = exo.get_side_set_params(side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        side_set_id : ex_entity_id</span>
<span class="sd">             side set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            num_ss_sides : int</span>
<span class="sd">            num_ss_dist_facts : int</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        The number of nodes (and distribution factors) in a side set is</span>
<span class="sd">        the sum of all face nodes.  A single node can be counted more</span>
<span class="sd">        than once, i.e. once for each face it belongs to in the side set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_params"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_params">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        initialize a new side set</span>

<span class="sd">        &gt;&gt;&gt; exo.put_side_set_params(side_set_id, num_ss_sides, num_ss_dist_facts)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            side_set_id : ex_entity_id</span>
<span class="sd">                side set *ID* (not *INDEX*)</span>
<span class="sd">            num_ss_sides : int</span>
<span class="sd">                number of sides to be added to set</span>
<span class="sd">            num_ss_dist_facts : int</span>
<span class="sd">                number of nodal distribution factors (e.g. nodal &#39;weights&#39;)</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        The number of nodes (and distribution factors) in a side set is</span>
<span class="sd">        the sum of all face nodes.  A single node can be counted more</span>
<span class="sd">        than once, i.e. once for each face it belongs to in the side set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_set_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the lists of element and side indices in a side set; the</span>
<span class="sd">        two lists correspond: together, ss_elems[i] and ss_sides[i]</span>
<span class="sd">        define the face of an element</span>

<span class="sd">        &gt;&gt;&gt; ss_elems, ss_sides = exo.get_side_set(side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            side_set_id : ex_entity_id</span>
<span class="sd">               side set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  ss_elems</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  ss_sides</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  ss_elems</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  ss_sides</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">side_set_elem_list</span><span class="p">,</span> <span class="n">side_set_side_list</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_side_set</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">side_set_elem_list</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side_set_elem_list</span><span class="p">)</span>
            <span class="n">side_set_side_list</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side_set_side_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">side_set_elem_list</span><span class="p">,</span> <span class="n">side_set_side_list</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">sideSetElements</span><span class="p">,</span> <span class="n">sideSetSides</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a side set by its id and the lists of element and side</span>
<span class="sd">        indices in the side set; the two lists correspond: together,</span>
<span class="sd">        ss_elems[i] and ss_sides[i] define the face of an element</span>

<span class="sd">        &gt;&gt;&gt; exo.put_side_set(side_set_id, ss_elems, ss_sides)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        side_set_id : ex_entity_id</span>
<span class="sd">            side set *ID* (not *INDEX*)</span>
<span class="sd">        ss_elems : list&lt;int&gt;</span>
<span class="sd">        ss_sides : list&lt;int&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_side_set</span><span class="p">(</span><span class="n">object_id</span><span class="p">,</span> <span class="n">sideSetElements</span><span class="p">,</span> <span class="n">sideSetSides</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_dist_fact"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_dist_fact">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of distribution factors for nodes in a side set</span>

<span class="sd">        &gt;&gt;&gt; ss_dist_facts = exo.get_side_set_dist_fact(side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        side_set_id : ex_entity_id</span>
<span class="sd">             side set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  ss_dist_facts  a list of distribution factors,</span>
<span class="sd">                e.g. nodal &#39;weights&#39;</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  ss_dist_facts  a list of distribution</span>
<span class="sd">                factors, e.g. nodal</span>
<span class="sd">                &#39;weights&#39;</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        The number of nodes (and distribution factors) in a side set is</span>
<span class="sd">        the sum of all face nodes.  A single node can be counted more</span>
<span class="sd">        than once, i.e. once for each face it belongs to in the side set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">side_set_dfs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_side_set_dist_fact</span><span class="p">(</span><span class="n">object_id</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">side_set_dfs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">side_set_dfs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">side_set_dfs</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_dist_fact"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_dist_fact">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">sideSetDistFact</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store the list of distribution factors for nodes in a side set</span>

<span class="sd">        &gt;&gt;&gt; exo.put_side_set_dist_fact(side_set_id, ss_dist_facts)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            node set *ID* (not *INDEX*)</span>
<span class="sd">        sideSetDistFact : list&lt;float&gt;</span>
<span class="sd">            a list of distribution factors, e.g. nodal &#39;weights&#39;</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        The number of nodes (and distribution factors) in a side set is</span>
<span class="sd">        the sum of all face nodes.  A single node can be counted more</span>
<span class="sd">        than once, i.e. once for each face it belongs to in the side set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_side_set_dist_fact</span><span class="p">(</span><span class="n">object_id</span><span class="p">,</span> <span class="n">sideSetDistFact</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_node_list"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_node_list">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_node_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get two lists:</span>
<span class="sd">         1. number of nodes for each side in the set</span>
<span class="sd">         2. concatenation of the nodes for each side in the set</span>

<span class="sd">        &gt;&gt;&gt; ss_num_nodes_per_side, ss_nodes = exo.get_side_set_node_list(side_set_id)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        side_set_id : ex_entity_id</span>
<span class="sd">             side set *ID* (not *INDEX*)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  ss_num_side_nodes</span>
<span class="sd">              &lt;list&lt;int&gt;&gt;  ss_nodes</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  ss_num_side_nodes</span>
<span class="sd">              &lt;np_array&lt;int&gt;&gt;  ss_nodes</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        The number of nodes (and distribution factors) in a side set is</span>
<span class="sd">        the sum of all face nodes.  A single node can be counted more</span>
<span class="sd">        than once, i.e. once for each face it belongs to in the side set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="p">(</span><span class="n">side_set_node_cnt_list</span><span class="p">,</span>
         <span class="n">side_set_node_list</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_side_set_node_list</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">side_set_node_cnt_list</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="n">side_set_node_cnt_list</span><span class="p">)</span>
            <span class="n">side_set_node_list</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side_set_node_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">side_set_node_cnt_list</span><span class="p">,</span> <span class="n">side_set_node_list</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entId</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See `exodus.get_variable_truth_table`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_truth_table</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">entId</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_side_set_variable_truth_table"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_side_set_variable_truth_table">[docs]</a>    <span class="k">def</span> <span class="nf">set_side_set_variable_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        See `exodus.set_variable_truth_table`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_variable_truth_table</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of side set variables in the model</span>

<span class="sd">        &gt;&gt;&gt; num_ssvars = exo.get_side_set_variable_number()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;int&gt;  num_ssvars</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_side_set_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_side_set_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_side_set_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of side set variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_side_set_variable_number(num_ssvars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        number : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of side set variable names in the model</span>

<span class="sd">        &gt;&gt;&gt; ssvar_names = exo.get_side_set_variable_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  ssvar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new side set variable to the model;</span>
<span class="sd">        side set variable indexing goes from 1 to</span>
<span class="sd">        exo.get_side_set_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_side_set_variable_name(ssvar_name, ssvar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string</span>
<span class="sd">           name of new side set variable</span>
<span class="sd">        index : int</span>
<span class="sd">           1-based index of new side set variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_ssvars = exo.get_side_set_variable_number()</span>
<span class="sd">        &gt;&gt;&gt; new_ssvar_index = num_ssvars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_ssvars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_side_set_variable_number(num_ssvars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_side_set_variable_name(&quot;new_ssvar&quot;, new_ssvar_index)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">SSvarNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">SSvarNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: Side set variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">SSvarNames</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of side set variable values for a specified side</span>
<span class="sd">        set, side set variable name, and time step; the list has</span>
<span class="sd">        one variable value per side in the set</span>

<span class="sd">        &gt;&gt;&gt; ssvar_vals = exo.get_side_set_variable_values(side_set_id,</span>
<span class="sd">        ...    ssvar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        side_set_id : ex_entity_id</span>
<span class="sd">            side set *ID* (not *INDEX*)</span>
<span class="sd">        ssvar_name  : string</span>
<span class="sd">            name of side set variable</span>
<span class="sd">        time_step   : int</span>
<span class="sd">            1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  ssvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  ssvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_values</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_partial_side_set_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_partial_side_set_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_partial_side_set_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get list of side set variable values for a specified side</span>
<span class="sd">        set, side set variable name, and time step; the list has</span>
<span class="sd">        one variable value per side in the set</span>

<span class="sd">        &gt;&gt;&gt; ssvar_vals = exo.get_side_set_variable_values(side_set_id,</span>
<span class="sd">        ...    ssvar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id : ex_entity_id</span>
<span class="sd">            side set *ID* (not *INDEX*)</span>
<span class="sd">        name  : string</span>
<span class="sd">            name of side set variable</span>
<span class="sd">        step   : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        start_index : int</span>
<span class="sd">            1-based index of side to start returning data</span>
<span class="sd">        num_sides : int</span>
<span class="sd">            number of sides to return data for.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;ctypes.c_double&gt;&gt;  ssvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  ssvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_partial_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a list of side set variable values for a specified side</span>
<span class="sd">        set, side set variable name, and time step; the list has one</span>
<span class="sd">        variable value per side in the set</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_side_set_variable_values(side_set_id,</span>
<span class="sd">        ...              ssvar_name, time_step, ssvar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id  : ex_entity_id</span>
<span class="sd">            side set *ID* (not *INDEX*)</span>
<span class="sd">        name   : string</span>
<span class="sd">            name of side set variable</span>
<span class="sd">        step    : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        values   : list&lt;float&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">put_variable_values</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_property_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_property_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_property_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of side set property names for all side sets in</span>
<span class="sd">        the model</span>

<span class="sd">        &gt;&gt;&gt; ssprop_names = exo.get_side_set_property_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            ssprop_names : list&lt;string&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_prop_names</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="s1">&#39;EX_INQ_SS_PROP&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_side_set_property_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_side_set_property_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_side_set_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get side set property value (an integer) for a specified side</span>
<span class="sd">        set and side set property name</span>

<span class="sd">        &gt;&gt;&gt; ssprop_val = exo.get_side_set_property_value(side_set_id, ssprop_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id  : ex_entity_id</span>
<span class="sd">            side set *ID* (not *INDEX*)</span>
<span class="sd">        name   : string</span>
<span class="sd">            name of side set property</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            ssprop_val : int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">propVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_prop</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">propVal</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_side_set_property_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_side_set_property_value">[docs]</a>    <span class="k">def</span> <span class="nf">put_side_set_property_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a side set property name and its integer value for a</span>
<span class="sd">        side set</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_side_set_property_value(side_set_id,</span>
<span class="sd">        ...               ssprop_name, ssprop_val)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        object_id  : ex_entity_id</span>
<span class="sd">            side set *ID* (not *INDEX*)</span>
<span class="sd">        name   : string</span>
<span class="sd">            name of side set property</span>
<span class="sd">        value : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_prop</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

    <span class="c1">#</span>
    <span class="c1"># global variables</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_global_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_global_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">get_global_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the number of global variables in the model</span>

<span class="sd">        &gt;&gt;&gt; num_gvars = exo.get_global_variable_number()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;int&gt;  num_gvars</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.set_global_variable_number"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.set_global_variable_number">[docs]</a>    <span class="k">def</span> <span class="nf">set_global_variable_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the number of global variables in the model</span>

<span class="sd">        &gt;&gt;&gt; status = exo.set_global_variable_number(num_gvars)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        number : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_global_variable_names"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_global_variable_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_global_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of global variable names in the model</span>

<span class="sd">        &gt;&gt;&gt; gvar_names = exo.get_global_variable_names()</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">              &lt;list&lt;string&gt;&gt;  gvar_names</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_global_variable_name"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_global_variable_name">[docs]</a>    <span class="k">def</span> <span class="nf">put_global_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the name and index of a new global variable to the model;</span>
<span class="sd">        global variable indexing goes from 1 to</span>
<span class="sd">        exo.get_global_variable_number()</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_global_variable_name(gvar_name, gvar_index)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string</span>
<span class="sd">           name of new global variable</span>
<span class="sd">        index : int</span>
<span class="sd">           1-based index of new global variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        this method is often called within the following sequence:</span>

<span class="sd">        &gt;&gt;&gt; num_gvars = exo.get_global_variable_number()</span>
<span class="sd">        &gt;&gt;&gt; new_gvar_index = num_gvars + 1</span>
<span class="sd">        &gt;&gt;&gt; num_gvars += 1</span>
<span class="sd">        &gt;&gt;&gt; exo.set_global_variable_number(num_gvars)</span>
<span class="sd">        &gt;&gt;&gt; exo.put_global_variable_name(&quot;new_gvar&quot;, new_gvar_index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">GlobVarNames</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">GlobVarNames</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;WARNING: Global variable </span><span class="se">\&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1"> already exists.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">GlobVarNames</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="s2">&quot;len&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">GlobVarNames</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: variable index out of range.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ex_put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_global_variable_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_global_variable_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_global_variable_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get a global variable value for a specified global variable</span>
<span class="sd">        name and time step</span>

<span class="sd">        &gt;&gt;&gt; gvar_val = exo.get_global_variable_value(gvar_name, time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string</span>
<span class="sd">           name of global variable</span>
<span class="sd">        step : int</span>
<span class="sd">           1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">            &lt;float&gt;  gvar_val</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">gvalues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">gvalues</span><span class="p">[</span><span class="n">var_id</span><span class="p">]</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_all_global_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_all_global_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_global_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get all global variable values (one for each global variable</span>
<span class="sd">        name, and in the order given by exo.get_global_variable_names())</span>
<span class="sd">        at a specified time step</span>

<span class="sd">        &gt;&gt;&gt; gvar_vals = exo.get_all_global_variable_values(time_step)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        step : int</span>
<span class="sd">           1-based index of time step</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  gvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  gvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">gvalues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_var</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">gvalues</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="o">.</span><span class="n">value</span><span class="p">)]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_global_variable_value"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_global_variable_value">[docs]</a>    <span class="k">def</span> <span class="nf">put_global_variable_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store a global variable value for a specified global variable</span>
<span class="sd">        name and time step</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_global_variable_value(gvar_name, time_step, gvar_val)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name : string</span>
<span class="sd">            name of global variable</span>
<span class="sd">        step : int</span>
<span class="sd">            1-based index of time step</span>
<span class="sd">        value  : float</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># we must write all values at once, not individually</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="c1"># get all values</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">numVals</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numVals</span><span class="p">):</span>
            <span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_global_variable_value</span><span class="p">(</span>
                    <span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">step</span><span class="p">))</span>
        <span class="c1"># adjust one of them</span>
        <span class="n">values</span><span class="p">[</span><span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="c1"># write them all</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_var</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">step</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">numVals</span><span class="p">),</span>
                              <span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_all_global_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_all_global_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">put_all_global_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store all global variable values (one for each global variable</span>
<span class="sd">        name, and in the order given by exo.get_global_variable_names())</span>
<span class="sd">        at a specified time step</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_all_global_variable_values(time_step, gvar_vals)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            step : int</span>
<span class="sd">               1-based index of time step</span>
<span class="sd">            values : list&lt;float&gt;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">gvalues</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">numVals</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numVals</span><span class="p">):</span>
            <span class="n">gvalues</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_var</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">step</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                              <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">numVals</span><span class="p">),</span>
                              <span class="n">gvalues</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.get_global_variable_values"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.get_global_variable_values">[docs]</a>    <span class="k">def</span> <span class="nf">get_global_variable_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get global variable values over all time steps for one global</span>
<span class="sd">        variable name</span>

<span class="sd">        &gt;&gt;&gt; gvar_vals = exo.get_global_variable_values(gvar_name)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            name : string</span>
<span class="sd">              name of global variable</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  gvar_vals</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  gvar_vals</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">gvalues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_var</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gvalues</span><span class="p">[</span><span class="n">var_id</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">values</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_polyhedra_elem_blk"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_polyhedra_elem_blk">[docs]</a>    <span class="k">def</span> <span class="nf">put_polyhedra_elem_blk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkID</span><span class="p">,</span>
                               <span class="n">num_elems_this_blk</span><span class="p">,</span>
                               <span class="n">num_faces</span><span class="p">,</span>
                               <span class="n">num_attr_per_elem</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put in an element block with polyhedral elements</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_polyhedra_elem_blk(blkID, num_elems_this_blk,</span>
<span class="sd">        ...                                     num_faces, num_attr_per_elem)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        blkID : ex_entity_id</span>
<span class="sd">            id of the block to be added</span>
<span class="sd">        num_elems_this_blk : int</span>
<span class="sd">        num_faces  : int</span>
<span class="sd">            total number of faces in this block</span>
<span class="sd">        num_attr_per_elem : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ebType</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_block</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ebType</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkID</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;NFACED&quot;</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">num_elems_this_blk</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">num_faces</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">num_attr_per_elem</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_polyhedra_face_blk"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_polyhedra_face_blk">[docs]</a>    <span class="k">def</span> <span class="nf">put_polyhedra_face_blk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkID</span><span class="p">,</span>
                               <span class="n">num_faces_this_blk</span><span class="p">,</span>
                               <span class="n">num_nodes</span><span class="p">,</span>
                               <span class="n">num_attr_per_face</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put in a block of faces</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_polyhedra_face_blk(blkID, num_faces_this_blk,</span>
<span class="sd">        ...                                     num_nodes, num_attr_per_face)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        blkID : ex_entity_id</span>
<span class="sd">            id of the block to be added</span>
<span class="sd">        num_faces_this_blk : int</span>
<span class="sd">        num_nodes  : int</span>
<span class="sd">            total number of nodes in this block</span>
<span class="sd">        num_attr_per_face : int</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fbType</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_FACE_BLOCK&#39;</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_block</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">fbType</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkID</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;NSIDED&quot;</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">num_faces_this_blk</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">num_nodes</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
                                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">num_attr_per_face</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_face_count_per_polyhedra"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_face_count_per_polyhedra">[docs]</a>    <span class="k">def</span> <span class="nf">put_face_count_per_polyhedra</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkID</span><span class="p">,</span> <span class="n">entityCounts</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put in a count of faces in for each polyhedra in an elem block</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_face_count_per_polyhedra(blkID, entityCounts)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            blkID : ex_entity_id</span>
<span class="sd">                id of the block to be added</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  entityCounts</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  entityCounts</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ebType</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">))</span>
        <span class="n">entity_counts</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">entityCounts</span><span class="p">))()</span>
        <span class="n">entity_counts</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">entityCounts</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_entity_count_per_polyhedra</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ebType</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkID</span><span class="p">),</span> <span class="n">entity_counts</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_node_count_per_face"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_node_count_per_face">[docs]</a>    <span class="k">def</span> <span class="nf">put_node_count_per_face</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkID</span><span class="p">,</span> <span class="n">entityCounts</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put in a count of nodes in for each face in a polygonal face block</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_node_count_per_face(blkID, entityCounts)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            blkID : ex_entity_id</span>
<span class="sd">                id of the block to be added</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  entityCounts</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  entityCounts</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ebType</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_FACE_BLOCK&#39;</span><span class="p">))</span>
        <span class="n">entity_counts</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">entityCounts</span><span class="p">))()</span>
        <span class="n">entity_counts</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">entityCounts</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_entity_count_per_polyhedra</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ebType</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkID</span><span class="p">),</span> <span class="n">entity_counts</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_elem_face_conn"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_elem_face_conn">[docs]</a>    <span class="k">def</span> <span class="nf">put_elem_face_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">elemFaceConn</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put in connectivity information from elems to faces</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_elem_face_conn(blkID, elemFaceConn)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            blkID : ex_entity_id</span>
<span class="sd">                id of the block to be added</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  elemFaceConn  (raveled/flat list)</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  elemFaceConn  (raveled/flat array)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ebType</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">))</span>
        <span class="n">elem_face_conn</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemFaceConn</span><span class="p">))()</span>
        <span class="n">elem_face_conn</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">elemFaceConn</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_conn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ebType</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">),</span>
                               <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">elem_face_conn</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.put_face_node_conn"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.put_face_node_conn">[docs]</a>    <span class="k">def</span> <span class="nf">put_face_node_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">faceNodeConn</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        put in connectivity information from faces to nodes</span>

<span class="sd">        &gt;&gt;&gt; status = exo.put_face_node_conn(blkID, faceNodeConn)</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">            blkID : ex_entity_id</span>
<span class="sd">                id of the block to be added</span>

<span class="sd">            if array_type == &#39;ctype&#39;:</span>
<span class="sd">              &lt;list&lt;float&gt;&gt;  faceNodeConn  (raveled/flat list)</span>

<span class="sd">            if array_type == &#39;numpy&#39;:</span>
<span class="sd">              &lt;np_array&lt;double&gt;&gt;  faceNodeConn  (raveled/flat array)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status : bool</span>
<span class="sd">            True = successful execution</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ebType</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_FACE_BLOCK&#39;</span><span class="p">))</span>
        <span class="n">node_conn</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">faceNodeConn</span><span class="p">))()</span>
        <span class="n">node_conn</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">faceNodeConn</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_conn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ebType</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">),</span>
                               <span class="n">node_conn</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>

<div class="viewcode-block" id="exodus.close"><a class="viewcode-back" href="../exodus3.html#exodus3.exodus.close">[docs]</a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        close the exodus file</span>

<span class="sd">        &gt;&gt;&gt; exo.close()</span>

<span class="sd">        Note</span>
<span class="sd">        -----</span>
<span class="sd">        Can only be called once for an exodus object, and once called</span>
<span class="sd">        all methods for that object become inoperable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Closing exodus file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">errorInt</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_close</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">errorInt</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: Closing file &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span> <span class="o">+</span> <span class="s2">&quot; had problems.&quot;</span><span class="p">)</span></div>

    <span class="c1"># --------------------------------------------------------------------</span>
    <span class="c1">#</span>
    <span class="c1"># Private Exodus API calls</span>
    <span class="c1">#</span>
    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">io_size</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Opening exodus file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">EX_READ</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">EX_WRITE</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;w+&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">EX_CLOBBER</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: Cannot open &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span> <span class="o">+</span> <span class="s2">&quot; for read. Does not exist.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ERROR: Cowardly not opening </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="si">}</span><span class="s2"> for write. File already exists.&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: File open mode &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span> <span class="o">+</span> <span class="s2">&quot; unrecognized.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">comp_ws</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">io_ws</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">io_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeChar</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">]:</span>  <span class="c1"># open existing file</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_open_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
                                                 <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comp_ws</span><span class="p">),</span>
                                                 <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_ws</span><span class="p">),</span>
                                                 <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">),</span>
                                                 <span class="n">EX_API_VERSION_NODOT</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># create file</span>
            <span class="k">if</span> <span class="n">io_size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">io_size</span> <span class="o">=</span> <span class="mi">8</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">io_ws</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">io_size</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__create</span><span class="p">()</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__create</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_create_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
                                               <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">comp_ws</span><span class="p">),</span>
                                               <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_ws</span><span class="p">),</span>
                                               <span class="n">EX_API_VERSION_NODOT</span><span class="p">)</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Title</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numAssembly</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numBlob</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numAssembly</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numBlob</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_init</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">Title</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span><span class="p">))</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Title</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_init</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Title</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numElemBlk</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numNodeSets</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">numSideSets</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_float</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_DB_VERS&#39;</span><span class="p">))</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_concat_elem_blk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elemBlkIDs</span><span class="p">,</span> <span class="n">elemType</span><span class="p">,</span> <span class="n">numElemThisBlk</span><span class="p">,</span>
                                 <span class="n">numNodesPerElem</span><span class="p">,</span> <span class="n">numAttr</span><span class="p">,</span> <span class="n">defineMaps</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">elem_blk_ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
            <span class="n">elem_blk_ids</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">elemBlkIDs</span>
            <span class="n">num_elem_this_blk</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
            <span class="n">num_elem_this_blk</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numElemThisBlk</span>
            <span class="n">num_nodes_per_elem</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
            <span class="n">num_nodes_per_elem</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numNodesPerElem</span>
            <span class="n">num_attr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elem_blk_ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
            <span class="n">elem_blk_ids</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">elemBlkIDs</span>
            <span class="n">num_elem_this_blk</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
            <span class="n">num_elem_this_blk</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numElemThisBlk</span>
            <span class="n">num_nodes_per_elem</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
            <span class="n">num_nodes_per_elem</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numNodesPerElem</span>
            <span class="n">num_attr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
        <span class="n">num_attr</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numAttr</span>
        <span class="n">elem_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">elemBlkIDs</span><span class="p">))()</span>
        <span class="n">elem_type</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">elemType</span>
        <span class="n">define_maps</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">defineMaps</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_concat_elem_block</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">elem_blk_ids</span><span class="p">,</span>
            <span class="n">elem_type</span><span class="p">,</span>
            <span class="n">num_elem_this_blk</span><span class="p">,</span>
            <span class="n">num_nodes_per_elem</span><span class="p">,</span>
            <span class="n">num_attr</span><span class="p">,</span>
            <span class="n">define_maps</span><span class="p">)</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_qa</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">num_qa_recs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_QA&#39;</span><span class="p">)))</span>
        <span class="n">qa_rec_ptrs</span> <span class="o">=</span> <span class="p">((</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">*</span> <span class="n">num_qa_recs</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_qa_recs</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
                <span class="n">qa_rec_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                    <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">num_qa_recs</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_qa</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">qa_rec_ptrs</span><span class="p">))</span>
        <span class="n">qa_recs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">qara</span> <span class="ow">in</span> <span class="n">qa_rec_ptrs</span><span class="p">:</span>
            <span class="n">qa_rec_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">ptr</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ptr</span> <span class="ow">in</span> <span class="n">qara</span><span class="p">]</span>
            <span class="n">qa_rec_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">qa_rec_list</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">qa_rec_tuple</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
            <span class="n">qa_recs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qa_rec_tuple</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">qa_recs</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_qa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qaRecs</span><span class="p">):</span>
        <span class="n">num_qa_recs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">qaRecs</span><span class="p">))</span>
        <span class="n">qa_rec_ptrs</span> <span class="o">=</span> <span class="p">((</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">*</span> <span class="n">num_qa_recs</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_qa_recs</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
                <span class="n">qa_rec_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">qaRecs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_qa</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">num_qa_recs</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">qa_rec_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_ex_get_info_recs_quietly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">num_infos</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_INFO&#39;</span><span class="p">)))</span>
        <span class="n">info_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">info_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">info_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">irp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">irp</span> <span class="ow">in</span> <span class="n">info_ptrs</span><span class="p">]</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_info_recs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">num_infos</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_INFO&#39;</span><span class="p">)))</span>
        <span class="n">info_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">info_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">info_ptrs</span><span class="p">))</span>
        <span class="n">info_recs</span> <span class="o">=</span> <span class="p">[</span><span class="n">irp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">irp</span> <span class="ow">in</span> <span class="n">info_ptrs</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">info_recs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">MAX_LINE_LENGTH</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: max line length reached for one or more info records;&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;         info might be incomplete for these records&quot;</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">info_recs</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_info_recs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">infoRecs</span><span class="p">):</span>
        <span class="n">num_infos</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">infoRecs</span><span class="p">))</span>
        <span class="n">info_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_infos</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">info_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">infoRecs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">num_infos</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">info_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_inquire_float</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inq_id</span><span class="p">):</span>
        <span class="n">dummy_char</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_LINE_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">ret_float</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_INQ_INT64_API</span><span class="p">:</span>
            <span class="n">dummy_int</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dummy_int</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_inquire</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">inq_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">dummy_int</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ret_float</span><span class="p">),</span>
            <span class="n">dummy_char</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: ex_inquire(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">inq_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;) failed on &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret_float</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_inquire_int</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inq_id</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_inquire_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">inq_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: ex_inquire_int(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">inq_id</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;) failed on &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">val</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_coord_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">coord_name_ptrs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">coord_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_coord_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">coord_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">cnp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">cnp</span> <span class="ow">in</span> <span class="n">coord_name_ptrs</span><span class="p">]</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_coord_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">names</span><span class="p">):</span>
        <span class="n">coord_name_ptrs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="o">.</span><span class="n">value</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numDim</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">coord_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_coord_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">coord_name_ptrs</span><span class="p">))</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_all_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTimes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_all_times</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">))</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">):</span>
        <span class="n">time_step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">time_val</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">time_step</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">time_val</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">time_val</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">,</span> <span class="n">timeVal</span><span class="p">):</span>
        <span class="n">time_step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">time_val</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">timeVal</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">time_step</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">time_val</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">obj_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">objId</span><span class="p">)</span>
        <span class="n">obj_name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">obj_name</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">obj_name</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_put_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">,</span> <span class="n">objName</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">obj_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">objId</span><span class="p">)</span>
        <span class="n">obj_name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">objName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">,</span> <span class="n">obj_name</span><span class="p">)</span>

    <span class="c1"># --------------------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">__ex_get_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span><span class="o">.</span><span class="n">value</span>
        <span class="n">obj_name_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_objs</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_objs</span><span class="p">):</span>
            <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
            <span class="n">obj_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">obj_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">onp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">onp</span> <span class="ow">in</span> <span class="n">obj_name_ptrs</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__ex_put_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objNames</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">numObjs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span><span class="o">.</span><span class="n">value</span>
        <span class="k">assert</span> <span class="n">numObjs</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">objNames</span><span class="p">)</span>
        <span class="n">obj_name_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">):</span>
            <span class="n">obj_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">objNames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_names</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">obj_name_ptrs</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__ex_get_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">numObjs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="k">if</span> <span class="n">numObjs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
            <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_ids</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ids</span>

    <span class="k">def</span> <span class="nf">__ex_get_assembly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assem_struct</span><span class="p">):</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_assembly</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">assem_struct</span><span class="p">))</span>
        <span class="n">ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">assem_struct</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">)</span>
        <span class="n">eptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">assem_struct</span><span class="o">.</span><span class="n">entity_count</span><span class="p">)()</span>
        <span class="n">assem_struct</span><span class="o">.</span><span class="n">entity_list</span> <span class="o">=</span> <span class="n">eptr</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_assembly</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">assem_struct</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__ex_get_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assem_list</span><span class="p">):</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">assem_list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">assem_struct</span> <span class="ow">in</span> <span class="n">assem_list</span><span class="p">:</span>
            <span class="n">ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">assem_struct</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">)</span>
            <span class="n">eptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">assem_struct</span><span class="o">.</span><span class="n">entity_count</span><span class="p">)()</span>
            <span class="n">assem_struct</span><span class="o">.</span><span class="n">entity_list</span> <span class="o">=</span> <span class="n">eptr</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">assem_list</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob_struct</span><span class="p">):</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_blob</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">blob_struct</span><span class="p">))</span>
        <span class="n">ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">blob_struct</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_blob</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">blob_struct</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__ex_put_assembly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assembly</span><span class="p">):</span>
        <span class="n">assem</span> <span class="o">=</span> <span class="n">setup_ex_assembly</span><span class="p">(</span><span class="n">assembly</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_assembly</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">assem</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_put_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">assemblies</span><span class="p">):</span>
        <span class="n">assembly_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">assembly</span> <span class="ow">in</span> <span class="n">assemblies</span><span class="p">:</span>
            <span class="n">assem</span> <span class="o">=</span> <span class="n">setup_ex_assembly</span><span class="p">(</span><span class="n">assembly</span><span class="p">)</span>
            <span class="n">assembly_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">assem</span><span class="p">)</span>
        <span class="n">assems</span> <span class="o">=</span> <span class="p">(</span><span class="n">ex_assembly</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">assemblies</span><span class="p">))(</span><span class="o">*</span><span class="n">assembly_list</span><span class="p">)</span>

        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_assemblies</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">assembly_list</span><span class="p">),</span> <span class="n">assems</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_attribute_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">):</span>
        <span class="c1"># Get attribute count...</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">obj_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">objId</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_attribute_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">):</span>
        <span class="c1"># Get attribute count...</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">obj_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">objId</span><span class="p">)</span>
        <span class="n">att_count</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_attribute_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">)</span>

        <span class="n">attributes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">att_count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">att</span> <span class="o">=</span> <span class="p">(</span><span class="n">ex_attribute</span> <span class="o">*</span> <span class="n">att_count</span><span class="p">)()</span>
            <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_attribute_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">att</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">att_count</span><span class="p">):</span>
                <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">tmp_att</span> <span class="o">=</span> <span class="n">attribute</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">),</span> <span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">entity_id</span><span class="p">)</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">2</span><span class="p">):</span>
                    <span class="n">vals</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span><span class="p">))</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="p">[</span><span class="n">vals</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
                    <span class="n">tmp_att</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">4</span><span class="p">):</span>
                    <span class="n">vals</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value_count</span><span class="p">):</span>
                        <span class="n">tmp_att</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">6</span><span class="p">):</span>
                    <span class="n">vals</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value_count</span><span class="p">):</span>
                        <span class="n">tmp_att</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vals</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>

                <span class="n">attributes</span><span class="p">[</span><span class="n">att</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">tmp_att</span>

        <span class="k">return</span> <span class="n">attributes</span>

    <span class="k">def</span> <span class="nf">__ex_put_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">):</span>
        <span class="n">att_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">entity_id</span><span class="p">)</span>
        <span class="n">att</span> <span class="o">=</span> <span class="n">ex_attribute</span><span class="p">(</span><span class="n">entity_id</span><span class="o">=</span><span class="n">att_id</span><span class="p">)</span>
        <span class="n">att</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
        <span class="n">att</span><span class="o">.</span><span class="n">entity_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">entity_type</span><span class="p">))</span>
        <span class="n">att</span><span class="o">.</span><span class="n">value_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="n">eptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">)):</span>
                <span class="n">eptr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">att</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">eptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">)</span>
            <span class="n">att</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">4</span>

        <span class="k">elif</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="n">eptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">)):</span>
                <span class="n">eptr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">att</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">eptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">)</span>
            <span class="n">att</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">6</span>

        <span class="k">elif</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="n">eptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))()</span>
            <span class="n">eptr</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
            <span class="n">att</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">eptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">)</span>
            <span class="n">att</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="mi">2</span>

        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_attribute</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">att</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_node_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">):</span>
        <span class="n">node_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">nodeSetId</span><span class="p">)</span>
        <span class="n">num_node_set_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">num_node_set_nodes</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">set_nodes</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">num_node_set_nodes</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">set_nodes</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">num_node_set_nodes</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)),</span> <span class="n">node_set_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">set_nodes</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">set_nodes</span>

    <span class="k">def</span> <span class="nf">__ex_put_node_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">,</span> <span class="n">nodeSetNodes</span><span class="p">):</span>
        <span class="n">node_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">nodeSetId</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">node_set_nodes</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodeSetNodes</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">node_set_node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nodeSetNodes</span><span class="p">):</span>
                <span class="n">node_set_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">node_set_node</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">node_set_nodes</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodeSetNodes</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">node_set_node</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nodeSetNodes</span><span class="p">):</span>
                <span class="n">node_set_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">node_set_node</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)),</span> <span class="n">node_set_id</span><span class="p">,</span> <span class="n">node_set_nodes</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_node_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">):</span>
        <span class="n">node_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">nodeSetId</span><span class="p">)</span>
        <span class="n">num_node_set_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">set_dfs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_node_set_nodes</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_node_set_dist_fact</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">node_set_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">set_dfs</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">set_dfs</span>

    <span class="k">def</span> <span class="nf">__ex_put_node_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodeSetId</span><span class="p">,</span> <span class="n">nodeSetDistFact</span><span class="p">):</span>
        <span class="n">node_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">nodeSetId</span><span class="p">)</span>
        <span class="n">node_set_dist_fact</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodeSetDistFact</span><span class="p">))()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dist_fact</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nodeSetDistFact</span><span class="p">):</span>
            <span class="n">node_set_dist_fact</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">dist_fact</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_node_set_dist_fact</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">node_set_id</span><span class="p">,</span> <span class="n">node_set_dist_fact</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_object_truth_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entId</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">entity_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">entId</span><span class="p">)</span>
        <span class="n">variable_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">truth_table</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="p">(</span><span class="n">variable_count</span><span class="o">.</span><span class="n">value</span><span class="p">))()</span>

        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_object_truth_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span>
                                              <span class="n">entity_id</span><span class="p">,</span> <span class="n">variable_count</span><span class="p">,</span>
                                              <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">truth_table</span><span class="p">))</span>
        <span class="n">truthTab</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">truth_table</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">val</span><span class="p">:</span>
                <span class="n">truthTab</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">truthTab</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">truthTab</span>

    <span class="k">def</span> <span class="nf">__ex_get_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span><span class="o">.</span><span class="n">value</span>

        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">variable_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>

        <span class="n">truth_table</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_objs</span> <span class="o">*</span> <span class="n">variable_count</span><span class="o">.</span><span class="n">value</span><span class="p">))()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span>
                                      <span class="n">num_objs</span><span class="p">,</span> <span class="n">variable_count</span><span class="p">,</span>
                                      <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">truth_table</span><span class="p">))</span>
        <span class="n">truthTab</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">truth_table</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">val</span><span class="p">:</span>
                <span class="n">truthTab</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">truthTab</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">truthTab</span>

    <span class="k">def</span> <span class="nf">__ex_put_truth_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">truthTab</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span><span class="o">.</span><span class="n">value</span>

        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>

        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">truthTab</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">num_objs</span> <span class="o">*</span> <span class="n">num_vars</span><span class="p">)</span>

        <span class="n">truth_tab</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_objs</span> <span class="o">*</span> <span class="n">num_vars</span><span class="p">))()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">boolVal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">truthTab</span><span class="p">):</span>
            <span class="n">truth_tab</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">boolVal</span> <span class="k">else</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_truth_table</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">num_objs</span><span class="p">,</span> <span class="n">num_vars</span><span class="p">,</span> <span class="n">truth_tab</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_coord</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_coord</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__ex_put_coord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xCoords</span><span class="p">,</span> <span class="n">yCoords</span><span class="p">,</span> <span class="n">zCoords</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">xCoords</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">yCoords</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">zCoords</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_coord</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordsX</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordsY</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coordsZ</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">__ex_get_partial_coord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">startNodeId</span><span class="p">,</span> <span class="n">numNodes</span><span class="p">):</span>
        <span class="n">start_node_num</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">startNodeId</span><span class="p">)</span>
        <span class="n">num_nodes</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numNodes</span><span class="p">)</span>
        <span class="n">coordsX</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">numNodes</span><span class="p">)()</span>
        <span class="n">coordsY</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">numNodes</span><span class="p">)()</span>
        <span class="n">coordsZ</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">numNodes</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_partial_coord</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">start_node_num</span><span class="p">,</span>
            <span class="n">num_nodes</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">coordsX</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">coordsY</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">coordsZ</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">coordsX</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">coordsY</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">coordsZ</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">inq_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inq_type</span><span class="p">))</span>
        <span class="n">numObjs</span> <span class="o">=</span> <span class="n">num_objs</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_id_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">id_map</span><span class="p">))</span>
        <span class="n">idMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">id_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">)]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">idMap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">idMap</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">idMap</span>

    <span class="k">def</span> <span class="nf">__ex_get_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">map_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">inq_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inq_type</span><span class="p">))</span>
        <span class="n">numObjs</span> <span class="o">=</span> <span class="n">num_objs</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_num_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">map_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">id_map</span><span class="p">))</span>
        <span class="n">idMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">id_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">)]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">idMap</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">idMap</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">idMap</span>

    <span class="k">def</span> <span class="nf">__ex_put_map_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodeMapCnt</span><span class="p">,</span> <span class="n">elemMapCnt</span><span class="p">):</span>
        <span class="n">node_map_cnt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">nodeMapCnt</span><span class="p">)</span>
        <span class="n">elem_map_cnt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">elemMapCnt</span><span class="p">)</span>
        <span class="n">errorInt</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_map_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">node_map_cnt</span><span class="p">,</span> <span class="n">elem_map_cnt</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">errorInt</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;ERROR code =&quot;</span><span class="p">,</span> <span class="n">errorInt</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: ex_put_map_param had problems.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_put_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">numMap</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">map_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">inq_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inq_type</span><span class="p">))</span>
        <span class="n">numObjs</span> <span class="o">=</span> <span class="n">num_objs</span><span class="o">.</span><span class="n">value</span>
        <span class="k">assert</span> <span class="n">numObjs</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">numMap</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">num_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">):</span>
                <span class="n">num_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numMap</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">num_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">):</span>
                <span class="n">num_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">numMap</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_num_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">map_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_map</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_block_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">obj_type</span><span class="p">))</span>
        <span class="n">entity_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">numObjs</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_block_id_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">id_map</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="n">ctype_to_numpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_map</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">id_map</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">idMap</span> <span class="o">=</span> <span class="p">[</span><span class="n">id_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">)]</span>
            <span class="k">return</span> <span class="n">idMap</span>

    <span class="k">def</span> <span class="nf">__ex_put_id_map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">idMap</span><span class="p">):</span>
        <span class="n">inqType</span> <span class="o">=</span> <span class="n">ex_obj_to_inq</span><span class="p">(</span><span class="n">objType</span><span class="p">)</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">inq_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">inqType</span><span class="p">))</span>
        <span class="n">num_objs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">inq_type</span><span class="p">))</span>
        <span class="n">numObjs</span> <span class="o">=</span> <span class="n">num_objs</span><span class="o">.</span><span class="n">value</span>
        <span class="k">assert</span> <span class="n">numObjs</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">idMap</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">):</span>
                <span class="n">id_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">idMap</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_map</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">numObjs</span><span class="p">)()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numObjs</span><span class="p">):</span>
                <span class="n">id_map</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">idMap</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_id_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">id_map</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_elem_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_MAPS_INT64_API</span><span class="p">:</span>
            <span class="n">elemNumMap</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elemNumMap</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_elem_num_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">elemNumMap</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">elemNumMap</span>

    <span class="k">def</span> <span class="nf">__ex_get_node_num_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_MAPS_INT64_API</span><span class="p">:</span>
            <span class="n">nodeNumMap</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nodeNumMap</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNodes</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_node_num_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">nodeNumMap</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">nodeNumMap</span>

    <span class="k">def</span> <span class="nf">__ex_get_elem_order_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_MAPS_INT64_API</span><span class="p">:</span>
            <span class="n">elemOrderMap</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elemOrderMap</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">numElem</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">elemOrderMap</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">elemOrderMap</span>

    <span class="k">def</span> <span class="nf">__ex_get_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">object_type</span><span class="p">))</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="n">blk_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">num_elem_this_blk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_nodes_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_edges_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_faces_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_attr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">num_elem_this_blk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_nodes_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_edges_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_faces_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_attr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_block</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">obj_type</span><span class="p">,</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">blk_type</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_elem_this_blk</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_nodes_per_elem</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_edges_per_elem</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_faces_per_elem</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_attr</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">blk_type</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_elem_this_blk</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_nodes_per_elem</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_attr</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_put_block</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">object_type</span><span class="p">,</span>
            <span class="n">object_id</span><span class="p">,</span>
            <span class="n">eType</span><span class="p">,</span>
            <span class="n">numElems</span><span class="p">,</span>
            <span class="n">numNodesPerElem</span><span class="p">,</span>
            <span class="n">numAttrsPerElem</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">object_type</span><span class="p">))</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">eType</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">eType</span> <span class="o">=</span> <span class="n">eType</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
        <span class="n">elem_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">eType</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">num_elem_this_blk</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numElems</span><span class="p">)</span>
        <span class="n">num_nodes_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numNodesPerElem</span><span class="p">)</span>
        <span class="n">num_edges_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">num_faces_per_elem</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">num_attr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numAttrsPerElem</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_block</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">block_id</span><span class="p">,</span> <span class="n">elem_type</span><span class="p">,</span>
                                <span class="n">num_elem_this_blk</span><span class="p">,</span> <span class="n">num_nodes_per_elem</span><span class="p">,</span>
                                <span class="n">num_edges_per_elem</span><span class="p">,</span> <span class="n">num_faces_per_elem</span><span class="p">,</span> <span class="n">num_attr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_elem_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="p">(</span><span class="n">_elem_type</span><span class="p">,</span> <span class="n">num_elem_this_blk</span><span class="p">,</span> <span class="n">num_nodes_per_elem</span><span class="p">,</span>
         <span class="n">_num_attr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="n">elem_block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">elem_block_connectivity</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_elem_this_blk</span> <span class="o">*</span> <span class="n">num_nodes_per_elem</span><span class="p">))()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elem_block_connectivity</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_elem_this_blk</span> <span class="o">*</span> <span class="n">num_nodes_per_elem</span><span class="p">))()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_conn</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)),</span>
            <span class="n">elem_block_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">elem_block_connectivity</span><span class="p">),</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elem_block_connectivity</span><span class="p">,</span> <span class="n">num_elem_this_blk</span><span class="p">,</span> <span class="n">num_nodes_per_elem</span>

    <span class="k">def</span> <span class="nf">__ex_put_elem_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">):</span>
        <span class="p">(</span><span class="n">_elem_type</span><span class="p">,</span> <span class="n">num_elem_this_blk</span><span class="p">,</span> <span class="n">num_nodes_per_elem</span><span class="p">,</span>
         <span class="n">_num_attr</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_block</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="n">elem_block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">elem_block_connectivity</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_elem_this_blk</span> <span class="o">*</span> <span class="n">num_nodes_per_elem</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_elem_this_blk</span> <span class="o">*</span> <span class="n">num_nodes_per_elem</span><span class="p">):</span>
                <span class="n">elem_block_connectivity</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">connectivity</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">elem_block_connectivity</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_elem_this_blk</span> <span class="o">*</span> <span class="n">num_nodes_per_elem</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_elem_this_blk</span> <span class="o">*</span> <span class="n">num_nodes_per_elem</span><span class="p">):</span>
                <span class="n">elem_block_connectivity</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">connectivity</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_conn</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)),</span>
            <span class="n">elem_block_id</span><span class="p">,</span>
            <span class="n">elem_block_connectivity</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_put_one_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">elemBlkID</span><span class="p">,</span> <span class="n">attrIndx</span><span class="p">,</span> <span class="n">Attr</span><span class="p">):</span>
        <span class="n">elem_blk_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">elemBlkID</span><span class="p">)</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">attr_index</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">attrIndx</span><span class="p">)</span>
        <span class="n">attrib</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">Attr</span><span class="p">))()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Attr</span><span class="p">):</span>
            <span class="n">attrib</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_one_attr</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">obj_type</span><span class="p">,</span>
            <span class="n">elem_blk_id</span><span class="p">,</span>
            <span class="n">attr_index</span><span class="p">,</span>
            <span class="n">attrib</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_one_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">,</span> <span class="n">attrIndx</span><span class="p">):</span>
        <span class="n">entity_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">attr_index</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">attrIndx</span><span class="p">)</span>

        <span class="n">numVals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_count</span><span class="p">(</span><span class="n">objType</span><span class="p">,</span> <span class="n">entityId</span><span class="p">)</span>
        <span class="n">attrib</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">numVals</span><span class="p">)()</span>

        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_one_attr</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">obj_type</span><span class="p">,</span>
            <span class="n">entity_id</span><span class="p">,</span>
            <span class="n">attr_index</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">attrib</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">attrib</span>

    <span class="k">def</span> <span class="nf">__ex_put_elem_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elemBlkID</span><span class="p">,</span> <span class="n">Attr</span><span class="p">):</span>
        <span class="n">elem_blk_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">elemBlkID</span><span class="p">)</span>
        <span class="n">attrib</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">Attr</span><span class="p">))()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Attr</span><span class="p">):</span>
            <span class="n">attrib</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_attr</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)),</span>
            <span class="n">elem_blk_id</span><span class="p">,</span>
            <span class="n">attrib</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_elem_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elemBlkID</span><span class="p">):</span>
        <span class="n">elem_blk_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">elemBlkID</span><span class="p">)</span>
        <span class="n">numAttrThisBlk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_attr</span><span class="p">(</span><span class="n">elemBlkID</span><span class="p">)</span>
        <span class="n">numElemsThisBlk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_entity_count</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">elemBlkID</span><span class="p">)</span>
        <span class="n">totalAttr</span> <span class="o">=</span> <span class="n">numAttrThisBlk</span> <span class="o">*</span> <span class="n">numElemsThisBlk</span>
        <span class="n">attrib</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">totalAttr</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_attr</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)),</span>
            <span class="n">elem_blk_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">attrib</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">attrib</span>

    <span class="k">def</span> <span class="nf">__ex_get_variable_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_variable_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_vars</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">num_vars</span>

    <span class="k">def</span> <span class="nf">__ex_get_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">):</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">varType</span><span class="p">)</span>
        <span class="n">var_name_ptrs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_vars</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_vars</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">var_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_variable_names</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">num_vars</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">var_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">vnp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">vnp</span> <span class="ow">in</span> <span class="n">var_name_ptrs</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__ex_get_var</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">numValues</span><span class="p">):</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">num_values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numValues</span><span class="p">)</span>
        <span class="n">var_vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_var</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">step</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">var_id</span><span class="p">,</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">num_values</span><span class="p">,</span>
            <span class="n">var_vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">var_vals</span>

    <span class="k">def</span> <span class="nf">__ex_get_var_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">,</span> <span class="n">entityID</span><span class="p">,</span> <span class="n">start_step</span><span class="p">,</span> <span class="n">end_step</span><span class="p">):</span>
        <span class="n">s_step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">start_step</span><span class="p">)</span>
        <span class="n">e_step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">end_step</span><span class="p">)</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">entity_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">entityID</span><span class="p">)</span>
        <span class="n">num_steps</span> <span class="o">=</span> <span class="n">end_step</span> <span class="o">-</span> <span class="n">start_step</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">var_vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_steps</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_var_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">entity_id</span><span class="p">,</span> <span class="n">s_step</span><span class="p">,</span> <span class="n">e_step</span><span class="p">,</span> <span class="n">var_vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">var_vals</span>

    <span class="k">def</span> <span class="nf">__ex_get_partial_var</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">startIndex</span><span class="p">,</span> <span class="n">numValues</span><span class="p">):</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">start_index</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">startIndex</span><span class="p">)</span>
        <span class="n">num_values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numValues</span><span class="p">)</span>
        <span class="n">var_vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_partial_var</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">step</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">var_id</span><span class="p">,</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">start_index</span><span class="p">,</span>
            <span class="n">num_values</span><span class="p">,</span>
            <span class="n">var_vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">var_vals</span>

    <span class="k">def</span> <span class="nf">__ex_put_var</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">numValues</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">num_values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numValues</span><span class="p">)</span>
        <span class="n">var_vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">var_vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_var</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">step</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">var_id</span><span class="p">,</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">num_values</span><span class="p">,</span>
            <span class="n">var_vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_put_reduction_variable_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">numVars</span><span class="p">):</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">numVars</span><span class="p">)</span>
        <span class="n">current_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_param</span><span class="p">(</span><span class="n">varType</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">current_num</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">num_vars</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="c1"># print &quot;value already set&quot;</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">errorInt</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_reduction_variable_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">num_vars</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">errorInt</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;ERROR code =&quot;</span><span class="p">,</span> <span class="n">errorInt</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: ex_put_reduction_variable_param had problems.&quot;</span>
                <span class="s2">&quot; This can only be called once per varType.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_reduction_variable_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_reduction_variable_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_vars</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">num_vars</span>

    <span class="k">def</span> <span class="nf">__ex_get_reduction_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_reduction_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_put_reduction_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">,</span> <span class="n">varName</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">varName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_reduction_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_reduction_variable_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">):</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_reduction_variable_param</span><span class="p">(</span><span class="n">varType</span><span class="p">)</span>
        <span class="n">var_name_ptrs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_vars</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_vars</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">var_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>

        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_reduction_variable_names</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">num_vars</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">var_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">vnp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">vnp</span> <span class="ow">in</span> <span class="n">var_name_ptrs</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__ex_get_reduction_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">numValues</span><span class="p">):</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">num_values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numValues</span><span class="p">)</span>
        <span class="n">var_vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_reduction_vars</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">step</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">num_values</span><span class="p">,</span>
            <span class="n">var_vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">var_vals</span>

    <span class="k">def</span> <span class="nf">__ex_put_reduction_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeStep</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">numValues</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">timeStep</span><span class="p">)</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">block_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">num_values</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numValues</span><span class="p">)</span>
        <span class="n">var_vals</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_values</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">var_vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_reduction_vars</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">step</span><span class="p">,</span>
            <span class="n">var_type</span><span class="p">,</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">num_values</span><span class="p">,</span>
            <span class="n">var_vals</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_side_set_node_list_len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">side_set_node_list_len</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">side_set_node_list_len</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_side_set_node_list_len</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">side_set_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">side_set_node_list_len</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">side_set_node_list_len</span>

    <span class="k">def</span> <span class="nf">__ex_get_set_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="n">object_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">num_side_in_set</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_dist_fact_in_set</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">num_side_in_set</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">num_dist_fact_in_set</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_set_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">object_type</span><span class="p">,</span>
            <span class="n">side_set_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_side_in_set</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_dist_fact_in_set</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_side_in_set</span><span class="o">.</span><span class="n">value</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_dist_fact_in_set</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_put_set_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">numSides</span><span class="p">,</span> <span class="n">numDistFacts</span><span class="p">):</span>
        <span class="n">object_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="n">num_side_in_set</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numSides</span><span class="p">)</span>
        <span class="n">num_dist_fact_in_set</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">numDistFacts</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_set_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">object_type</span><span class="p">,</span>
            <span class="n">side_set_id</span><span class="p">,</span>
            <span class="n">num_side_in_set</span><span class="p">,</span>
            <span class="n">num_dist_fact_in_set</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_side_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sideSetId</span><span class="p">):</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">sideSetId</span><span class="p">)</span>
        <span class="p">(</span><span class="n">num_side_in_set</span><span class="p">,</span> <span class="n">_num_dist_fact_in_set</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">sideSetId</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num_side_in_set</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">side_set_elem_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">num_side_in_set</span><span class="p">)()</span>
            <span class="n">side_set_side_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">num_side_in_set</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">side_set_elem_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">num_side_in_set</span><span class="p">)()</span>
            <span class="n">side_set_side_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">num_side_in_set</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_set</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)),</span>
            <span class="n">side_set_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">side_set_elem_list</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">side_set_side_list</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">side_set_elem_list</span><span class="p">,</span> <span class="n">side_set_side_list</span>

    <span class="k">def</span> <span class="nf">__ex_put_side_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">sideSetElements</span><span class="p">,</span> <span class="n">sideSetSides</span><span class="p">):</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">side_set_elem_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">sideSetElements</span><span class="p">))()</span>
            <span class="n">side_set_side_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">sideSetSides</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sse</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sideSetElements</span><span class="p">):</span>
                <span class="n">side_set_elem_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">sse</span><span class="p">)</span>
                <span class="n">side_set_side_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">sideSetSides</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">side_set_elem_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">sideSetElements</span><span class="p">))()</span>
            <span class="n">side_set_side_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">sideSetSides</span><span class="p">))()</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sse</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sideSetElements</span><span class="p">):</span>
                <span class="n">side_set_elem_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">sse</span><span class="p">)</span>
                <span class="n">side_set_side_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">sideSetSides</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_set</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)),</span>
            <span class="n">side_set_id</span><span class="p">,</span>
            <span class="n">side_set_elem_list</span><span class="p">,</span>
            <span class="n">side_set_side_list</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_side_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sideSetId</span><span class="p">):</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">sideSetId</span><span class="p">)</span>
        <span class="n">side_set_node_list_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_side_set_node_list_len</span><span class="p">(</span>
            <span class="n">sideSetId</span><span class="p">)</span>
        <span class="n">set_dfs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="n">side_set_node_list_len</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_side_set_dist_fact</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">side_set_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">set_dfs</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">set_dfs</span>

    <span class="k">def</span> <span class="nf">__ex_put_side_set_dist_fact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sideSetId</span><span class="p">,</span> <span class="n">sideSetDistFact</span><span class="p">):</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">sideSetId</span><span class="p">)</span>
        <span class="n">side_set_dist_fact</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">sideSetDistFact</span><span class="p">))()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sideSetDistFact</span><span class="p">):</span>
            <span class="n">side_set_dist_fact</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_side_set_dist_fact</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">side_set_id</span><span class="p">,</span> <span class="n">side_set_dist_fact</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_get_side_set_node_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="n">side_set_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="n">side_set_node_list_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_side_set_node_list_len</span><span class="p">(</span><span class="n">object_id</span><span class="p">)</span>
        <span class="p">(</span><span class="n">num_side_in_set</span><span class="p">,</span> <span class="n">_num_dist_fact_in_set</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_set_param</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">object_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_BULK_INT64_API</span><span class="p">:</span>
            <span class="n">side_set_node_cnt_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">num_side_in_set</span><span class="p">)()</span>
            <span class="n">side_set_node_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span> <span class="o">*</span> <span class="n">side_set_node_list_len</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">side_set_node_cnt_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">num_side_in_set</span><span class="p">)()</span>
            <span class="n">side_set_node_list</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="n">side_set_node_list_len</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_side_set_node_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">side_set_id</span><span class="p">,</span>
                                             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">side_set_node_cnt_list</span><span class="p">),</span>
                                             <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">side_set_node_list</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">side_set_node_cnt_list</span><span class="p">,</span> <span class="n">side_set_node_list</span>

    <span class="k">def</span> <span class="nf">__ex_put_variable_param</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">numVars</span><span class="p">):</span>
        <span class="n">num_vars</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">numVars</span><span class="p">)</span>
        <span class="n">current_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_get_variable_param</span><span class="p">(</span><span class="n">varType</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">current_num</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">num_vars</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="c1"># print &quot;value already set&quot;</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">errorInt</span> <span class="o">=</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_variable_param</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">num_vars</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">errorInt</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;ERROR code =&quot;</span><span class="p">,</span> <span class="n">errorInt</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
                <span class="s2">&quot;ERROR: ex_put_variable_param had problems.&quot;</span>
                <span class="s2">&quot; This can only be called once per varType.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varType</span><span class="p">)</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ex_put_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">varId</span><span class="p">,</span> <span class="n">varName</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">var_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">varId</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">varName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_NAME_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_variable_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_attr_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">object_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">num_attr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_attr</span><span class="p">(</span><span class="n">blkId</span><span class="p">))</span>
        <span class="n">len_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_MAX_READ_NAME_LENGTH&#39;</span><span class="p">))</span>
        <span class="n">attr_name_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">len_name</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_attr</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_attr</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">attr_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">len_name</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_attr_names</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">attr_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">cnp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">cnp</span> <span class="ow">in</span> <span class="n">attr_name_ptrs</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__ex_put_attr_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">varNames</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">object_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">num_attr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_attr</span><span class="p">(</span><span class="n">blkId</span><span class="p">))</span>
        <span class="n">len_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="s1">&#39;EX_INQ_MAX_READ_NAME_LENGTH&#39;</span><span class="p">))</span>
        <span class="n">attr_name_ptrs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">len_name</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_attr</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">varNames</span><span class="p">)</span> <span class="o">==</span> <span class="n">num_attr</span><span class="o">.</span><span class="n">value</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_attr</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">attr_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">varNames</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">len_name</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_attr_names</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">object_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">attr_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_get_prop_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varType</span><span class="p">,</span> <span class="n">inqType</span><span class="p">):</span>
        <span class="n">var_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">varType</span><span class="p">))</span>
        <span class="n">num_props</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__ex_inquire_int</span><span class="p">(</span><span class="n">ex_inquiry_map</span><span class="p">(</span><span class="n">inqType</span><span class="p">)))</span>
        <span class="n">prop_name_ptrs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="p">(</span><span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="n">num_props</span><span class="o">.</span><span class="n">value</span><span class="p">)()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_props</span><span class="o">.</span><span class="n">value</span><span class="p">):</span>
            <span class="n">prop_name_ptrs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span>
                    <span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_prop_names</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span> <span class="n">var_type</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">prop_name_ptrs</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">cnp</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">cnp</span> <span class="ow">in</span> <span class="n">prop_name_ptrs</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__ex_get_prop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">,</span> <span class="n">propName</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">obj_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">objId</span><span class="p">)</span>
        <span class="n">prop_name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">propName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_int64_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">EX_IDS_INT64_API</span><span class="p">:</span>
            <span class="n">prop_val</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prop_val</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_get_prop</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">obj_type</span><span class="p">,</span>
            <span class="n">obj_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">prop_name</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">prop_val</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">prop_val</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">__ex_put_prop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">objType</span><span class="p">,</span> <span class="n">objId</span><span class="p">,</span> <span class="n">propName</span><span class="p">,</span> <span class="n">propVal</span><span class="p">):</span>
        <span class="n">obj_type</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">get_entity_type</span><span class="p">(</span><span class="n">objType</span><span class="p">))</span>
        <span class="n">obj_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">objId</span><span class="p">)</span>
        <span class="n">prop_name</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">create_string_buffer</span><span class="p">(</span><span class="n">propName</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">MAX_STR_LENGTH</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">prop_val</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_longlong</span><span class="p">(</span><span class="n">propVal</span><span class="p">)</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_put_prop</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">,</span>
            <span class="n">obj_type</span><span class="p">,</span>
            <span class="n">obj_id</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">prop_name</span><span class="p">),</span>
            <span class="n">prop_val</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__ex_update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">EXODUS_LIB</span><span class="o">.</span><span class="n">ex_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileId</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<span class="c1"># --------------------------------------------------------------------</span>
<span class="c1"># Utility Functions</span>
<span class="c1"># --------------------------------------------------------------------</span>


<div class="viewcode-block" id="collectElemConnectivity"><a class="viewcode-back" href="../exodus3.html#exodus3.collectElemConnectivity">[docs]</a><span class="k">def</span> <span class="nf">collectElemConnectivity</span><span class="p">(</span><span class="n">exodusHandle</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      This function generates a list of lists that represent the element connectivity.</span>

<span class="sd">    &gt;&gt;&gt; with exodus(&quot;file.g&quot;, &quot;r&quot;) as exodusHandle:</span>
<span class="sd">    &gt;&gt;&gt;     connectivity = []</span>
<span class="sd">    &gt;&gt;&gt;     collectElemConnectivity(exodusHandle, connectivity)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">connectivity</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: connectivity is not a list in call to collectElemConnectivity().&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">connectivity</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: connectivity is not empty in call to collectElemConnectivity().&quot;</span><span class="p">)</span>

    <span class="n">blockIds</span> <span class="o">=</span> <span class="n">exodusHandle</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">blId</span> <span class="ow">in</span> <span class="n">blockIds</span><span class="p">:</span>
        <span class="p">(</span><span class="n">elem_block_conn</span><span class="p">,</span> <span class="n">num_elem</span><span class="p">,</span> <span class="n">num_nodes</span><span class="p">)</span> <span class="o">=</span> <span class="n">exodusHandle</span><span class="o">.</span><span class="n">get_elem_connectivity</span><span class="p">(</span><span class="n">blId</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_elem</span><span class="p">):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">*</span> <span class="n">num_nodes</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">num_nodes</span>
            <span class="n">local_elem_conn</span> <span class="o">=</span> <span class="n">elem_block_conn</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span><span class="p">]</span>
            <span class="n">connectivity</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">local_elem_conn</span><span class="p">)</span></div>


<div class="viewcode-block" id="collectLocalNodeToLocalElems"><a class="viewcode-back" href="../exodus3.html#exodus3.collectLocalNodeToLocalElems">[docs]</a><span class="k">def</span> <span class="nf">collectLocalNodeToLocalElems</span><span class="p">(</span>
        <span class="n">exodusHandle</span><span class="p">,</span>
        <span class="n">connectivity</span><span class="p">,</span>
        <span class="n">localNodeToLocalElems</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      This function generates a list of lists to go from local node id</span>
<span class="sd">      to local elem id.</span>

<span class="sd">    &gt;&gt;&gt; connectivity = [] ## If this is not empty it will assume it is already filled.</span>
<span class="sd">    &gt;&gt;&gt; localNodeToLocalElems = []</span>
<span class="sd">    &gt;&gt;&gt; with exodus(&quot;file.g&quot;, &quot;r&quot;) as exodusHandle:</span>
<span class="sd">    &gt;&gt;&gt;     collectLocalNodeToLocalElems(exodusHandle, connectivity, localNodeToLocalElems)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">connectivity</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: connectivity is not a list in call to collectLocalNodeToLocalElems().&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">localNodeToLocalElems</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: localNodeToLocalElems is not a list in call to collectLocalNodeToLocalElems().&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">localNodeToLocalElems</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: localNodeToLocalElems is not empty in call to collectLocalNodeToLocalElems().&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">connectivity</span><span class="p">:</span>
        <span class="n">collectElemConnectivity</span><span class="p">(</span><span class="n">exodusHandle</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">)</span>

    <span class="n">numNodes</span> <span class="o">=</span> <span class="n">exodusHandle</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numNodes</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">localNodeToLocalElems</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>

    <span class="n">localElemId</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">local_elem_conn</span> <span class="ow">in</span> <span class="n">connectivity</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">local_elem_conn</span><span class="p">:</span>
            <span class="n">localNodeToLocalElems</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">localElemId</span><span class="p">)</span>
        <span class="n">localElemId</span> <span class="o">=</span> <span class="n">localElemId</span> <span class="o">+</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="collectLocalElemToLocalElems"><a class="viewcode-back" href="../exodus3.html#exodus3.collectLocalElemToLocalElems">[docs]</a><span class="k">def</span> <span class="nf">collectLocalElemToLocalElems</span><span class="p">(</span>
        <span class="n">exodusHandle</span><span class="p">,</span>
        <span class="n">connectivity</span><span class="p">,</span>
        <span class="n">localNodeToLocalElems</span><span class="p">,</span>
        <span class="n">localElemToLocalElems</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      This function generates a list of lists to go from local elem id</span>
<span class="sd">      to connected local elem ids.</span>

<span class="sd">    &gt;&gt;&gt; connectivity = [] ## If this is not empty it will assume it is already filled.</span>
<span class="sd">    &gt;&gt;&gt; localNodeToLocalElems = [] ## If this is not empty it will assume it is already filled.</span>
<span class="sd">    &gt;&gt;&gt; localElemToLocalElems = []</span>
<span class="sd">    &gt;&gt;&gt; with exodus(&quot;file.g&quot;, &quot;r&quot;) as exodusHandle:</span>
<span class="sd">    &gt;&gt;&gt;     collectLocalElemToLocalElems(exodusHandle, connectivity, localNodeToLocalElems,</span>
<span class="sd">    ...                              localElemToLocalElems)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">connectivity</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: connectivity is not a list in call to collectLocalElemToLocalElems().&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">localNodeToLocalElems</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: localNodeToLocalElems is not a list in call to collectLocalElemToLocalElems().&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">localElemToLocalElems</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: localElemToLocalElems is not a list in call to collectLocalElemToLocalElems().&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">localElemToLocalElems</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: localElemToLocalElems is not empty in call to collectLocalElemToLocalElems().&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">connectivity</span><span class="p">:</span>
        <span class="n">collectElemConnectivity</span><span class="p">(</span><span class="n">exodusHandle</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">localNodeToLocalElems</span><span class="p">:</span>
        <span class="n">collectLocalNodeToLocalElems</span><span class="p">(</span>
            <span class="n">exodusHandle</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">,</span> <span class="n">localNodeToLocalElems</span><span class="p">)</span>

    <span class="n">numElems</span> <span class="o">=</span> <span class="n">exodusHandle</span><span class="o">.</span><span class="n">num_elems</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numElems</span><span class="p">):</span>
        <span class="n">localElemToLocalElems</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
    <span class="k">for</span> <span class="n">localElemId</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numElems</span><span class="p">):</span>
        <span class="n">nodeList</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">connectivity</span><span class="p">[</span><span class="n">localElemId</span><span class="p">])</span>
        <span class="n">newConnectedElems</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nodeList</span><span class="p">:</span>
            <span class="n">newConnectedElems</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">localNodeToLocalElems</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
        <span class="n">localElemToLocalElems</span><span class="p">[</span><span class="n">localElemId</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">newConnectedElems</span><span class="p">))</span></div>


<div class="viewcode-block" id="copy_mesh"><a class="viewcode-back" href="../exodus3.html#exodus3.copy_mesh">[docs]</a><span class="k">def</span> <span class="nf">copy_mesh</span><span class="p">(</span><span class="n">fromFileName</span><span class="p">,</span> <span class="n">toFileName</span><span class="p">,</span> <span class="n">exoFromObj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalElementAttributes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="s1">&#39;ctype&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Copies the mesh data from an existing exodus database to a new exodus</span>
<span class="sd">    database.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    fromFileName : string</span>
<span class="sd">        File name of the exodus mesh to be copied</span>
<span class="sd">    toFileName : string</span>
<span class="sd">        File name of the new exodus mesh</span>
<span class="sd">    exoFromObj : exodus object, optional</span>
<span class="sd">        Exodus object to be copied from.  If an exodus object is supplied, the</span>
<span class="sd">        fromFileName string will be ignored.</span>
<span class="sd">    additionalElementAttributes : list</span>
<span class="sd">        list of element attribute names to add to all blocks or tuples</span>
<span class="sd">        ( name, blkIds ) where name is the element attribute to add and blkIds is</span>
<span class="sd">        a list of blkIds to add it to.</span>
<span class="sd">    array_type : &#39;ctype&#39; | &#39;numpy&#39;</span>
<span class="sd">        Specifies whether arrays will be imported and copied as ctype or numpy</span>
<span class="sd">        arrays.  (This option should make no difference to the user, but it can</span>
<span class="sd">        be used by developers to test whether the commands within this function</span>
<span class="sd">        handle both array types correctly.)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    exo_to : exodus object</span>
<span class="sd">        New exodus mesh</span>

<span class="sd">    Note</span>
<span class="sd">    -----</span>
<span class="sd">    This function also allows one to add new element attributes during the copy</span>
<span class="sd">    process.  The number of element attributes is permanently set when the</span>
<span class="sd">    block is created, meaning new element attributes can only be added to an</span>
<span class="sd">    existing mesh by copying it to a new mesh.  The values of the element</span>
<span class="sd">    attributes are set to their defaults so that the user can populate them</span>
<span class="sd">    later.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">additionalElementAttributes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalElementAttributes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># If the user did not supply a exodus object to copy from, attempt to read an</span>
    <span class="c1"># exodus database with the name &quot;fromFileName&quot;</span>
    <span class="k">if</span> <span class="n">exoFromObj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">exoFrom</span> <span class="o">=</span> <span class="n">exodus</span><span class="p">(</span><span class="n">fromFileName</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="n">array_type</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">exoFrom</span> <span class="o">=</span> <span class="n">exoFromObj</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">toFileName</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: &quot;</span><span class="p">,</span>
            <span class="n">toFileName</span><span class="p">,</span>
            <span class="s2">&quot; file already exists cowardly exiting instead of overwriting in call to copy_mesh().&quot;</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
    <span class="n">ex_pars</span> <span class="o">=</span> <span class="n">ex_init_params</span><span class="p">(</span><span class="n">num_dim</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_dimensions</span><span class="p">(),</span>
                             <span class="n">num_nodes</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_nodes</span><span class="p">(),</span>
                             <span class="n">num_elem</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_elems</span><span class="p">(),</span>
                             <span class="n">num_elem_blk</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_blks</span><span class="p">(),</span>
                             <span class="n">num_node_sets</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_node_sets</span><span class="p">(),</span>
                             <span class="n">num_side_sets</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_side_sets</span><span class="p">(),</span>
                             <span class="n">num_assembly</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_assembly</span><span class="p">(),</span>
                             <span class="n">num_blob</span><span class="o">=</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">num_blob</span><span class="p">())</span>

    <span class="n">exo_to</span> <span class="o">=</span> <span class="n">exodus</span><span class="p">(</span><span class="n">toFileName</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="n">array_type</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">init_params</span><span class="o">=</span><span class="n">ex_pars</span><span class="p">)</span>

    <span class="n">debugPrint</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer QA records&quot;</span><span class="p">)</span>
    <span class="n">qaRecords</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_qa_records</span><span class="p">()</span>
    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_qa_records</span><span class="p">(</span><span class="n">qaRecords</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Nodal Coordinates and Names&quot;</span><span class="p">)</span>
    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_coord_names</span><span class="p">(</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">get_coord_names</span><span class="p">())</span>
    <span class="p">(</span><span class="n">xCoords</span><span class="p">,</span> <span class="n">yCoords</span><span class="p">,</span> <span class="n">zCoords</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_coords</span><span class="p">()</span>
    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_coords</span><span class="p">(</span><span class="n">xCoords</span><span class="p">,</span> <span class="n">yCoords</span><span class="p">,</span> <span class="n">zCoords</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Node Id Map&quot;</span><span class="p">)</span>
    <span class="n">nodeIdMap</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_node_id_map</span><span class="p">()</span>
    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_node_id_map</span><span class="p">(</span><span class="n">nodeIdMap</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Construct mapping from block ID to element attribute data&quot;</span><span class="p">)</span>
    <span class="c1"># The exodus library does not provide a way to add only new element</span>
    <span class="c1"># attributes, so we must collect both the new and the old element</span>
    <span class="c1"># attributes</span>
    <span class="n">e_attr_names</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">e_attr_vals</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># Collect the old element attribute names and the number of elements in each</span>
    <span class="c1"># block</span>
    <span class="n">blk_ids</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span>
    <span class="n">blk_num_elem</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">blk_id</span> <span class="ow">in</span> <span class="n">blk_ids</span><span class="p">:</span>
        <span class="p">(</span><span class="n">elemType</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">,</span> <span class="n">numAttr</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">elem_blk_info</span><span class="p">(</span><span class="n">blk_id</span><span class="p">)</span>
        <span class="n">e_attr_names</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">e_attr_vals</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">numAttr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">e_attr_names</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_attribute_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blk_id</span><span class="p">))</span>
            <span class="n">e_attr_vals</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">exoFrom</span><span class="o">.</span><span class="n">get_elem_attr</span><span class="p">(</span><span class="n">blk_id</span><span class="p">))</span>
        <span class="n">blk_num_elem</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">numElem</span>
    <span class="c1"># Collect the new element attribute names</span>
    <span class="c1"># (The new names are mapped from &quot;attribute name&quot; to &quot;list of block IDs that</span>
    <span class="c1"># contain that attribute&quot;.  We need to have them be mapped as &quot;block ID&quot; to</span>
    <span class="c1"># &quot;list of attribute names contained in that block&quot;.)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">additionalElementAttributes</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">e_attr_name</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">e_attr_blk_ids</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">e_attr_name</span> <span class="o">=</span> <span class="n">item</span>
            <span class="n">e_attr_blk_ids</span> <span class="o">=</span> <span class="n">blk_ids</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning additional element attribute item </span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2"> is not right type to add.&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;should be a string or tuple, skipping&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">blk_id</span> <span class="ow">in</span> <span class="n">e_attr_blk_ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">blk_id</span> <span class="ow">in</span> <span class="n">blk_ids</span><span class="p">:</span>
                <span class="n">e_attr_names</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e_attr_name</span><span class="p">)</span>
                <span class="c1"># Concatenate all element attribute values into a single big list,</span>
                <span class="c1"># because that is format required by exo.put_elem_attr().</span>
                <span class="n">e_attr_vals</span><span class="p">[</span><span class="n">blk_id</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mf">0.0</span><span class="p">]</span> <span class="o">*</span> <span class="n">blk_num_elem</span><span class="p">[</span><span class="n">blk_id</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Element Data&quot;</span><span class="p">)</span>
    <span class="n">blkIds</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">blkId</span> <span class="ow">in</span> <span class="n">blkIds</span><span class="p">:</span>
        <span class="p">(</span><span class="n">elemType</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">,</span> <span class="n">_oldnumAttr</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">elem_blk_info</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">numAttr</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">e_attr_names</span><span class="p">[</span><span class="n">blkId</span><span class="p">])</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">put_elem_blk_info</span><span class="p">(</span><span class="n">blkId</span><span class="p">,</span> <span class="n">elemType</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">,</span> <span class="n">numAttr</span><span class="p">)</span>
        <span class="p">(</span><span class="n">connectivity</span><span class="p">,</span> <span class="n">numElem</span><span class="p">,</span> <span class="n">nodesPerElem</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_elem_connectivity</span><span class="p">(</span><span class="n">blkId</span><span class="p">)</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">put_elem_connectivity</span><span class="p">(</span><span class="n">blkId</span><span class="p">,</span> <span class="n">connectivity</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">numAttr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_attribute_names</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">e_attr_names</span><span class="p">[</span><span class="n">blkId</span><span class="p">])</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_elem_attr</span><span class="p">(</span><span class="n">blkId</span><span class="p">,</span> <span class="n">e_attr_vals</span><span class="p">[</span><span class="n">blkId</span><span class="p">])</span>
        <span class="n">elemProps</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_element_property_names</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">elemProp</span> <span class="ow">in</span> <span class="n">elemProps</span><span class="p">:</span>
            <span class="n">propVal</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_element_property_value</span><span class="p">(</span><span class="n">blkId</span><span class="p">,</span> <span class="n">elemProp</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">elemProp</span> <span class="o">==</span> <span class="s2">&quot;ID&quot;</span> <span class="ow">and</span> <span class="n">propVal</span> <span class="o">==</span> <span class="n">blkId</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">exo_to</span><span class="o">.</span><span class="n">put_element_property_value</span><span class="p">(</span><span class="n">blkId</span><span class="p">,</span> <span class="n">elemProp</span><span class="p">,</span> <span class="n">propVal</span><span class="p">)</span>
        <span class="n">blockName</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blkId</span><span class="p">)</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">put_name</span><span class="p">(</span><span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span> <span class="n">blockName</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Element Id Map&quot;</span><span class="p">)</span>
    <span class="n">elemIdMap</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_elem_id_map</span><span class="p">()</span>
    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_elem_id_map</span><span class="p">(</span><span class="n">elemIdMap</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Node Sets&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">num_node_sets</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">nodeSetProps</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_node_set_property_names</span><span class="p">()</span>
        <span class="n">nodeSetIds</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nsId</span> <span class="ow">in</span> <span class="n">nodeSetIds</span><span class="p">:</span>
            <span class="p">(</span><span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_set_params</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">nsId</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_node_set_params</span><span class="p">(</span><span class="n">nsId</span><span class="p">,</span> <span class="n">numSetNodes</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span>
            <span class="n">nsNodes</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_node_set_nodes</span><span class="p">(</span><span class="n">nsId</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_node_set</span><span class="p">(</span><span class="n">nsId</span><span class="p">,</span> <span class="n">nsNodes</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">numSetDistFacts</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nsDF</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_node_set_dist_facts</span><span class="p">(</span><span class="n">nsId</span><span class="p">)</span>
                <span class="n">exo_to</span><span class="o">.</span><span class="n">put_node_set_dist_fact</span><span class="p">(</span><span class="n">nsId</span><span class="p">,</span> <span class="n">nsDF</span><span class="p">)</span>
            <span class="n">nodeSetName</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">nsId</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_name</span><span class="p">(</span><span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">nsId</span><span class="p">,</span> <span class="n">nodeSetName</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">nodeSetProp</span> <span class="ow">in</span> <span class="n">nodeSetProps</span><span class="p">:</span>
                <span class="n">propVal</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_node_set_property_value</span><span class="p">(</span>
                    <span class="n">nsId</span><span class="p">,</span> <span class="n">nodeSetProp</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">nodeSetProp</span> <span class="o">==</span> <span class="s2">&quot;ID&quot;</span> <span class="ow">and</span> <span class="n">propVal</span> <span class="o">==</span> <span class="n">nsId</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_node_set_property_value</span><span class="p">(</span>
                        <span class="n">nsId</span><span class="p">,</span> <span class="n">nodeSetProp</span><span class="p">,</span> <span class="n">propVal</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Side Sets&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">num_side_sets</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">sideSetProps</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_side_set_property_names</span><span class="p">()</span>
        <span class="n">sideSetIds</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ssId</span> <span class="ow">in</span> <span class="n">sideSetIds</span><span class="p">:</span>
            <span class="p">(</span><span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_set_params</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">ssId</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_side_set_params</span><span class="p">(</span><span class="n">ssId</span><span class="p">,</span> <span class="n">numSetSides</span><span class="p">,</span> <span class="n">numSetDistFacts</span><span class="p">)</span>
            <span class="p">(</span><span class="n">elemList</span><span class="p">,</span> <span class="n">sideList</span><span class="p">)</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_side_set</span><span class="p">(</span><span class="n">ssId</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_side_set</span><span class="p">(</span><span class="n">ssId</span><span class="p">,</span> <span class="n">elemList</span><span class="p">,</span> <span class="n">sideList</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">numSetDistFacts</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ssDF</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_side_set_dist_fact</span><span class="p">(</span><span class="n">ssId</span><span class="p">)</span>
                <span class="n">exo_to</span><span class="o">.</span><span class="n">put_side_set_dist_fact</span><span class="p">(</span><span class="n">ssId</span><span class="p">,</span> <span class="n">ssDF</span><span class="p">)</span>
            <span class="n">sideSetName</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_name</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">ssId</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_name</span><span class="p">(</span><span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">ssId</span><span class="p">,</span> <span class="n">sideSetName</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">sideSetProp</span> <span class="ow">in</span> <span class="n">sideSetProps</span><span class="p">:</span>
                <span class="n">propVal</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_side_set_property_value</span><span class="p">(</span>
                    <span class="n">ssId</span><span class="p">,</span> <span class="n">sideSetProp</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">sideSetProp</span> <span class="o">==</span> <span class="s2">&quot;ID&quot;</span> <span class="ow">and</span> <span class="n">propVal</span> <span class="o">==</span> <span class="n">ssId</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_side_set_property_value</span><span class="p">(</span>
                        <span class="n">ssId</span><span class="p">,</span> <span class="n">sideSetProp</span><span class="p">,</span> <span class="n">propVal</span><span class="p">)</span>

    <span class="c1"># If the user did not supply an exodus object to copy from, then close the</span>
    <span class="c1"># database.</span>
    <span class="k">if</span> <span class="n">exoFromObj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">exoFrom</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">exo_to</span></div>


<div class="viewcode-block" id="transfer_variables"><a class="viewcode-back" href="../exodus3.html#exodus3.transfer_variables">[docs]</a><span class="k">def</span> <span class="nf">transfer_variables</span><span class="p">(</span><span class="n">exoFrom</span><span class="p">,</span> <span class="n">exo_to</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="s1">&#39;ctype&#39;</span><span class="p">,</span> <span class="n">additionalGlobalVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalNodalVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalElementVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalNodeSetVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalSideSetVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function transfers variables from `exoFrom` to `exo_to` and allows</span>
<span class="sd">    additional variables to be added with `additionalGlobalVariables`,</span>
<span class="sd">    `additionalNodalVariables`, and `additionalElementVariables`.  Additional</span>
<span class="sd">    variables values are set to their defaults so that the user can populate</span>
<span class="sd">    them later.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    exoFrom : exodus database object</span>
<span class="sd">        exodus object to transfer from</span>

<span class="sd">    exo_to : exodus database object</span>
<span class="sd">        exodus object to transfer to</span>

<span class="sd">    additionalGlobalVariables : list</span>
<span class="sd">        list of global variable names to add.</span>

<span class="sd">    additionalNodalVariables : list</span>
<span class="sd">        list of nodal variable names to add.</span>

<span class="sd">    additionalElementVariables : list</span>
<span class="sd">        should be a list of element variable names to add to all blocks or</span>
<span class="sd">        tuples `(name, blkIds)` where `name` is the element variable to add</span>
<span class="sd">        and `blkIds` is a list of block ids to add it to.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">additionalGlobalVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalGlobalVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalNodalVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalNodalVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalElementVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalElementVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalNodeSetVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalNodeSetVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalSideSetVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalSideSetVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># IDEA: It may make sense to make transfer_variables() strictly transfer</span>
    <span class="c1"># variables, and use add_variables() to add new variables.  Alternatively,</span>
    <span class="c1"># add_variables() could be called within transfer_variables() to add</span>
    <span class="c1"># new variables to the exo_to database.  Either way, we should minimize</span>
    <span class="c1"># duplicate code if possible.</span>

    <span class="n">debugPrint</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additionalGlobalVariables</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: additionalGlobalVariables is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additionalNodalVariables</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: additionalNodalVariables is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additionalElementVariables</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: additionalElementVariables is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additionalNodeSetVariables</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: additionalNodeSetVariables is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">additionalSideSetVariables</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: additionalSideSetVariables is not a list.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer Info records&quot;</span><span class="p">)</span>
    <span class="n">numInfoRecs</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">num_info_records</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">numInfoRecs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">infoRecs</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_info_records</span><span class="p">()</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">put_info_records</span><span class="p">(</span><span class="n">infoRecs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Transfer time values&quot;</span><span class="p">)</span>

    <span class="n">nSteps</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">num_times</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">nSteps</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">exo_to</span>

    <span class="n">timeVals</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_times</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSteps</span><span class="p">):</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">put_time</span><span class="p">(</span><span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">timeVals</span><span class="p">[</span><span class="n">step</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add Global Variables&quot;</span><span class="p">)</span>
    <span class="n">nNewGlobalVars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">additionalGlobalVariables</span><span class="p">)</span>
    <span class="n">nGlobalVars</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">nNewGlobalVars</span>
    <span class="n">defaultNewVarVals</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nNewGlobalVars</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">nGlobalVars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">set_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="n">nGlobalVars</span><span class="p">)</span>
        <span class="n">gVarNames</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
        <span class="n">gVarNames</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">additionalGlobalVariables</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nameIndex</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nGlobalVars</span><span class="p">):</span>
            <span class="n">globalVarName</span> <span class="o">=</span> <span class="n">gVarNames</span><span class="p">[</span><span class="n">nameIndex</span><span class="p">]</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="n">globalVarName</span><span class="p">,</span> <span class="n">nameIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSteps</span><span class="p">):</span>
            <span class="n">gValues</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_all_global_variable_values</span><span class="p">(</span><span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">array_type</span> <span class="o">==</span> <span class="s1">&#39;numpy&#39;</span><span class="p">:</span>
                <span class="n">gValues</span> <span class="o">=</span> <span class="n">exo_to</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gValues</span><span class="p">,</span> <span class="n">defaultNewVarVals</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">gValues</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">defaultNewVarVals</span><span class="p">)</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_all_global_variable_values</span><span class="p">(</span><span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">gValues</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add Nodal Variables&quot;</span><span class="p">)</span>
    <span class="n">nNewNodalVars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">additionalNodalVariables</span><span class="p">)</span>
    <span class="n">nOrigNodalVars</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
    <span class="n">nNodalVars</span> <span class="o">=</span> <span class="n">nOrigNodalVars</span> <span class="o">+</span> <span class="n">nNewNodalVars</span>
    <span class="k">if</span> <span class="n">nNodalVars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">set_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">nNodalVars</span><span class="p">)</span>
        <span class="n">nVarNames</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
        <span class="n">nVarNames</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">additionalNodalVariables</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nameIndex</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nNodalVars</span><span class="p">):</span>
            <span class="n">nodalVarName</span> <span class="o">=</span> <span class="n">nVarNames</span><span class="p">[</span><span class="n">nameIndex</span><span class="p">]</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">nodalVarName</span><span class="p">,</span> <span class="n">nameIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">nameIndex</span> <span class="o">&lt;</span> <span class="n">nOrigNodalVars</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSteps</span><span class="p">):</span>
                    <span class="n">nValues</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_node_variable_values</span><span class="p">(</span>
                        <span class="n">nodalVarName</span><span class="p">,</span> <span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">exo_to</span><span class="o">.</span><span class="n">put_node_variable_values</span><span class="p">(</span>
                        <span class="n">nodalVarName</span><span class="p">,</span> <span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nValues</span><span class="p">)</span>

    <span class="n">internal_transfer_variables</span><span class="p">(</span><span class="n">exoFrom</span><span class="p">,</span> <span class="n">exo_to</span><span class="p">,</span> <span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">additionalElementVariables</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">)</span>
    <span class="n">internal_transfer_variables</span><span class="p">(</span><span class="n">exoFrom</span><span class="p">,</span> <span class="n">exo_to</span><span class="p">,</span> <span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">additionalNodeSetVariables</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">)</span>
    <span class="n">internal_transfer_variables</span><span class="p">(</span><span class="n">exoFrom</span><span class="p">,</span> <span class="n">exo_to</span><span class="p">,</span> <span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">additionalSideSetVariables</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">exo_to</span></div>


<div class="viewcode-block" id="internal_transfer_variables"><a class="viewcode-back" href="../exodus3.html#exodus3.internal_transfer_variables">[docs]</a><span class="k">def</span> <span class="nf">internal_transfer_variables</span><span class="p">(</span><span class="n">exoFrom</span><span class="p">,</span> <span class="n">exo_to</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">additionalVariables</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Internal support function for `exodus.transfer_variables` &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Construct Truth Table for additionalVariables&quot;</span><span class="p">)</span>
    <span class="n">blkIds</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
    <span class="n">numBlks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">blkIds</span><span class="p">)</span>
    <span class="n">newVariableNames</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">newVariableBlocks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">additionalVariables</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">newVariableNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">inBlks</span> <span class="o">=</span> <span class="p">[</span><span class="n">blkId</span> <span class="k">for</span> <span class="n">blkId</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">blkId</span> <span class="ow">in</span> <span class="n">blkIds</span><span class="p">]</span>
            <span class="n">newVariableBlocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inBlks</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">newVariableNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="n">newVariableBlocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">blkIds</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;Warning additionalVariable item &quot;</span><span class="p">,</span>
                   <span class="n">item</span><span class="p">,</span> <span class="s2">&quot; is not right type to add.&quot;</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;should be a string or tuple, skipping&quot;</span><span class="p">)</span>

    <span class="n">nSteps</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">num_times</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add Variables&quot;</span><span class="p">)</span>
    <span class="n">nNewVars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">newVariableNames</span><span class="p">)</span>
    <span class="n">nOrigVars</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
    <span class="n">nVars</span> <span class="o">=</span> <span class="n">nOrigVars</span> <span class="o">+</span> <span class="n">nNewVars</span>
    <span class="k">if</span> <span class="n">nVars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">set_variable_number</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">nVars</span><span class="p">)</span>
        <span class="n">origVarNames</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_names</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
        <span class="n">origVarNames</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">newVariableNames</span><span class="p">)</span>
        <span class="n">truthTable</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">nOrigVars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">truthTable</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_truth_table</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nNewVars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">newTruth</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numBlks</span><span class="p">):</span>

                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nOrigVars</span><span class="p">):</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="n">j</span> <span class="o">*</span> <span class="n">nOrigVars</span> <span class="o">+</span> <span class="n">k</span>
                    <span class="n">newTruth</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">truthTable</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nNewVars</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">blkIds</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">newVariableBlocks</span><span class="p">[</span><span class="n">m</span><span class="p">]:</span>
                        <span class="n">newTruth</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">newTruth</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">truthTable</span> <span class="o">=</span> <span class="n">newTruth</span>
        <span class="n">exo_to</span><span class="o">.</span><span class="n">set_variable_truth_table</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">truthTable</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">nameIndex</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nVars</span><span class="p">):</span>
            <span class="n">varName</span> <span class="o">=</span> <span class="n">origVarNames</span><span class="p">[</span><span class="n">nameIndex</span><span class="p">]</span>
            <span class="n">exo_to</span><span class="o">.</span><span class="n">put_variable_name</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">varName</span><span class="p">,</span> <span class="n">nameIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">truthIndex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">blkId</span> <span class="ow">in</span> <span class="n">blkIds</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">origVarName</span> <span class="ow">in</span> <span class="n">origVarNames</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">truthTable</span><span class="p">[</span><span class="n">truthIndex</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSteps</span><span class="p">):</span>
                        <span class="n">eValues</span> <span class="o">=</span> <span class="n">exoFrom</span><span class="o">.</span><span class="n">get_variable_values</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span>
                                                              <span class="n">origVarName</span><span class="p">,</span> <span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="n">exo_to</span><span class="o">.</span><span class="n">put_variable_values</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">blkId</span><span class="p">,</span>
                                                   <span class="n">origVarName</span><span class="p">,</span> <span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eValues</span><span class="p">)</span>
                <span class="n">truthIndex</span> <span class="o">=</span> <span class="n">truthIndex</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">truthIndex</span> <span class="o">=</span> <span class="n">truthIndex</span> <span class="o">+</span> <span class="n">nNewVars</span></div>


<div class="viewcode-block" id="add_variables"><a class="viewcode-back" href="../exodus3.html#exodus3.add_variables">[docs]</a><span class="k">def</span> <span class="nf">add_variables</span><span class="p">(</span><span class="n">exo</span><span class="p">,</span> <span class="n">global_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nodal_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">element_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">node_set_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">side_set_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function adds variables to the exodus object.  The values of the</span>
<span class="sd">    variables are set to their defaults so that the user can populate them later.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    exo : exodus database object</span>
<span class="sd">        Exodus database that variables will be added to.</span>
<span class="sd">    global_vars : list</span>
<span class="sd">        global variable names to add.</span>
<span class="sd">    nodal_vars : list</span>
<span class="sd">        nodal variable names to add.</span>
<span class="sd">    element_vars : list</span>
<span class="sd">        list of element variable names to add to all blocks or tuples</span>
<span class="sd">        ( name, blkIds ) where name is the element variable to add and blkIds is</span>
<span class="sd">        a list of blkIds to add it to.</span>
<span class="sd">    node_set_vars : list</span>
<span class="sd">        list of node set variable names to add to all sets or tuples</span>
<span class="sd">        ( name, setIds ) where name is the node set variable to add and `setIds` is</span>
<span class="sd">        a list of `setIds` to add it to.</span>
<span class="sd">    side_set_vars : list</span>
<span class="sd">        list of side set variable names to add to all sets or tuples</span>
<span class="sd">        ( name, setIds ) where name is the side set variable to add and `setIds` is</span>
<span class="sd">        a list of `setIds` to add it to.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    exo : exodus database object</span>
<span class="sd">        Exodus database with variables added to it.  (The values of the variables</span>
<span class="sd">        are set to their defaults so that the user can populate them later.)</span>

<span class="sd">    Note</span>
<span class="sd">    -----</span>
<span class="sd">    This function does not allow one to add element attributes to an exodus</span>
<span class="sd">    database.  See `exodus.copy_mesh` function for that capability.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">global_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">global_vars</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">nodal_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">nodal_vars</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">element_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">element_vars</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">node_set_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">node_set_vars</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">side_set_vars</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">side_set_vars</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">debugPrint</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">global_vars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: global_vars is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nodal_vars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: nodal_vars is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element_vars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: element_vars is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node_set_vars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: node_set_vars is not a list.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">side_set_vars</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;ERROR: side_set_vars is not a list.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exo</span><span class="o">.</span><span class="n">modeChar</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
            <span class="s2">&quot;ERROR: variables cannot be added to an exodus object in read only mode&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add Global Variables&quot;</span><span class="p">)</span>
    <span class="n">n_new_vars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">global_vars</span><span class="p">)</span>
    <span class="n">n_old_vars</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">)</span>
    <span class="n">n_vars</span> <span class="o">=</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="n">n_new_vars</span>
    <span class="n">default_vals</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_new_vars</span>
    <span class="k">if</span> <span class="n">n_new_vars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">exo</span><span class="o">.</span><span class="n">set_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="n">n_vars</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">global_vars</span><span class="p">):</span>
            <span class="n">exo</span><span class="o">.</span><span class="n">put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_GLOBAL&#39;</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="c1"># One might wish to put all the values for a given global variable in the</span>
        <span class="c1"># database at once, but exo.put_global_variable_value() ends up loading</span>
        <span class="c1"># all the global variables for a given step and then putting them all back</span>
        <span class="c1"># in, so we might as well just use</span>
        <span class="c1"># exo.put_all_global_variable_values().</span>
        <span class="n">nSteps</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">num_times</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nSteps</span><span class="p">):</span>
            <span class="n">gValues</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_all_global_variable_values</span><span class="p">(</span><span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">exo</span><span class="o">.</span><span class="n">use_numpy</span><span class="p">:</span>
                <span class="n">gValues</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gValues</span><span class="p">,</span> <span class="n">default_vals</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">gValues</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">default_vals</span><span class="p">)</span>
            <span class="n">exo</span><span class="o">.</span><span class="n">put_all_global_variable_values</span><span class="p">(</span><span class="n">step</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">gValues</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add Nodal Variables&quot;</span><span class="p">)</span>
    <span class="n">n_new_vars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodal_vars</span><span class="p">)</span>
    <span class="n">n_old_vars</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">)</span>
    <span class="n">n_vars</span> <span class="o">=</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="n">n_new_vars</span>
    <span class="k">if</span> <span class="n">n_new_vars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">exo</span><span class="o">.</span><span class="n">set_variable_number</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">n_vars</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nodal_vars</span><span class="p">):</span>
            <span class="n">exo</span><span class="o">.</span><span class="n">put_variable_name</span><span class="p">(</span><span class="s1">&#39;EX_NODAL&#39;</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">internal_add_variables</span><span class="p">(</span><span class="n">exo</span><span class="p">,</span> <span class="s1">&#39;EX_ELEM_BLOCK&#39;</span><span class="p">,</span> <span class="n">element_vars</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">)</span>
    <span class="n">internal_add_variables</span><span class="p">(</span><span class="n">exo</span><span class="p">,</span> <span class="s1">&#39;EX_NODE_SET&#39;</span><span class="p">,</span> <span class="n">node_set_vars</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">)</span>
    <span class="n">internal_add_variables</span><span class="p">(</span><span class="n">exo</span><span class="p">,</span> <span class="s1">&#39;EX_SIDE_SET&#39;</span><span class="p">,</span> <span class="n">side_set_vars</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">exo</span></div>


<div class="viewcode-block" id="internal_add_variables"><a class="viewcode-back" href="../exodus3.html#exodus3.internal_add_variables">[docs]</a><span class="k">def</span> <span class="nf">internal_add_variables</span><span class="p">(</span><span class="n">exo</span><span class="p">,</span> <span class="n">obj_type</span><span class="p">,</span> <span class="n">entvars</span><span class="p">,</span> <span class="n">debugPrint</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Internal support function for `exodus.add_variables` &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entvars</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Construct Truth Table for additional variables&quot;</span><span class="p">)</span>

    <span class="n">new_var_blks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">blk_ids</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_ids</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
    <span class="n">new_var_names</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">entvars</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">new_var_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">in_blks</span> <span class="o">=</span> <span class="p">[</span><span class="n">blk_id</span> <span class="k">for</span> <span class="n">blk_id</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">blk_id</span> <span class="ow">in</span> <span class="n">blk_ids</span><span class="p">]</span>
            <span class="n">new_var_blks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">in_blks</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">new_var_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="n">new_var_blks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">blk_ids</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning additional variable item </span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2"> is not right type to add.&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;should be a string or tuple, skipping&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">debugPrint</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Add Variables&quot;</span><span class="p">)</span>
    <span class="n">n_new_vars</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_var_names</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_new_vars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">n_old_vars</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_variable_number</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
        <span class="n">n_vars</span> <span class="o">=</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="n">n_new_vars</span>
        <span class="n">exo</span><span class="o">.</span><span class="n">set_variable_number</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">n_vars</span><span class="p">)</span>
        <span class="n">old_truth_table</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">n_old_vars</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">old_truth_table</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_variable_truth_table</span><span class="p">(</span><span class="n">obj_type</span><span class="p">)</span>
        <span class="n">truth_table</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">n_blks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">blk_ids</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_blks</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_old_vars</span><span class="p">):</span>
                <span class="n">ndx</span> <span class="o">=</span> <span class="n">j</span> <span class="o">*</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="n">k</span>
                <span class="n">truth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">old_truth_table</span><span class="p">[</span><span class="n">ndx</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_new_vars</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">blk_ids</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">new_var_blks</span><span class="p">[</span><span class="n">m</span><span class="p">]:</span>
                    <span class="n">truth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">truth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">exo</span><span class="o">.</span><span class="n">set_variable_truth_table</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">truth_table</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">new_var_names</span><span class="p">):</span>
            <span class="n">exo</span><span class="o">.</span><span class="n">put_variable_name</span><span class="p">(</span><span class="n">obj_type</span><span class="p">,</span> <span class="n">var_name</span><span class="p">,</span> <span class="n">n_old_vars</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="copyTransfer"><a class="viewcode-back" href="../exodus3.html#exodus3.copyTransfer">[docs]</a><span class="k">def</span> <span class="nf">copyTransfer</span><span class="p">(</span><span class="n">fromFileName</span><span class="p">,</span> <span class="n">toFileName</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="s1">&#39;ctype&#39;</span><span class="p">,</span> <span class="n">additionalGlobalVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalNodalVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalElementVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalNodeSetVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalSideSetVariables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">additionalElementAttributes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function creates an exodus file `toFileName` and copies</span>
<span class="sd">    everything from exodus file `fromFileName` returning a file handle</span>
<span class="sd">    to `toFileName`.</span>

<span class="sd">    Additional space is allocated for `additionalGlobalVariables`,</span>
<span class="sd">    `additionalNodalVariables` and `additionalElementVariables` if</span>
<span class="sd">    specified.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    fromFileName : string</span>
<span class="sd">        File name of the exodus mesh to be copied</span>
<span class="sd">    toFileName : string</span>
<span class="sd">        File name of the new exodus mesh</span>
<span class="sd">    array_type : &#39;ctype&#39; | &#39;numpy&#39;</span>
<span class="sd">        Specifies whether arrays will be imported and copied as ctype or numpy</span>
<span class="sd">        arrays.  (This option should make no difference to the user, but it can</span>
<span class="sd">        be used by developers to test whether the commands within this function</span>
<span class="sd">        handle both array types correctly.)</span>
<span class="sd">    additionalGlobalVariables : list</span>
<span class="sd">        list of global variable names to add.</span>
<span class="sd">    additionalNodalVariables: list</span>
<span class="sd">        list of nodal variable names to add.</span>
<span class="sd">    additionalElementVariables: list</span>
<span class="sd">        should be a list of element variable</span>
<span class="sd">        names to add to all blocks or tuples (name, blkIds) where name is</span>
<span class="sd">        the element variable to add and blkIds is a list of blkIds to add</span>
<span class="sd">        it to.</span>
<span class="sd">    additionalElementAttributes: list</span>
<span class="sd">        list of element attribute names to</span>
<span class="sd">        add to all blocks or tuples ( name, blkIds ) where name is the</span>
<span class="sd">        element attribute to add and blkIds is a list of blkIds to add it</span>
<span class="sd">        to.</span>


<span class="sd">    &gt;&gt;&gt; fromFileName = &quot;input.e&quot;</span>
<span class="sd">    &gt;&gt;&gt; toFileName = &quot;output.e&quot;</span>
<span class="sd">    &gt;&gt;&gt; addGlobalVariables = [] ## Do not add any new global variables</span>
<span class="sd">    &gt;&gt;&gt; ## Add node_dummy1 and node_dummy2 as new node variables</span>
<span class="sd">    &gt;&gt;&gt; addNodeVariables = [&quot;node_dummy1&quot;, &quot;node_dummy2&quot;]</span>
<span class="sd">    &gt;&gt;&gt; ## Add elem_dummy1 on blkIds 1, 2, 3 and elem_dummy2 on all blocks</span>
<span class="sd">    &gt;&gt;&gt; addElementVariables = [ (&quot;elem_dummy1&quot;, [1, 2, 3]), &quot;elem_dummy2&quot; ]</span>
<span class="sd">    &gt;&gt;&gt; ## Add elem_attr_dummy1 on blkIds 1,2,3 and elem_attr_dummy2 on all blocks</span>
<span class="sd">    &gt;&gt;&gt; addElementAttributes = [ (&quot;elem_attr_dummy1&quot;,[1,2,3]), &quot;elem_attr_dummy2&quot; ]</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; toFileHandle = copyTransfer(fromFileName,toFileName,addGlobalVariables,addNodeVariables,</span>
<span class="sd">    ...                             addElementVariables,addElementAttributes)</span>
<span class="sd">    ...</span>
<span class="sd">    &gt;&gt;&gt; ## Fill in new variables</span>
<span class="sd">    ...</span>
<span class="sd">    &gt;&gt;&gt; toFileHandle.close()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">additionalGlobalVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalGlobalVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalNodalVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalNodalVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalElementVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalElementVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalNodeSetVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalNodeSetVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalSideSetVariables</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalSideSetVariables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">additionalElementAttributes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">additionalElementAttributes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="n">exodus</span><span class="p">(</span><span class="n">fromFileName</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="n">array_type</span><span class="p">)</span> <span class="k">as</span> <span class="n">exoFrom</span><span class="p">:</span>
        <span class="n">exo_to</span> <span class="o">=</span> <span class="n">copy_mesh</span><span class="p">(</span><span class="n">fromFileName</span><span class="p">,</span> <span class="n">toFileName</span><span class="p">,</span> <span class="n">exoFromObj</span><span class="o">=</span><span class="n">exoFrom</span><span class="p">,</span>
                           <span class="n">additionalElementAttributes</span><span class="o">=</span><span class="n">additionalElementAttributes</span><span class="p">,</span>
                           <span class="n">array_type</span><span class="o">=</span><span class="n">array_type</span><span class="p">)</span>

        <span class="n">exo_to</span> <span class="o">=</span> <span class="n">transfer_variables</span><span class="p">(</span>
            <span class="n">exoFrom</span><span class="p">,</span>
            <span class="n">exo_to</span><span class="p">,</span>
            <span class="n">additionalGlobalVariables</span><span class="o">=</span><span class="n">additionalGlobalVariables</span><span class="p">,</span>
            <span class="n">additionalNodalVariables</span><span class="o">=</span><span class="n">additionalNodalVariables</span><span class="p">,</span>
            <span class="n">additionalElementVariables</span><span class="o">=</span><span class="n">additionalElementVariables</span><span class="p">,</span>
            <span class="n">additionalNodeSetVariables</span><span class="o">=</span><span class="n">additionalNodeSetVariables</span><span class="p">,</span>
            <span class="n">additionalSideSetVariables</span><span class="o">=</span><span class="n">additionalSideSetVariables</span><span class="p">,</span>
            <span class="n">array_type</span><span class="o">=</span><span class="n">array_type</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">exo_to</span></div>


<div class="viewcode-block" id="ctype_to_numpy"><a class="viewcode-back" href="../exodus3.html#exodus3.ctype_to_numpy">[docs]</a><span class="k">def</span> <span class="nf">ctype_to_numpy</span><span class="p">(</span><span class="n">exo</span><span class="p">,</span> <span class="n">c_array</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts a c-type array into a numpy array</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    exo : exodus object</span>
<span class="sd">        exodus database object initialized with the option `array_type = &#39;numpy&#39;`</span>
<span class="sd">    c_array : c-type array</span>
<span class="sd">        c-type array to be converted into a numpy array</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np_array : numpy array</span>
<span class="sd">        Numpy array converted from c-type array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># ctypes currently produce invalid PEP 3118 type codes, which causes numpy</span>
    <span class="c1"># to issue a warning.  This is a bug and can be ignored.</span>
    <span class="c1"># http://stackoverflow.com/questions/4964101/pep-3118-warning-when-using-ctypes-array-as-numpy-array</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">c_array</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">exo</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">with</span> <span class="n">exo</span><span class="o">.</span><span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
        <span class="n">exo</span><span class="o">.</span><span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
        <span class="n">np_array</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">ctypeslib</span><span class="o">.</span><span class="n">as_array</span><span class="p">(</span><span class="n">c_array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np_array</span></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Greg.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>